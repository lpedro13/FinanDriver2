function vk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function IT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RT={exports:{}},sh={},AT={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=Symbol.for("react.element"),yk=Symbol.for("react.portal"),wk=Symbol.for("react.fragment"),_k=Symbol.for("react.strict_mode"),Ek=Symbol.for("react.profiler"),xk=Symbol.for("react.provider"),Tk=Symbol.for("react.context"),Sk=Symbol.for("react.forward_ref"),Ck=Symbol.for("react.suspense"),bk=Symbol.for("react.memo"),Pk=Symbol.for("react.lazy"),uw=Symbol.iterator;function Ik(t){return t===null||typeof t!="object"?null:(t=uw&&t[uw]||t["@@iterator"],typeof t=="function"?t:null)}var kT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NT=Object.assign,DT={};function Zo(t,e,n){this.props=t,this.context=e,this.refs=DT,this.updater=n||kT}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OT(){}OT.prototype=Zo.prototype;function kg(t,e,n){this.props=t,this.context=e,this.refs=DT,this.updater=n||kT}var Ng=kg.prototype=new OT;Ng.constructor=kg;NT(Ng,Zo.prototype);Ng.isPureReactComponent=!0;var dw=Array.isArray,MT=Object.prototype.hasOwnProperty,Dg={current:null},VT={key:!0,ref:!0,__self:!0,__source:!0};function LT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)MT.call(e,r)&&!VT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zl,type:t,key:s,ref:o,props:i,_owner:Dg.current}}function Rk(t,e){return{$$typeof:Zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Og(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zl}function Ak(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hw=/\/+/g;function Pf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ak(""+t.key):e.toString(36)}function bu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zl:case yk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Pf(o,0):r,dw(i)?(n="",t!=null&&(n=t.replace(hw,"$&/")+"/"),bu(i,e,n,"",function(c){return c})):i!=null&&(Og(i)&&(i=Rk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(hw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",dw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Pf(s,a);o+=bu(s,e,n,l,i)}else if(l=Ik(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Pf(s,a++),o+=bu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zc(t,e,n){if(t==null)return t;var r=[],i=0;return bu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},Pu={transition:null},Nk={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Pu,ReactCurrentOwner:Dg};function jT(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:zc,forEach:function(t,e,n){zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zc(t,function(){e++}),e},toArray:function(t){return zc(t,function(e){return e})||[]},only:function(t){if(!Og(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Zo;ue.Fragment=wk;ue.Profiler=Ek;ue.PureComponent=kg;ue.StrictMode=_k;ue.Suspense=Ck;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nk;ue.act=jT;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Dg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MT.call(e,l)&&!VT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Zl,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:Tk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xk,_context:t},t.Consumer=t};ue.createElement=LT;ue.createFactory=function(t){var e=LT.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Sk,render:t}};ue.isValidElement=Og;ue.lazy=function(t){return{$$typeof:Pk,_payload:{_status:-1,_result:t},_init:kk}};ue.memo=function(t,e){return{$$typeof:bk,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Pu.transition;Pu.transition={};try{t()}finally{Pu.transition=e}};ue.unstable_act=jT;ue.useCallback=function(t,e){return Kt.current.useCallback(t,e)};ue.useContext=function(t){return Kt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Kt.current.useEffect(t,e)};ue.useId=function(){return Kt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Kt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};ue.useRef=function(t){return Kt.current.useRef(t)};ue.useState=function(t){return Kt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Kt.current.useTransition()};ue.version="18.3.1";AT.exports=ue;var g=AT.exports;const se=IT(g),oh=vk({__proto__:null,default:se},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dk=g,Ok=Symbol.for("react.element"),Mk=Symbol.for("react.fragment"),Vk=Object.prototype.hasOwnProperty,Lk=Dk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jk={key:!0,ref:!0,__self:!0,__source:!0};function FT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Vk.call(e,r)&&!jk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ok,type:t,key:s,ref:o,props:i,_owner:Lk.current}}sh.Fragment=Mk;sh.jsx=FT;sh.jsxs=FT;RT.exports=sh;var v=RT.exports,jp={},$T={exports:{}},hn={},UT={exports:{}},BT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,z){var K=j.length;j.push(z);e:for(;0<K;){var Y=K-1>>>1,te=j[Y];if(0<i(te,z))j[Y]=z,j[K]=te,K=Y;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],K=j.pop();if(K!==z){j[0]=K;e:for(var Y=0,te=j.length,ne=te>>>1;Y<ne;){var Se=2*(Y+1)-1,Me=j[Se],Ve=Se+1,J=j[Ve];if(0>i(Me,K))Ve<te&&0>i(J,Me)?(j[Y]=J,j[Ve]=K,Y=Ve):(j[Y]=Me,j[Se]=K,Y=Se);else if(Ve<te&&0>i(J,K))j[Y]=J,j[Ve]=K,Y=Ve;else break e}}return z}function i(j,z){var K=j.sortIndex-z.sortIndex;return K!==0?K:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,E=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=j)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function I(j){if(w=!1,T(j),!E)if(n(l)!==null)E=!0,W(O);else{var z=n(c);z!==null&&X(I,z.startTime-j)}}function O(j,z){E=!1,w&&(w=!1,x(C),C=-1),m=!0;var K=f;try{for(T(z),h=n(l);h!==null&&(!(h.expirationTime>z)||j&&!N());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var te=Y(h.expirationTime<=z);z=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),T(z)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var Se=n(c);Se!==null&&X(I,Se.startTime-z),ne=!1}return ne}finally{h=null,f=K,m=!1}}var M=!1,b=null,C=-1,R=5,A=-1;function N(){return!(t.unstable_now()-A<R)}function D(){if(b!==null){var j=t.unstable_now();A=j;var z=!0;try{z=b(!0,j)}finally{z?k():(M=!1,b=null)}}else M=!1}var k;if(typeof y=="function")k=function(){y(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=D,k=function(){G.postMessage(null)}}else k=function(){S(D,0)};function W(j){b=j,M||(M=!0,k())}function X(j,z){C=S(function(){j(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){E||m||(E=!0,W(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var K=f;f=z;try{return j()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=f;f=j;try{return z()}finally{f=K}},t.unstable_scheduleCallback=function(j,z,K){var Y=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Y+K:Y):K=Y,j){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,j={id:d++,callback:z,priorityLevel:j,startTime:K,expirationTime:te,sortIndex:-1},K>Y?(j.sortIndex=K,e(c,j),n(l)===null&&j===n(c)&&(w?(x(C),C=-1):w=!0,X(I,K-Y))):(j.sortIndex=te,e(l,j),E||m||(E=!0,W(O))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var z=f;return function(){var K=f;f=z;try{return j.apply(this,arguments)}finally{f=K}}}})(BT);UT.exports=BT;var Fk=UT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k=g,cn=Fk;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zT=new Set,pl={};function As(t,e){Ao(t,e),Ao(t+"Capture",e)}function Ao(t,e){for(pl[t]=e,t=0;t<e.length;t++)zT.add(e[t])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,Uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fw={},pw={};function Bk(t){return Fp.call(pw,t)?!0:Fp.call(fw,t)?!1:Uk.test(t)?pw[t]=!0:(fw[t]=!0,!1)}function zk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wk(t,e,n,r){if(e===null||typeof e>"u"||zk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mg=/[\-:]([a-z])/g;function Vg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mg,Vg);xt[e]=new qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mg,Vg);xt[e]=new qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mg,Vg);xt[e]=new qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lg(t,e,n,r){var i=xt.hasOwnProperty(e)?xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wk(e,n,i,r)&&(n=null),r||i===null?Bk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $r=$k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),jg=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),WT=Symbol.for("react.provider"),HT=Symbol.for("react.context"),Fg=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),GT=Symbol.for("react.offscreen"),mw=Symbol.iterator;function ba(t){return t===null||typeof t!="object"?null:(t=mw&&t[mw]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,If;function $a(t){if(If===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);If=e&&e[1]||""}return`
`+If+t}var Rf=!1;function Af(t,e){if(!t||Rf)return"";Rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function Hk(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=Af(t.type,!1),t;case 11:return t=Af(t.type.render,!1),t;case 1:return t=Af(t.type,!0),t;default:return""}}function zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eo:return"Fragment";case Zs:return"Portal";case $p:return"Profiler";case jg:return"StrictMode";case Up:return"Suspense";case Bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HT:return(t.displayName||"Context")+".Consumer";case WT:return(t._context.displayName||"Context")+".Provider";case Fg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $g:return e=t.displayName||null,e!==null?e:zp(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return zp(t(e))}catch{}}return null}function Gk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(e);case 8:return e===jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kk(t){var e=KT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=Kk(t))}function qT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wp(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YT(t,e){e=e.checked,e!=null&&Lg(t,"checked",e,!1)}function Hp(t,e){YT(t,e);var n=Ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gp(t,e.type,Ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gp(t,e,n){(e!=="number"||Xu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ua=Array.isArray;function vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ua(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ai(n)}}function QT(t,e){var n=Ai(e.value),r=Ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ww(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,JT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qk=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(t){qk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qa[e]=Qa[t]})});function ZT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qa.hasOwnProperty(t)&&Qa[t]?(""+e).trim():e+"px"}function e1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ZT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Yk=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yp(t,e){if(e){if(Yk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function Ug(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jp=null,yo=null,wo=null;function _w(t){if(t=nc(t)){if(typeof Jp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=dh(e),Jp(t.stateNode,t.type,e))}}function t1(t){yo?wo?wo.push(t):wo=[t]:yo=t}function n1(){if(yo){var t=yo,e=wo;if(wo=yo=null,_w(t),e)for(t=0;t<e.length;t++)_w(e[t])}}function r1(t,e){return t(e)}function i1(){}var kf=!1;function s1(t,e,n){if(kf)return t(e,n);kf=!0;try{return r1(t,e,n)}finally{kf=!1,(yo!==null||wo!==null)&&(i1(),n1())}}function gl(t,e){var n=t.stateNode;if(n===null)return null;var r=dh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Zp=!1;if(br)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{Zp=!1}function Qk(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Xa=!1,Ju=null,Zu=!1,em=null,Xk={onError:function(t){Xa=!0,Ju=t}};function Jk(t,e,n,r,i,s,o,a,l){Xa=!1,Ju=null,Qk.apply(Xk,arguments)}function Zk(t,e,n,r,i,s,o,a,l){if(Jk.apply(this,arguments),Xa){if(Xa){var c=Ju;Xa=!1,Ju=null}else throw Error(B(198));Zu||(Zu=!0,em=c)}}function ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ew(t){if(ks(t)!==t)throw Error(B(188))}function eN(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ew(i),t;if(s===r)return Ew(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function a1(t){return t=eN(t),t!==null?l1(t):null}function l1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=l1(t);if(e!==null)return e;t=t.sibling}return null}var c1=cn.unstable_scheduleCallback,xw=cn.unstable_cancelCallback,tN=cn.unstable_shouldYield,nN=cn.unstable_requestPaint,Xe=cn.unstable_now,rN=cn.unstable_getCurrentPriorityLevel,Bg=cn.unstable_ImmediatePriority,u1=cn.unstable_UserBlockingPriority,ed=cn.unstable_NormalPriority,iN=cn.unstable_LowPriority,d1=cn.unstable_IdlePriority,ah=null,Kn=null;function sN(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(ah,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:lN,oN=Math.log,aN=Math.LN2;function lN(t){return t>>>=0,t===0?32:31-(oN(t)/aN|0)|0}var Kc=64,qc=4194304;function Ba(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function td(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ba(a):(s&=o,s!==0&&(r=Ba(s)))}else o=n&~i,o!==0?r=Ba(o):s!==0&&(r=Ba(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nn(e),i=1<<n,r|=t[n],e&=~i;return r}function cN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=cN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function h1(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function Nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nn(e),t[e]=n}function dN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function zg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function f1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var p1,Wg,m1,g1,v1,nm=!1,Yc=[],mi=null,gi=null,vi=null,vl=new Map,yl=new Map,si=[],hN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tw(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(e.pointerId)}}function Ia(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nc(e),e!==null&&Wg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fN(t,e,n,r,i){switch(e){case"focusin":return mi=Ia(mi,t,e,n,r,i),!0;case"dragenter":return gi=Ia(gi,t,e,n,r,i),!0;case"mouseover":return vi=Ia(vi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vl.set(s,Ia(vl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yl.set(s,Ia(yl.get(s)||null,t,e,n,r,i)),!0}return!1}function y1(t){var e=cs(t.target);if(e!==null){var n=ks(e);if(n!==null){if(e=n.tag,e===13){if(e=o1(n),e!==null){t.blockedOn=e,v1(t.priority,function(){m1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xp=r,n.target.dispatchEvent(r),Xp=null}else return e=nc(n),e!==null&&Wg(e),t.blockedOn=n,!1;e.shift()}return!0}function Sw(t,e,n){Iu(t)&&n.delete(e)}function pN(){nm=!1,mi!==null&&Iu(mi)&&(mi=null),gi!==null&&Iu(gi)&&(gi=null),vi!==null&&Iu(vi)&&(vi=null),vl.forEach(Sw),yl.forEach(Sw)}function Ra(t,e){t.blockedOn===e&&(t.blockedOn=null,nm||(nm=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,pN)))}function wl(t){function e(i){return Ra(i,t)}if(0<Yc.length){Ra(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&Ra(mi,t),gi!==null&&Ra(gi,t),vi!==null&&Ra(vi,t),vl.forEach(e),yl.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)y1(n),n.blockedOn===null&&si.shift()}var _o=$r.ReactCurrentBatchConfig,nd=!0;function mN(t,e,n,r){var i=xe,s=_o.transition;_o.transition=null;try{xe=1,Hg(t,e,n,r)}finally{xe=i,_o.transition=s}}function gN(t,e,n,r){var i=xe,s=_o.transition;_o.transition=null;try{xe=4,Hg(t,e,n,r)}finally{xe=i,_o.transition=s}}function Hg(t,e,n,r){if(nd){var i=rm(t,e,n,r);if(i===null)Bf(t,e,r,rd,n),Tw(t,r);else if(fN(i,t,e,n,r))r.stopPropagation();else if(Tw(t,r),e&4&&-1<hN.indexOf(t)){for(;i!==null;){var s=nc(i);if(s!==null&&p1(s),s=rm(t,e,n,r),s===null&&Bf(t,e,r,rd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bf(t,e,r,null,n)}}var rd=null;function rm(t,e,n,r){if(rd=null,t=Ug(r),t=cs(t),t!==null)if(e=ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=o1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rd=t,null}function w1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rN()){case Bg:return 1;case u1:return 4;case ed:case iN:return 16;case d1:return 536870912;default:return 16}default:return 16}}var di=null,Gg=null,Ru=null;function _1(){if(Ru)return Ru;var t,e=Gg,n=e.length,r,i="value"in di?di.value:di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ru=i.slice(t,1<r?1-r:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qc(){return!0}function Cw(){return!1}function fn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qc:Cw,this.isPropagationStopped=Cw,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),e}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=fn(ea),tc=Be({},ea,{view:0,detail:0}),vN=fn(tc),Df,Of,Aa,lh=Be({},tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Aa&&(Aa&&t.type==="mousemove"?(Df=t.screenX-Aa.screenX,Of=t.screenY-Aa.screenY):Of=Df=0,Aa=t),Df)},movementY:function(t){return"movementY"in t?t.movementY:Of}}),bw=fn(lh),yN=Be({},lh,{dataTransfer:0}),wN=fn(yN),_N=Be({},tc,{relatedTarget:0}),Mf=fn(_N),EN=Be({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),xN=fn(EN),TN=Be({},ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SN=fn(TN),CN=Be({},ea,{data:0}),Pw=fn(CN),bN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IN[t])?!!e[t]:!1}function qg(){return RN}var AN=Be({},tc,{key:function(t){if(t.key){var e=bN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qg,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kN=fn(AN),NN=Be({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iw=fn(NN),DN=Be({},tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qg}),ON=fn(DN),MN=Be({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),VN=fn(MN),LN=Be({},lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jN=fn(LN),FN=[9,13,27,32],Yg=br&&"CompositionEvent"in window,Ja=null;br&&"documentMode"in document&&(Ja=document.documentMode);var $N=br&&"TextEvent"in window&&!Ja,E1=br&&(!Yg||Ja&&8<Ja&&11>=Ja),Rw=String.fromCharCode(32),Aw=!1;function x1(t,e){switch(t){case"keyup":return FN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var to=!1;function UN(t,e){switch(t){case"compositionend":return T1(e);case"keypress":return e.which!==32?null:(Aw=!0,Rw);case"textInput":return t=e.data,t===Rw&&Aw?null:t;default:return null}}function BN(t,e){if(to)return t==="compositionend"||!Yg&&x1(t,e)?(t=_1(),Ru=Gg=di=null,to=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E1&&e.locale!=="ko"?null:e.data;default:return null}}var zN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zN[t.type]:e==="textarea"}function S1(t,e,n,r){t1(r),e=id(e,"onChange"),0<e.length&&(n=new Kg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Za=null,_l=null;function WN(t){M1(t,0)}function ch(t){var e=io(t);if(qT(e))return t}function HN(t,e){if(t==="change")return e}var C1=!1;if(br){var Vf;if(br){var Lf="oninput"in document;if(!Lf){var Nw=document.createElement("div");Nw.setAttribute("oninput","return;"),Lf=typeof Nw.oninput=="function"}Vf=Lf}else Vf=!1;C1=Vf&&(!document.documentMode||9<document.documentMode)}function Dw(){Za&&(Za.detachEvent("onpropertychange",b1),_l=Za=null)}function b1(t){if(t.propertyName==="value"&&ch(_l)){var e=[];S1(e,_l,t,Ug(t)),s1(WN,e)}}function GN(t,e,n){t==="focusin"?(Dw(),Za=e,_l=n,Za.attachEvent("onpropertychange",b1)):t==="focusout"&&Dw()}function KN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ch(_l)}function qN(t,e){if(t==="click")return ch(e)}function YN(t,e){if(t==="input"||t==="change")return ch(e)}function QN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:QN;function El(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fp.call(e,i)||!On(t[i],e[i]))return!1}return!0}function Ow(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mw(t,e){var n=Ow(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ow(n)}}function P1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function I1(){for(var t=window,e=Xu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xu(t.document)}return e}function Qg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XN(t){var e=I1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P1(n.ownerDocument.documentElement,n)){if(r!==null&&Qg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Mw(n,s);var o=Mw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JN=br&&"documentMode"in document&&11>=document.documentMode,no=null,im=null,el=null,sm=!1;function Vw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sm||no==null||no!==Xu(r)||(r=no,"selectionStart"in r&&Qg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&El(el,r)||(el=r,r=id(im,"onSelect"),0<r.length&&(e=new Kg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=no)))}function Xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ro={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},jf={},R1={};br&&(R1=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function uh(t){if(jf[t])return jf[t];if(!ro[t])return t;var e=ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in R1)return jf[t]=e[n];return t}var A1=uh("animationend"),k1=uh("animationiteration"),N1=uh("animationstart"),D1=uh("transitionend"),O1=new Map,Lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){O1.set(t,e),As(e,[t])}for(var Ff=0;Ff<Lw.length;Ff++){var $f=Lw[Ff],ZN=$f.toLowerCase(),eD=$f[0].toUpperCase()+$f.slice(1);Ui(ZN,"on"+eD)}Ui(A1,"onAnimationEnd");Ui(k1,"onAnimationIteration");Ui(N1,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(D1,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tD=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function jw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Zk(r,e,void 0,t),t.currentTarget=null}function M1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jw(i,a,c),s=l}}}if(Zu)throw t=em,Zu=!1,em=null,t}function Ne(t,e){var n=e[um];n===void 0&&(n=e[um]=new Set);var r=t+"__bubble";n.has(r)||(V1(e,t,2,!1),n.add(r))}function Uf(t,e,n){var r=0;e&&(r|=4),V1(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function xl(t){if(!t[Jc]){t[Jc]=!0,zT.forEach(function(n){n!=="selectionchange"&&(tD.has(n)||Uf(n,!1,t),Uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,Uf("selectionchange",!1,e))}}function V1(t,e,n,r){switch(w1(e)){case 1:var i=mN;break;case 4:i=gN;break;default:i=Hg}n=i.bind(null,e,n,t),i=void 0,!Zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}s1(function(){var c=s,d=Ug(n),h=[];e:{var f=O1.get(t);if(f!==void 0){var m=Kg,E=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":m=kN;break;case"focusin":E="focus",m=Mf;break;case"focusout":E="blur",m=Mf;break;case"beforeblur":case"afterblur":m=Mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ON;break;case A1:case k1:case N1:m=xN;break;case D1:m=VN;break;case"scroll":m=vN;break;case"wheel":m=jN;break;case"copy":case"cut":case"paste":m=SN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Iw}var w=(e&4)!==0,S=!w&&t==="scroll",x=w?f!==null?f+"Capture":null:f;w=[];for(var y=c,T;y!==null;){T=y;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,x!==null&&(I=gl(y,x),I!=null&&w.push(Tl(y,I,T)))),S)break;y=y.return}0<w.length&&(f=new m(f,E,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Xp&&(E=n.relatedTarget||n.fromElement)&&(cs(E)||E[Pr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=c,E=E?cs(E):null,E!==null&&(S=ks(E),E!==S||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=c),m!==E)){if(w=bw,I="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=Iw,I="onPointerLeave",x="onPointerEnter",y="pointer"),S=m==null?f:io(m),T=E==null?f:io(E),f=new w(I,y+"leave",m,n,d),f.target=S,f.relatedTarget=T,I=null,cs(d)===c&&(w=new w(x,y+"enter",E,n,d),w.target=T,w.relatedTarget=S,I=w),S=I,m&&E)t:{for(w=m,x=E,y=0,T=w;T;T=Hs(T))y++;for(T=0,I=x;I;I=Hs(I))T++;for(;0<y-T;)w=Hs(w),y--;for(;0<T-y;)x=Hs(x),T--;for(;y--;){if(w===x||x!==null&&w===x.alternate)break t;w=Hs(w),x=Hs(x)}w=null}else w=null;m!==null&&Fw(h,f,m,w,!1),E!==null&&S!==null&&Fw(h,S,E,w,!0)}}e:{if(f=c?io(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=HN;else if(kw(f))if(C1)O=YN;else{O=KN;var M=GN}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=qN);if(O&&(O=O(t,c))){S1(h,O,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Gp(f,"number",f.value)}switch(M=c?io(c):window,t){case"focusin":(kw(M)||M.contentEditable==="true")&&(no=M,im=c,el=null);break;case"focusout":el=im=no=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,Vw(h,n,d);break;case"selectionchange":if(JN)break;case"keydown":case"keyup":Vw(h,n,d)}var b;if(Yg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else to?x1(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(E1&&n.locale!=="ko"&&(to||C!=="onCompositionStart"?C==="onCompositionEnd"&&to&&(b=_1()):(di=d,Gg="value"in di?di.value:di.textContent,to=!0)),M=id(c,C),0<M.length&&(C=new Pw(C,t,null,n,d),h.push({event:C,listeners:M}),b?C.data=b:(b=T1(n),b!==null&&(C.data=b)))),(b=$N?UN(t,n):BN(t,n))&&(c=id(c,"onBeforeInput"),0<c.length&&(d=new Pw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}M1(h,e)})}function Tl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function id(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gl(t,n),s!=null&&r.unshift(Tl(t,s,i)),s=gl(t,e),s!=null&&r.push(Tl(t,s,i))),t=t.return}return r}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=gl(n,s),l!=null&&o.unshift(Tl(n,l,a))):i||(l=gl(n,s),l!=null&&o.push(Tl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nD=/\r\n?/g,rD=/\u0000|\uFFFD/g;function $w(t){return(typeof t=="string"?t:""+t).replace(nD,`
`).replace(rD,"")}function Zc(t,e,n){if(e=$w(e),$w(t)!==e&&n)throw Error(B(425))}function sd(){}var om=null,am=null;function lm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cm=typeof setTimeout=="function"?setTimeout:void 0,iD=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,sD=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(t){return Uw.resolve(null).then(t).catch(oD)}:cm;function oD(t){setTimeout(function(){throw t})}function zf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wl(e)}function yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ta=Math.random().toString(36).slice(2),Un="__reactFiber$"+ta,Sl="__reactProps$"+ta,Pr="__reactContainer$"+ta,um="__reactEvents$"+ta,aD="__reactListeners$"+ta,lD="__reactHandles$"+ta;function cs(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pr]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bw(t);t!==null;){if(n=t[Un])return n;t=Bw(t)}return e}t=n,n=t.parentNode}return null}function nc(t){return t=t[Un]||t[Pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function dh(t){return t[Sl]||null}var dm=[],so=-1;function Bi(t){return{current:t}}function De(t){0>so||(t.current=dm[so],dm[so]=null,so--)}function Pe(t,e){so++,dm[so]=t.current,t.current=e}var ki={},Vt=Bi(ki),Xt=Bi(!1),ys=ki;function ko(t,e){var n=t.type.contextTypes;if(!n)return ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(t){return t=t.childContextTypes,t!=null}function od(){De(Xt),De(Vt)}function zw(t,e,n){if(Vt.current!==ki)throw Error(B(168));Pe(Vt,e),Pe(Xt,n)}function L1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,Gk(t)||"Unknown",i));return Be({},n,r)}function ad(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,ys=Vt.current,Pe(Vt,t),Pe(Xt,Xt.current),!0}function Ww(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=L1(t,e,ys),r.__reactInternalMemoizedMergedChildContext=t,De(Xt),De(Vt),Pe(Vt,t)):De(Xt),Pe(Xt,n)}var dr=null,hh=!1,Wf=!1;function j1(t){dr===null?dr=[t]:dr.push(t)}function cD(t){hh=!0,j1(t)}function zi(){if(!Wf&&dr!==null){Wf=!0;var t=0,e=xe;try{var n=dr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,hh=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),c1(Bg,zi),i}finally{xe=e,Wf=!1}}return null}var oo=[],ao=0,ld=null,cd=0,vn=[],yn=0,ws=null,fr=1,pr="";function ts(t,e){oo[ao++]=cd,oo[ao++]=ld,ld=t,cd=e}function F1(t,e,n){vn[yn++]=fr,vn[yn++]=pr,vn[yn++]=ws,ws=t;var r=fr;t=pr;var i=32-Nn(r)-1;r&=~(1<<i),n+=1;var s=32-Nn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fr=1<<32-Nn(e)+i|n<<i|r,pr=s+t}else fr=1<<s|n<<i|r,pr=t}function Xg(t){t.return!==null&&(ts(t,1),F1(t,1,0))}function Jg(t){for(;t===ld;)ld=oo[--ao],oo[ao]=null,cd=oo[--ao],oo[ao]=null;for(;t===ws;)ws=vn[--yn],vn[yn]=null,pr=vn[--yn],vn[yn]=null,fr=vn[--yn],vn[yn]=null}var an=null,on=null,Le=!1,An=null;function $1(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,on=yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ws!==null?{id:fr,overflow:pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,on=null,!0):!1;default:return!1}}function hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fm(t){if(Le){var e=on;if(e){var n=e;if(!Hw(t,e)){if(hm(t))throw Error(B(418));e=yi(n.nextSibling);var r=an;e&&Hw(t,e)?$1(r,n):(t.flags=t.flags&-4097|2,Le=!1,an=t)}}else{if(hm(t))throw Error(B(418));t.flags=t.flags&-4097|2,Le=!1,an=t}}}function Gw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function eu(t){if(t!==an)return!1;if(!Le)return Gw(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lm(t.type,t.memoizedProps)),e&&(e=on)){if(hm(t))throw U1(),Error(B(418));for(;e;)$1(t,e),e=yi(e.nextSibling)}if(Gw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=an?yi(t.stateNode.nextSibling):null;return!0}function U1(){for(var t=on;t;)t=yi(t.nextSibling)}function No(){on=an=null,Le=!1}function Zg(t){An===null?An=[t]:An.push(t)}var uD=$r.ReactCurrentBatchConfig;function ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kw(t){var e=t._init;return e(t._payload)}function B1(t){function e(x,y){if(t){var T=x.deletions;T===null?(x.deletions=[y],x.flags|=16):T.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=xi(x,y),x.index=0,x.sibling=null,x}function s(x,y,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<y?(x.flags|=2,y):T):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,T,I){return y===null||y.tag!==6?(y=Xf(T,x.mode,I),y.return=x,y):(y=i(y,T),y.return=x,y)}function l(x,y,T,I){var O=T.type;return O===eo?d(x,y,T.props.children,I,T.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ni&&Kw(O)===y.type)?(I=i(y,T.props),I.ref=ka(x,y,T),I.return=x,I):(I=Lu(T.type,T.key,T.props,null,x.mode,I),I.ref=ka(x,y,T),I.return=x,I)}function c(x,y,T,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Jf(T,x.mode,I),y.return=x,y):(y=i(y,T.children||[]),y.return=x,y)}function d(x,y,T,I,O){return y===null||y.tag!==7?(y=gs(T,x.mode,I,O),y.return=x,y):(y=i(y,T),y.return=x,y)}function h(x,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Xf(""+y,x.mode,T),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wc:return T=Lu(y.type,y.key,y.props,null,x.mode,T),T.ref=ka(x,null,y),T.return=x,T;case Zs:return y=Jf(y,x.mode,T),y.return=x,y;case ni:var I=y._init;return h(x,I(y._payload),T)}if(Ua(y)||ba(y))return y=gs(y,x.mode,T,null),y.return=x,y;tu(x,y)}return null}function f(x,y,T,I){var O=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(x,y,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Wc:return T.key===O?l(x,y,T,I):null;case Zs:return T.key===O?c(x,y,T,I):null;case ni:return O=T._init,f(x,y,O(T._payload),I)}if(Ua(T)||ba(T))return O!==null?null:d(x,y,T,I,null);tu(x,T)}return null}function m(x,y,T,I,O){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(T)||null,a(y,x,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Wc:return x=x.get(I.key===null?T:I.key)||null,l(y,x,I,O);case Zs:return x=x.get(I.key===null?T:I.key)||null,c(y,x,I,O);case ni:var M=I._init;return m(x,y,T,M(I._payload),O)}if(Ua(I)||ba(I))return x=x.get(T)||null,d(y,x,I,O,null);tu(y,I)}return null}function E(x,y,T,I){for(var O=null,M=null,b=y,C=y=0,R=null;b!==null&&C<T.length;C++){b.index>C?(R=b,b=null):R=b.sibling;var A=f(x,b,T[C],I);if(A===null){b===null&&(b=R);break}t&&b&&A.alternate===null&&e(x,b),y=s(A,y,C),M===null?O=A:M.sibling=A,M=A,b=R}if(C===T.length)return n(x,b),Le&&ts(x,C),O;if(b===null){for(;C<T.length;C++)b=h(x,T[C],I),b!==null&&(y=s(b,y,C),M===null?O=b:M.sibling=b,M=b);return Le&&ts(x,C),O}for(b=r(x,b);C<T.length;C++)R=m(b,x,C,T[C],I),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?C:R.key),y=s(R,y,C),M===null?O=R:M.sibling=R,M=R);return t&&b.forEach(function(N){return e(x,N)}),Le&&ts(x,C),O}function w(x,y,T,I){var O=ba(T);if(typeof O!="function")throw Error(B(150));if(T=O.call(T),T==null)throw Error(B(151));for(var M=O=null,b=y,C=y=0,R=null,A=T.next();b!==null&&!A.done;C++,A=T.next()){b.index>C?(R=b,b=null):R=b.sibling;var N=f(x,b,A.value,I);if(N===null){b===null&&(b=R);break}t&&b&&N.alternate===null&&e(x,b),y=s(N,y,C),M===null?O=N:M.sibling=N,M=N,b=R}if(A.done)return n(x,b),Le&&ts(x,C),O;if(b===null){for(;!A.done;C++,A=T.next())A=h(x,A.value,I),A!==null&&(y=s(A,y,C),M===null?O=A:M.sibling=A,M=A);return Le&&ts(x,C),O}for(b=r(x,b);!A.done;C++,A=T.next())A=m(b,x,C,A.value,I),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?C:A.key),y=s(A,y,C),M===null?O=A:M.sibling=A,M=A);return t&&b.forEach(function(D){return e(x,D)}),Le&&ts(x,C),O}function S(x,y,T,I){if(typeof T=="object"&&T!==null&&T.type===eo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Wc:e:{for(var O=T.key,M=y;M!==null;){if(M.key===O){if(O=T.type,O===eo){if(M.tag===7){n(x,M.sibling),y=i(M,T.props.children),y.return=x,x=y;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ni&&Kw(O)===M.type){n(x,M.sibling),y=i(M,T.props),y.ref=ka(x,M,T),y.return=x,x=y;break e}n(x,M);break}else e(x,M);M=M.sibling}T.type===eo?(y=gs(T.props.children,x.mode,I,T.key),y.return=x,x=y):(I=Lu(T.type,T.key,T.props,null,x.mode,I),I.ref=ka(x,y,T),I.return=x,x=I)}return o(x);case Zs:e:{for(M=T.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(x,y.sibling),y=i(y,T.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=Jf(T,x.mode,I),y.return=x,x=y}return o(x);case ni:return M=T._init,S(x,y,M(T._payload),I)}if(Ua(T))return E(x,y,T,I);if(ba(T))return w(x,y,T,I);tu(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,T),y.return=x,x=y):(n(x,y),y=Xf(T,x.mode,I),y.return=x,x=y),o(x)):n(x,y)}return S}var Do=B1(!0),z1=B1(!1),ud=Bi(null),dd=null,lo=null,ev=null;function tv(){ev=lo=dd=null}function nv(t){var e=ud.current;De(ud),t._currentValue=e}function pm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eo(t,e){dd=t,ev=lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(ev!==t)if(t={context:t,memoizedValue:e,next:null},lo===null){if(dd===null)throw Error(B(308));lo=t,dd.dependencies={lanes:0,firstContext:t}}else lo=lo.next=t;return e}var us=null;function rv(t){us===null?us=[t]:us.push(t)}function W1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function iv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,rv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zg(t,n)}}function qw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hd(t,e,n,r){var i=t.updateQueue;ri=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,w=a;switch(f=e,m=n,w.tag){case 1:if(E=w.payload,typeof E=="function"){h=E.call(m,h,f);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,f=typeof E=="function"?E.call(m,h,f):E,f==null)break e;h=Be({},h,f);break e;case 2:ri=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Es|=o,t.lanes=o,t.memoizedState=h}}function Yw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var rc={},qn=Bi(rc),Cl=Bi(rc),bl=Bi(rc);function ds(t){if(t===rc)throw Error(B(174));return t}function sv(t,e){switch(Pe(bl,e),Pe(Cl,t),Pe(qn,rc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qp(e,t)}De(qn),Pe(qn,e)}function Oo(){De(qn),De(Cl),De(bl)}function G1(t){ds(bl.current);var e=ds(qn.current),n=qp(e,t.type);e!==n&&(Pe(Cl,t),Pe(qn,n))}function ov(t){Cl.current===t&&(De(qn),De(Cl))}var je=Bi(0);function fd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hf=[];function av(){for(var t=0;t<Hf.length;t++)Hf[t]._workInProgressVersionPrimary=null;Hf.length=0}var Nu=$r.ReactCurrentDispatcher,Gf=$r.ReactCurrentBatchConfig,_s=0,$e=null,st=null,ut=null,pd=!1,tl=!1,Pl=0,dD=0;function Pt(){throw Error(B(321))}function lv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!On(t[n],e[n]))return!1;return!0}function cv(t,e,n,r,i,s){if(_s=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nu.current=t===null||t.memoizedState===null?mD:gD,t=n(r,i),tl){s=0;do{if(tl=!1,Pl=0,25<=s)throw Error(B(301));s+=1,ut=st=null,e.updateQueue=null,Nu.current=vD,t=n(r,i)}while(tl)}if(Nu.current=md,e=st!==null&&st.next!==null,_s=0,ut=st=$e=null,pd=!1,e)throw Error(B(300));return t}function uv(){var t=Pl!==0;return Pl=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?$e.memoizedState=ut=t:ut=ut.next=t,ut}function Sn(){if(st===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ut===null?$e.memoizedState:ut.next;if(e!==null)ut=e,st=t;else{if(t===null)throw Error(B(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ut===null?$e.memoizedState=ut=t:ut=ut.next=t}return ut}function Il(t,e){return typeof e=="function"?e(t):e}function Kf(t){var e=Sn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((_s&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,$e.lanes|=d,Es|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,On(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,Es|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qf(t){var e=Sn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);On(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function K1(){}function q1(t,e){var n=$e,r=Sn(),i=e(),s=!On(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,dv(X1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Rl(9,Q1.bind(null,n,r,i,e),void 0,null),dt===null)throw Error(B(349));_s&30||Y1(n,e,i)}return i}function Y1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q1(t,e,n,r){e.value=n,e.getSnapshot=r,J1(e)&&Z1(t)}function X1(t,e,n){return n(function(){J1(e)&&Z1(t)})}function J1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!On(t,n)}catch{return!0}}function Z1(t){var e=Ir(t,1);e!==null&&Dn(e,t,1,-1)}function Qw(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:t},e.queue=t,t=t.dispatch=pD.bind(null,$e,t),[e.memoizedState,t]}function Rl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eS(){return Sn().memoizedState}function Du(t,e,n,r){var i=$n();$e.flags|=t,i.memoizedState=Rl(1|e,n,void 0,r===void 0?null:r)}function fh(t,e,n,r){var i=Sn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&lv(r,o.deps)){i.memoizedState=Rl(e,n,s,r);return}}$e.flags|=t,i.memoizedState=Rl(1|e,n,s,r)}function Xw(t,e){return Du(8390656,8,t,e)}function dv(t,e){return fh(2048,8,t,e)}function tS(t,e){return fh(4,2,t,e)}function nS(t,e){return fh(4,4,t,e)}function rS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iS(t,e,n){return n=n!=null?n.concat([t]):null,fh(4,4,rS.bind(null,e,t),n)}function hv(){}function sS(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oS(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aS(t,e,n){return _s&21?(On(n,e)||(n=h1(),$e.lanes|=n,Es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function hD(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=Gf.transition;Gf.transition={};try{t(!1),e()}finally{xe=n,Gf.transition=r}}function lS(){return Sn().memoizedState}function fD(t,e,n){var r=Ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cS(t))uS(e,n);else if(n=W1(t,e,n,r),n!==null){var i=Gt();Dn(n,t,r,i),dS(n,e,r)}}function pD(t,e,n){var r=Ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cS(t))uS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,On(a,o)){var l=e.interleaved;l===null?(i.next=i,rv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=W1(t,e,i,r),n!==null&&(i=Gt(),Dn(n,t,r,i),dS(n,e,r))}}function cS(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function uS(t,e){tl=pd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zg(t,n)}}var md={readContext:Tn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},mD={readContext:Tn,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:Xw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Du(4194308,4,rS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Du(4194308,4,t,e)},useInsertionEffect:function(t,e){return Du(4,2,t,e)},useMemo:function(t,e){var n=$n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fD.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:Qw,useDebugValue:hv,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=Qw(!1),e=t[0];return t=hD.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=$n();if(Le){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),dt===null)throw Error(B(349));_s&30||Y1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Xw(X1.bind(null,r,s,t),[t]),r.flags|=2048,Rl(9,Q1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$n(),e=dt.identifierPrefix;if(Le){var n=pr,r=fr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gD={readContext:Tn,useCallback:sS,useContext:Tn,useEffect:dv,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:oS,useReducer:Kf,useRef:eS,useState:function(){return Kf(Il)},useDebugValue:hv,useDeferredValue:function(t){var e=Sn();return aS(e,st.memoizedState,t)},useTransition:function(){var t=Kf(Il)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:K1,useSyncExternalStore:q1,useId:lS,unstable_isNewReconciler:!1},vD={readContext:Tn,useCallback:sS,useContext:Tn,useEffect:dv,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:oS,useReducer:qf,useRef:eS,useState:function(){return qf(Il)},useDebugValue:hv,useDeferredValue:function(t){var e=Sn();return st===null?e.memoizedState=t:aS(e,st.memoizedState,t)},useTransition:function(){var t=qf(Il)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:K1,useSyncExternalStore:q1,useId:lS,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ph={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Ei(t),s=_r(r,i);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Dn(e,t,i,r),ku(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Ei(t),s=_r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Dn(e,t,i,r),ku(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=Ei(t),i=_r(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(Dn(e,t,r,n),ku(e,t,r))}};function Jw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!El(n,r)||!El(i,s):!0}function hS(t,e,n){var r=!1,i=ki,s=e.contextType;return typeof s=="object"&&s!==null?s=Tn(s):(i=Jt(e)?ys:Vt.current,r=e.contextTypes,s=(r=r!=null)?ko(t,i):ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Zw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ph.enqueueReplaceState(e,e.state,null)}function gm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},iv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tn(s):(s=Jt(e)?ys:Vt.current,i.context=ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ph.enqueueReplaceState(i,i.state,null),hd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Mo(t,e){try{var n="",r=e;do n+=Hk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yD=typeof WeakMap=="function"?WeakMap:Map;function fS(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vd||(vd=!0,Pm=r),vm(t,e)},n}function pS(t,e,n){n=_r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vm(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function e_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ND.bind(null,t,e,n),e.then(t,t))}function t_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t)}var wD=$r.ReactCurrentOwner,Qt=!1;function zt(t,e,n,r){e.child=t===null?z1(e,null,n,r):Do(e,t.child,n,r)}function r_(t,e,n,r,i){n=n.render;var s=e.ref;return Eo(e,i),r=cv(t,e,n,r,s,i),n=uv(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Le&&n&&Xg(e),e.flags|=1,zt(t,e,r,i),e.child)}function i_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_v(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,mS(t,e,s,r,i)):(t=Lu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(o,r)&&t.ref===e.ref)return Rr(t,e,i)}return e.flags|=1,t=xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function mS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(El(s,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Rr(t,e,i)}return ym(t,e,n,r,i)}function gS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(uo,rn),rn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(uo,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(uo,rn),rn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(uo,rn),rn|=r;return zt(t,e,i,n),e.child}function vS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ym(t,e,n,r,i){var s=Jt(n)?ys:Vt.current;return s=ko(e,s),Eo(e,i),n=cv(t,e,n,r,s,i),r=uv(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Le&&r&&Xg(e),e.flags|=1,zt(t,e,n,i),e.child)}function s_(t,e,n,r,i){if(Jt(n)){var s=!0;ad(e)}else s=!1;if(Eo(e,i),e.stateNode===null)Ou(t,e),hS(e,n,r),gm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Tn(c):(c=Jt(n)?ys:Vt.current,c=ko(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Zw(e,o,r,c),ri=!1;var f=e.memoizedState;o.state=f,hd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Xt.current||ri?(typeof d=="function"&&(mm(e,n,d,r),l=e.memoizedState),(a=ri||Jw(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,H1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:In(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=Jt(n)?ys:Vt.current,l=ko(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Zw(e,o,r,l),ri=!1,f=e.memoizedState,o.state=f,hd(e,r,o,i);var E=e.memoizedState;a!==h||f!==E||Xt.current||ri?(typeof m=="function"&&(mm(e,n,m,r),E=e.memoizedState),(c=ri||Jw(e,n,c,r,f,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return wm(t,e,n,r,s,i)}function wm(t,e,n,r,i,s){vS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ww(e,n,!1),Rr(t,e,s);r=e.stateNode,wD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Do(e,t.child,null,s),e.child=Do(e,null,a,s)):zt(t,e,a,s),e.memoizedState=r.state,i&&Ww(e,n,!0),e.child}function yS(t){var e=t.stateNode;e.pendingContext?zw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zw(t,e.context,!1),sv(t,e.containerInfo)}function o_(t,e,n,r,i){return No(),Zg(i),e.flags|=256,zt(t,e,n,r),e.child}var _m={dehydrated:null,treeContext:null,retryLane:0};function Em(t){return{baseLanes:t,cachePool:null,transitions:null}}function wS(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(je,i&1),t===null)return fm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vh(o,r,0,null),t=gs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Em(n),e.memoizedState=_m,t):fv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _D(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xi(a,s):(s=gs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Em(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_m,r}return s=t.child,t=s.sibling,r=xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fv(t,e){return e=vh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,r){return r!==null&&Zg(r),Do(e,t.child,null,n),t=fv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _D(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Yf(Error(B(422))),nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=vh({mode:"visible",children:r.children},i,0,null),s=gs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Do(e,t.child,null,o),e.child.memoizedState=Em(o),e.memoizedState=_m,s);if(!(e.mode&1))return nu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Yf(s,r,void 0),nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(t,i),Dn(r,t,i,-1))}return wv(),r=Yf(Error(B(421))),nu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,on=yi(i.nextSibling),an=e,Le=!0,An=null,t!==null&&(vn[yn++]=fr,vn[yn++]=pr,vn[yn++]=ws,fr=t.id,pr=t.overflow,ws=e),e=fv(e,r.children),e.flags|=4096,e)}function a_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pm(t.return,e,n)}function Qf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _S(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a_(t,n,e);else if(t.tag===19)a_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qf(e,!0,n,null,s);break;case"together":Qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ou(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ED(t,e,n){switch(e.tag){case 3:yS(e),No();break;case 5:G1(e);break;case 1:Jt(e.type)&&ad(e);break;case 4:sv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(ud,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?wS(t,e,n):(Pe(je,je.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);Pe(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _S(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,gS(t,e,n)}return Rr(t,e,n)}var ES,xm,xS,TS;ES=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xm=function(){};xS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ds(qn.current);var s=null;switch(n){case"input":i=Wp(t,i),r=Wp(t,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=Kp(t,i),r=Kp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sd)}Yp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};TS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Na(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xD(t,e,n){var r=e.pendingProps;switch(Jg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Jt(e.type)&&od(),It(e),null;case 3:return r=e.stateNode,Oo(),De(Xt),De(Vt),av(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Am(An),An=null))),xm(t,e),It(e),null;case 5:ov(e);var i=ds(bl.current);if(n=e.type,t!==null&&e.stateNode!=null)xS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return It(e),null}if(t=ds(qn.current),eu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Un]=e,r[Sl]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<za.length;i++)Ne(za[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":gw(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":yw(r,s),Ne("invalid",r)}Yp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",""+a]):pl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Hc(r),vw(r,s,!0);break;case"textarea":Hc(r),ww(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Un]=e,t[Sl]=r,ES(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qp(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<za.length;i++)Ne(za[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":gw(t,r),i=Wp(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":yw(t,r),i=Kp(t,r),Ne("invalid",t);break;default:i=r}Yp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?e1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ml(t,l):typeof l=="number"&&ml(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&Lg(t,s,l,o))}switch(n){case"input":Hc(t),vw(t,r,!1);break;case"textarea":Hc(t),ww(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ai(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?vo(t,!!r.multiple,s,!1):r.defaultValue!=null&&vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)TS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ds(bl.current),ds(qn.current),eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Un]=e,(s=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:Zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=e,e.stateNode=r}return It(e),null;case 13:if(De(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&on!==null&&e.mode&1&&!(e.flags&128))U1(),No(),e.flags|=98560,s=!1;else if(s=eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Un]=e}else No(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),s=!1}else An!==null&&(Am(An),An=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?at===0&&(at=3):wv())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return Oo(),xm(t,e),t===null&&xl(e.stateNode.containerInfo),It(e),null;case 10:return nv(e.type._context),It(e),null;case 17:return Jt(e.type)&&od(),It(e),null;case 19:if(De(je),s=e.memoizedState,s===null)return It(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Na(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fd(t),o!==null){for(e.flags|=128,Na(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>Vo&&(e.flags|=128,r=!0,Na(s,!1),e.lanes=4194304)}else{if(!r)if(t=fd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Na(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return It(e),null}else 2*Xe()-s.renderingStartTime>Vo&&n!==1073741824&&(e.flags|=128,r=!0,Na(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=je.current,Pe(je,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return yv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rn&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function TD(t,e){switch(Jg(e),e.tag){case 1:return Jt(e.type)&&od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oo(),De(Xt),De(Vt),av(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ov(e),null;case 13:if(De(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));No()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(je),null;case 4:return Oo(),null;case 10:return nv(e.type._context),null;case 22:case 23:return yv(),null;case 24:return null;default:return null}}var ru=!1,Nt=!1,SD=typeof WeakSet=="function"?WeakSet:Set,q=null;function co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Tm(t,e,n){try{n()}catch(r){He(t,e,r)}}var l_=!1;function CD(t,e){if(om=nd,t=I1(),Qg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(am={focusedElem:t,selectionRange:n},nd=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,S=E.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:In(e.type,w),S);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(I){He(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return E=l_,l_=!1,E}function nl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tm(e,n,s)}i=i.next}while(i!==r)}}function mh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SS(t){var e=t.alternate;e!==null&&(t.alternate=null,SS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[Sl],delete e[um],delete e[aD],delete e[lD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CS(t){return t.tag===5||t.tag===3||t.tag===4}function c_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sd));else if(r!==4&&(t=t.child,t!==null))for(Cm(t,e,n),t=t.sibling;t!==null;)Cm(t,e,n),t=t.sibling}function bm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bm(t,e,n),t=t.sibling;t!==null;)bm(t,e,n),t=t.sibling}var mt=null,Rn=!1;function Yr(t,e,n){for(n=n.child;n!==null;)bS(t,e,n),n=n.sibling}function bS(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(ah,n)}catch{}switch(n.tag){case 5:Nt||co(n,e);case 6:var r=mt,i=Rn;mt=null,Yr(t,e,n),mt=r,Rn=i,mt!==null&&(Rn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Rn?(t=mt,n=n.stateNode,t.nodeType===8?zf(t.parentNode,n):t.nodeType===1&&zf(t,n),wl(t)):zf(mt,n.stateNode));break;case 4:r=mt,i=Rn,mt=n.stateNode.containerInfo,Rn=!0,Yr(t,e,n),mt=r,Rn=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tm(n,e,o),i=i.next}while(i!==r)}Yr(t,e,n);break;case 1:if(!Nt&&(co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}Yr(t,e,n);break;case 21:Yr(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Yr(t,e,n),Nt=r):Yr(t,e,n);break;default:Yr(t,e,n)}}function u_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SD),e.forEach(function(r){var i=OD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,Rn=!1;break e;case 3:mt=a.stateNode.containerInfo,Rn=!0;break e;case 4:mt=a.stateNode.containerInfo,Rn=!0;break e}a=a.return}if(mt===null)throw Error(B(160));bS(s,o,i),mt=null,Rn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){He(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PS(e,t),e=e.sibling}function PS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Fn(t),r&4){try{nl(3,t,t.return),mh(3,t)}catch(w){He(t,t.return,w)}try{nl(5,t,t.return)}catch(w){He(t,t.return,w)}}break;case 1:bn(e,t),Fn(t),r&512&&n!==null&&co(n,n.return);break;case 5:if(bn(e,t),Fn(t),r&512&&n!==null&&co(n,n.return),t.flags&32){var i=t.stateNode;try{ml(i,"")}catch(w){He(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&YT(i,s),Qp(a,o);var c=Qp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?e1(i,h):d==="dangerouslySetInnerHTML"?JT(i,h):d==="children"?ml(i,h):Lg(i,d,h,c)}switch(a){case"input":Hp(i,s);break;case"textarea":QT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?vo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?vo(i,!!s.multiple,s.defaultValue,!0):vo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sl]=s}catch(w){He(t,t.return,w)}}break;case 6:if(bn(e,t),Fn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){He(t,t.return,w)}}break;case 3:if(bn(e,t),Fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wl(e.containerInfo)}catch(w){He(t,t.return,w)}break;case 4:bn(e,t),Fn(t);break;case 13:bn(e,t),Fn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gv=Xe())),r&4&&u_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(c=Nt)||d,bn(e,t),Nt=c):bn(e,t),Fn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(q=t,d=t.child;d!==null;){for(h=q=d;q!==null;){switch(f=q,m=f.child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:co(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(w){He(r,n,w)}}break;case 5:co(f,f.return);break;case 22:if(f.memoizedState!==null){h_(h);continue}}m!==null?(m.return=f,q=m):h_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ZT("display",o))}catch(w){He(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){He(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bn(e,t),Fn(t),r&4&&u_(t);break;case 21:break;default:bn(e,t),Fn(t)}}function Fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CS(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ml(i,""),r.flags&=-33);var s=c_(t);bm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=c_(t);Cm(t,a,o);break;default:throw Error(B(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bD(t,e,n){q=t,IS(t)}function IS(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ru;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=ru;var c=Nt;if(ru=o,(Nt=l)&&!c)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?f_(i):l!==null?(l.return=o,q=l):f_(i);for(;s!==null;)q=s,IS(s),s=s.sibling;q=i,ru=a,Nt=c}d_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):d_(t)}}function d_(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||mh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Yw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Yw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&wl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Nt||e.flags&512&&Sm(e)}catch(f){He(e,e.return,f)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function h_(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function f_(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mh(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{Sm(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{Sm(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var PD=Math.ceil,gd=$r.ReactCurrentDispatcher,pv=$r.ReactCurrentOwner,En=$r.ReactCurrentBatchConfig,ve=0,dt=null,nt=null,_t=0,rn=0,uo=Bi(0),at=0,Al=null,Es=0,gh=0,mv=0,rl=null,Yt=null,gv=0,Vo=1/0,cr=null,vd=!1,Pm=null,_i=null,iu=!1,hi=null,yd=0,il=0,Im=null,Mu=-1,Vu=0;function Gt(){return ve&6?Xe():Mu!==-1?Mu:Mu=Xe()}function Ei(t){return t.mode&1?ve&2&&_t!==0?_t&-_t:uD.transition!==null?(Vu===0&&(Vu=h1()),Vu):(t=xe,t!==0||(t=window.event,t=t===void 0?16:w1(t.type)),t):1}function Dn(t,e,n,r){if(50<il)throw il=0,Im=null,Error(B(185));ec(t,n,r),(!(ve&2)||t!==dt)&&(t===dt&&(!(ve&2)&&(gh|=n),at===4&&oi(t,_t)),Zt(t,r),n===1&&ve===0&&!(e.mode&1)&&(Vo=Xe()+500,hh&&zi()))}function Zt(t,e){var n=t.callbackNode;uN(t,e);var r=td(t,t===dt?_t:0);if(r===0)n!==null&&xw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xw(n),e===1)t.tag===0?cD(p_.bind(null,t)):j1(p_.bind(null,t)),sD(function(){!(ve&6)&&zi()}),n=null;else{switch(f1(r)){case 1:n=Bg;break;case 4:n=u1;break;case 16:n=ed;break;case 536870912:n=d1;break;default:n=ed}n=VS(n,RS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RS(t,e){if(Mu=-1,Vu=0,ve&6)throw Error(B(327));var n=t.callbackNode;if(xo()&&t.callbackNode!==n)return null;var r=td(t,t===dt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wd(t,r);else{e=r;var i=ve;ve|=2;var s=kS();(dt!==t||_t!==e)&&(cr=null,Vo=Xe()+500,ms(t,e));do try{AD();break}catch(a){AS(t,a)}while(1);tv(),gd.current=s,ve=i,nt!==null?e=0:(dt=null,_t=0,e=at)}if(e!==0){if(e===2&&(i=tm(t),i!==0&&(r=i,e=Rm(t,i))),e===1)throw n=Al,ms(t,0),oi(t,r),Zt(t,Xe()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!ID(i)&&(e=wd(t,r),e===2&&(s=tm(t),s!==0&&(r=s,e=Rm(t,s))),e===1))throw n=Al,ms(t,0),oi(t,r),Zt(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ns(t,Yt,cr);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=gv+500-Xe(),10<e)){if(td(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cm(ns.bind(null,t,Yt,cr),e);break}ns(t,Yt,cr);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PD(r/1960))-r,10<r){t.timeoutHandle=cm(ns.bind(null,t,Yt,cr),r);break}ns(t,Yt,cr);break;case 5:ns(t,Yt,cr);break;default:throw Error(B(329))}}}return Zt(t,Xe()),t.callbackNode===n?RS.bind(null,t):null}function Rm(t,e){var n=rl;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=wd(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&Am(e)),t}function Am(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function ID(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!On(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~mv,e&=~gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nn(e),r=1<<n;t[n]=-1,e&=~r}}function p_(t){if(ve&6)throw Error(B(327));xo();var e=td(t,0);if(!(e&1))return Zt(t,Xe()),null;var n=wd(t,e);if(t.tag!==0&&n===2){var r=tm(t);r!==0&&(e=r,n=Rm(t,r))}if(n===1)throw n=Al,ms(t,0),oi(t,e),Zt(t,Xe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ns(t,Yt,cr),Zt(t,Xe()),null}function vv(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Vo=Xe()+500,hh&&zi())}}function xs(t){hi!==null&&hi.tag===0&&!(ve&6)&&xo();var e=ve;ve|=1;var n=En.transition,r=xe;try{if(En.transition=null,xe=1,t)return t()}finally{xe=r,En.transition=n,ve=e,!(ve&6)&&zi()}}function yv(){rn=uo.current,De(uo)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iD(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Jg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&od();break;case 3:Oo(),De(Xt),De(Vt),av();break;case 5:ov(r);break;case 4:Oo();break;case 13:De(je);break;case 19:De(je);break;case 10:nv(r.type._context);break;case 22:case 23:yv()}n=n.return}if(dt=t,nt=t=xi(t.current,null),_t=rn=e,at=0,Al=null,mv=gh=Es=0,Yt=rl=null,us!==null){for(e=0;e<us.length;e++)if(n=us[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}us=null}return t}function AS(t,e){do{var n=nt;try{if(tv(),Nu.current=md,pd){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pd=!1}if(_s=0,ut=st=$e=null,tl=!1,Pl=0,pv.current=null,n===null||n.return===null){at=1,Al=e,nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=t_(o);if(m!==null){m.flags&=-257,n_(m,o,a,s,e),m.mode&1&&e_(s,c,e),e=m,l=c;var E=e.updateQueue;if(E===null){var w=new Set;w.add(l),e.updateQueue=w}else E.add(l);break e}else{if(!(e&1)){e_(s,c,e),wv();break e}l=Error(B(426))}}else if(Le&&a.mode&1){var S=t_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),n_(S,o,a,s,e),Zg(Mo(l,a));break e}}s=l=Mo(l,a),at!==4&&(at=2),rl===null?rl=[s]:rl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=fS(s,l,e);qw(s,x);break e;case 1:a=l;var y=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(_i===null||!_i.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=pS(s,a,e);qw(s,I);break e}}s=s.return}while(s!==null)}DS(n)}catch(O){e=O,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function kS(){var t=gd.current;return gd.current=md,t===null?md:t}function wv(){(at===0||at===3||at===2)&&(at=4),dt===null||!(Es&268435455)&&!(gh&268435455)||oi(dt,_t)}function wd(t,e){var n=ve;ve|=2;var r=kS();(dt!==t||_t!==e)&&(cr=null,ms(t,e));do try{RD();break}catch(i){AS(t,i)}while(1);if(tv(),ve=n,gd.current=r,nt!==null)throw Error(B(261));return dt=null,_t=0,at}function RD(){for(;nt!==null;)NS(nt)}function AD(){for(;nt!==null&&!tN();)NS(nt)}function NS(t){var e=MS(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?DS(t):nt=e,pv.current=null}function DS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TD(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,nt=null;return}}else if(n=xD(n,e,rn),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);at===0&&(at=5)}function ns(t,e,n){var r=xe,i=En.transition;try{En.transition=null,xe=1,kD(t,e,n,r)}finally{En.transition=i,xe=r}return null}function kD(t,e,n,r){do xo();while(hi!==null);if(ve&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(dN(t,s),t===dt&&(nt=dt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,VS(ed,function(){return xo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=En.transition,En.transition=null;var o=xe;xe=1;var a=ve;ve|=4,pv.current=null,CD(t,n),PS(n,t),XN(am),nd=!!om,am=om=null,t.current=n,bD(n),nN(),ve=a,xe=o,En.transition=s}else t.current=n;if(iu&&(iu=!1,hi=t,yd=i),s=t.pendingLanes,s===0&&(_i=null),sN(n.stateNode),Zt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vd)throw vd=!1,t=Pm,Pm=null,t;return yd&1&&t.tag!==0&&xo(),s=t.pendingLanes,s&1?t===Im?il++:(il=0,Im=t):il=0,zi(),null}function xo(){if(hi!==null){var t=f1(yd),e=En.transition,n=xe;try{if(En.transition=null,xe=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,yd=0,ve&6)throw Error(B(331));var i=ve;for(ve|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var f=d.sibling,m=d.return;if(SS(d),d===c){q=null;break}if(f!==null){f.return=m,q=f;break}q=m}}}var E=s.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,q=x;break e}q=s.return}}var y=t.current;for(q=y;q!==null;){o=q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,q=T;else e:for(o=y;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mh(9,a)}}catch(O){He(a,a.return,O)}if(a===o){q=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,q=I;break e}q=a.return}}if(ve=i,zi(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(ah,t)}catch{}r=!0}return r}finally{xe=n,En.transition=e}}return!1}function m_(t,e,n){e=Mo(n,e),e=fS(t,e,1),t=wi(t,e,1),e=Gt(),t!==null&&(ec(t,1,e),Zt(t,e))}function He(t,e,n){if(t.tag===3)m_(t,t,n);else for(;e!==null;){if(e.tag===3){m_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=Mo(n,t),t=pS(e,t,1),e=wi(e,t,1),t=Gt(),e!==null&&(ec(e,1,t),Zt(e,t));break}}e=e.return}}function ND(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(_t&n)===n&&(at===4||at===3&&(_t&130023424)===_t&&500>Xe()-gv?ms(t,0):mv|=n),Zt(t,e)}function OS(t,e){e===0&&(t.mode&1?(e=qc,qc<<=1,!(qc&130023424)&&(qc=4194304)):e=1);var n=Gt();t=Ir(t,e),t!==null&&(ec(t,e,n),Zt(t,n))}function DD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),OS(t,n)}function OD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),OS(t,n)}var MS;MS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,ED(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,Le&&e.flags&1048576&&F1(e,cd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ou(t,e),t=e.pendingProps;var i=ko(e,Vt.current);Eo(e,n),i=cv(null,e,r,t,i,n);var s=uv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(s=!0,ad(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iv(e),i.updater=ph,e.stateNode=i,i._reactInternals=e,gm(e,r,t,n),e=wm(null,e,r,!0,s,n)):(e.tag=0,Le&&s&&Xg(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ou(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VD(r),t=In(r,t),i){case 0:e=ym(null,e,r,t,n);break e;case 1:e=s_(null,e,r,t,n);break e;case 11:e=r_(null,e,r,t,n);break e;case 14:e=i_(null,e,r,In(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),ym(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),s_(t,e,r,i,n);case 3:e:{if(yS(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,H1(t,e),hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Mo(Error(B(423)),e),e=o_(t,e,r,n,i);break e}else if(r!==i){i=Mo(Error(B(424)),e),e=o_(t,e,r,n,i);break e}else for(on=yi(e.stateNode.containerInfo.firstChild),an=e,Le=!0,An=null,n=z1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(No(),r===i){e=Rr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return G1(e),t===null&&fm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,lm(r,i)?o=null:s!==null&&lm(r,s)&&(e.flags|=32),vS(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&fm(e),null;case 13:return wS(t,e,n);case 4:return sv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Do(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),r_(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(ud,r._currentValue),r._currentValue=o,s!==null)if(On(s.value,o)){if(s.children===i.children&&!Xt.current){e=Rr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_r(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Eo(e,n),i=Tn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),i_(t,e,r,i,n);case 15:return mS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),Ou(t,e),e.tag=1,Jt(r)?(t=!0,ad(e)):t=!1,Eo(e,n),hS(e,r,i),gm(e,r,i,n),wm(null,e,r,!0,t,n);case 19:return _S(t,e,n);case 22:return gS(t,e,n)}throw Error(B(156,e.tag))};function VS(t,e){return c1(t,e)}function MD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new MD(t,e,n,r)}function _v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VD(t){if(typeof t=="function")return _v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fg)return 11;if(t===$g)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")_v(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case eo:return gs(n.children,i,s,e);case jg:o=8,i|=8;break;case $p:return t=_n(12,n,e,i|2),t.elementType=$p,t.lanes=s,t;case Up:return t=_n(13,n,e,i),t.elementType=Up,t.lanes=s,t;case Bp:return t=_n(19,n,e,i),t.elementType=Bp,t.lanes=s,t;case GT:return vh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WT:o=10;break e;case HT:o=9;break e;case Fg:o=11;break e;case $g:o=14;break e;case ni:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=_n(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gs(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function vh(t,e,n,r){return t=_n(22,t,r,e),t.elementType=GT,t.lanes=n,t.stateNode={isHidden:!1},t}function Xf(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function Jf(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ev(t,e,n,r,i,s,o,a,l){return t=new LD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iv(s),t}function jD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LS(t){if(!t)return ki;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Jt(n))return L1(t,n,e)}return e}function jS(t,e,n,r,i,s,o,a,l){return t=Ev(n,r,!0,t,i,s,o,a,l),t.context=LS(null),n=t.current,r=Gt(),i=Ei(n),s=_r(r,i),s.callback=e??null,wi(n,s,i),t.current.lanes=i,ec(t,i,r),Zt(t,r),t}function yh(t,e,n,r){var i=e.current,s=Gt(),o=Ei(i);return n=LS(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,o),t!==null&&(Dn(t,i,o,s),ku(t,i,o)),o}function _d(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xv(t,e){g_(t,e),(t=t.alternate)&&g_(t,e)}function FD(){return null}var FS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tv(t){this._internalRoot=t}wh.prototype.render=Tv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));yh(t,e,null,null)};wh.prototype.unmount=Tv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xs(function(){yh(null,t,null,null)}),e[Pr]=null}};function wh(t){this._internalRoot=t}wh.prototype.unstable_scheduleHydration=function(t){if(t){var e=g1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&y1(t)}};function Sv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function v_(){}function $D(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=_d(o);s.call(c)}}var o=jS(e,r,t,0,null,!1,!1,"",v_);return t._reactRootContainer=o,t[Pr]=o.current,xl(t.nodeType===8?t.parentNode:t),xs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=_d(l);a.call(c)}}var l=Ev(t,0,!1,null,null,!1,!1,"",v_);return t._reactRootContainer=l,t[Pr]=l.current,xl(t.nodeType===8?t.parentNode:t),xs(function(){yh(e,l,n,r)}),l}function Eh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=_d(o);a.call(l)}}yh(e,o,t,i)}else o=$D(n,e,t,i,r);return _d(o)}p1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ba(e.pendingLanes);n!==0&&(zg(e,n|1),Zt(e,Xe()),!(ve&6)&&(Vo=Xe()+500,zi()))}break;case 13:xs(function(){var r=Ir(t,1);if(r!==null){var i=Gt();Dn(r,t,1,i)}}),xv(t,1)}};Wg=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Gt();Dn(e,t,134217728,n)}xv(t,134217728)}};m1=function(t){if(t.tag===13){var e=Ei(t),n=Ir(t,e);if(n!==null){var r=Gt();Dn(n,t,e,r)}xv(t,e)}};g1=function(){return xe};v1=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Jp=function(t,e,n){switch(e){case"input":if(Hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dh(r);if(!i)throw Error(B(90));qT(r),Hp(r,i)}}}break;case"textarea":QT(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};r1=vv;i1=xs;var UD={usingClientEntryPoint:!1,Events:[nc,io,dh,t1,n1,vv]},Da={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BD={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a1(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||FD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{ah=su.inject(BD),Kn=su}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UD;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sv(e))throw Error(B(200));return jD(t,e,null,n)};hn.createRoot=function(t,e){if(!Sv(t))throw Error(B(299));var n=!1,r="",i=FS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ev(t,1,!1,null,null,n,!1,r,i),t[Pr]=e.current,xl(t.nodeType===8?t.parentNode:t),new Tv(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=a1(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return xs(t)};hn.hydrate=function(t,e,n){if(!_h(e))throw Error(B(200));return Eh(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!Sv(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=FS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jS(e,null,t,1,n??null,i,!1,s,o),t[Pr]=e.current,xl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wh(e)};hn.render=function(t,e,n){if(!_h(e))throw Error(B(200));return Eh(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!_h(t))throw Error(B(40));return t._reactRootContainer?(xs(function(){Eh(null,null,t,!1,function(){t._reactRootContainer=null,t[Pr]=null})}),!0):!1};hn.unstable_batchedUpdates=vv;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_h(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Eh(t,e,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function $S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($S)}catch(t){console.error(t)}}$S(),$T.exports=hn;var Wi=$T.exports;const US=IT(Wi);var y_=Wi;jp.createRoot=y_.createRoot,jp.hydrateRoot=y_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kl.apply(this,arguments)}var fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fi||(fi={}));const w_="popstate";function zD(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ns(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),km("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Ed(s))}function r(i,s){Cv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return HD(e,n,r,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WD(){return Math.random().toString(36).substr(2,8)}function __(t,e){return{usr:t.state,key:t.key,idx:e}}function km(t,e,n,r){return n===void 0&&(n=null),kl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ns(e):e,{state:n,key:e&&e.key||r||WD()})}function Ed(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ns(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=fi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(kl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=fi.Pop;let S=d(),x=S==null?null:S-c;c=S,l&&l({action:a,location:w.location,delta:x})}function f(S,x){a=fi.Push;let y=km(w.location,S,x);n&&n(y,S),c=d()+1;let T=__(y,c),I=w.createHref(y);try{o.pushState(T,"",I)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(I)}s&&l&&l({action:a,location:w.location,delta:1})}function m(S,x){a=fi.Replace;let y=km(w.location,S,x);n&&n(y,S),c=d();let T=__(y,c),I=w.createHref(y);o.replaceState(T,"",I),s&&l&&l({action:a,location:w.location,delta:0})}function E(S){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof S=="string"?S:Ed(S);return y=y.replace(/ $/,"%20"),Ue(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let w={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(w_,h),l=S,()=>{i.removeEventListener(w_,h),l=null}},createHref(S){return e(i,S)},createURL:E,encodeLocation(S){let x=E(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(S){return o.go(S)}};return w}var E_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(E_||(E_={}));function GD(t,e,n){return n===void 0&&(n="/"),KD(t,e,n,!1)}function KD(t,e,n,r){let i=typeof e=="string"?Ns(e):e,s=Lo(i.pathname||"/",n);if(s==null)return null;let o=BS(t);qD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=s2(s);a=r2(o[l],c,r)}return a}function BS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ti([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),BS(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:t2(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of zS(s.path))i(s,o,l)}),e}function zS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function qD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YD=/^:[\w-]+$/,QD=3,XD=2,JD=1,ZD=10,e2=-2,x_=t=>t==="*";function t2(t,e){let n=t.split("/"),r=n.length;return n.some(x_)&&(r+=e2),e&&(r+=XD),n.filter(i=>!x_(i)).reduce((i,s)=>i+(YD.test(s)?QD:s===""?JD:ZD),r)}function n2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function r2(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=xd({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=xd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ti([s,h.pathname]),pathnameBase:c2(Ti([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Ti([s,h.pathnameBase]))}return o}function xd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const E=a[h];return m&&!E?c[f]=void 0:c[f]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function i2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function s2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function o2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ns(t):t;return{pathname:n?n.startsWith("/")?n:a2(n,e):e,search:u2(r),hash:d2(i)}}function a2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bv(t,e){let n=l2(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ns(t):(i=kl({},t),Ue(!i.pathname||!i.pathname.includes("?"),Zf("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),Zf("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),Zf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=o2(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),c2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function h2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WS=["post","put","patch","delete"];new Set(WS);const f2=["get",...WS];new Set(f2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(this,arguments)}const xh=g.createContext(null),HS=g.createContext(null),Ur=g.createContext(null),Th=g.createContext(null),Br=g.createContext({outlet:null,matches:[],isDataRoute:!1}),GS=g.createContext(null);function p2(t,e){let{relative:n}=e===void 0?{}:e;na()||Ue(!1);let{basename:r,navigator:i}=g.useContext(Ur),{hash:s,pathname:o,search:a}=Sh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ti([r,o])),i.createHref({pathname:l,search:a,hash:s})}function na(){return g.useContext(Th)!=null}function Hi(){return na()||Ue(!1),g.useContext(Th).location}function KS(t){g.useContext(Ur).static||g.useLayoutEffect(t)}function ic(){let{isDataRoute:t}=g.useContext(Br);return t?R2():m2()}function m2(){na()||Ue(!1);let t=g.useContext(xh),{basename:e,future:n,navigator:r}=g.useContext(Ur),{matches:i}=g.useContext(Br),{pathname:s}=Hi(),o=JSON.stringify(bv(i,n.v7_relativeSplatPath)),a=g.useRef(!1);return KS(()=>{a.current=!0}),g.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Pv(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ti([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const g2=g.createContext(null);function v2(t){let e=g.useContext(Br).outlet;return e&&g.createElement(g2.Provider,{value:t},e)}function Sh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Ur),{matches:i}=g.useContext(Br),{pathname:s}=Hi(),o=JSON.stringify(bv(i,r.v7_relativeSplatPath));return g.useMemo(()=>Pv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function y2(t,e){return w2(t,e)}function w2(t,e,n,r){na()||Ue(!1);let{navigator:i,static:s}=g.useContext(Ur),{matches:o}=g.useContext(Br),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Hi(),h;if(e){var f;let x=typeof e=="string"?Ns(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ue(!1),h=x}else h=d;let m=h.pathname||"/",E=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:GD(t,{pathname:E}),S=S2(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ti([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ti([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&S?g.createElement(Th.Provider,{value:{location:Nl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:fi.Pop}},S):S}function _2(){let t=I2(),e=h2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,s)}const E2=g.createElement(_2,null);class x2 extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Br.Provider,{value:this.props.routeContext},g.createElement(GS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T2(t){let{routeContext:e,match:n,children:r}=t,i=g.useContext(xh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Br.Provider,{value:e},r)}function S2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ue(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,E=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,E=!1,w=null,S=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||E2,l&&(c<0&&f===0?(A2("route-fallback",!1),E=!0,S=null):c===f&&(E=!0,S=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),y=()=>{let T;return m?T=w:E?T=S:h.route.Component?T=g.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,g.createElement(T2,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(x2,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var qS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qS||{}),Td=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Td||{});function C2(t){let e=g.useContext(xh);return e||Ue(!1),e}function b2(t){let e=g.useContext(HS);return e||Ue(!1),e}function P2(t){let e=g.useContext(Br);return e||Ue(!1),e}function YS(t){let e=P2(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function I2(){var t;let e=g.useContext(GS),n=b2(Td.UseRouteError),r=YS(Td.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function R2(){let{router:t}=C2(qS.UseNavigateStable),e=YS(Td.UseNavigateStable),n=g.useRef(!1);return KS(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nl({fromRouteId:e},s)))},[t,e])}const T_={};function A2(t,e,n){!e&&!T_[t]&&(T_[t]=!0)}function k2(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function QS(t){let{to:e,replace:n,state:r,relative:i}=t;na()||Ue(!1);let{future:s,static:o}=g.useContext(Ur),{matches:a}=g.useContext(Br),{pathname:l}=Hi(),c=ic(),d=Pv(e,bv(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return g.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function XS(t){return v2(t.context)}function mn(t){Ue(!1)}function N2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fi.Pop,navigator:s,static:o=!1,future:a}=t;na()&&Ue(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:s,static:o,future:Nl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ns(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:E="default"}=r,w=g.useMemo(()=>{let S=Lo(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:m,key:E},navigationType:i}},[l,d,h,f,m,E,i]);return w==null?null:g.createElement(Ur.Provider,{value:c},g.createElement(Th.Provider,{children:n,value:w}))}function D2(t){let{children:e,location:n}=t;return y2(Nm(e),n)}new Promise(()=>{});function Nm(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,Nm(r.props.children,s));return}r.type!==mn&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(this,arguments)}function JS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function O2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M2(t,e){return t.button===0&&(!e||e==="_self")&&!O2(t)}const V2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L2=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],j2="6";try{window.__reactRouterVersion=j2}catch{}const F2=g.createContext({isTransitioning:!1}),$2="startTransition",S_=oh[$2];function U2(t){let{basename:e,children:n,future:r,window:i}=t,s=g.useRef();s.current==null&&(s.current=zD({window:i,v5Compat:!0}));let o=s.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=g.useCallback(h=>{c&&S_?S_(()=>l(h)):l(h)},[l,c]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>k2(r),[r]),g.createElement(N2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const B2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iv=g.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=JS(e,V2),{basename:m}=g.useContext(Ur),E,w=!1;if(typeof c=="string"&&z2.test(c)&&(E=c,B2))try{let T=new URL(window.location.href),I=c.startsWith("//")?new URL(T.protocol+c):new URL(c),O=Lo(I.pathname,m);I.origin===T.origin&&O!=null?c=O+I.search+I.hash:w=!0}catch{}let S=p2(c,{relative:i}),x=G2(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function y(T){r&&r(T),T.defaultPrevented||x(T)}return g.createElement("a",Sd({},f,{href:E||S,onClick:w||s?r:y,ref:n,target:l}))}),W2=g.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:d}=e,h=JS(e,L2),f=Sh(l,{relative:h.relative}),m=Hi(),E=g.useContext(HS),{navigator:w,basename:S}=g.useContext(Ur),x=E!=null&&K2(f)&&c===!0,y=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,T=m.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(T=T.toLowerCase(),I=I?I.toLowerCase():null,y=y.toLowerCase()),I&&S&&(I=Lo(I,S)||I);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let M=T===y||!o&&T.startsWith(y)&&T.charAt(O)==="/",b=I!=null&&(I===y||!o&&I.startsWith(y)&&I.charAt(y.length)==="/"),C={isActive:M,isPending:b,isTransitioning:x},R=M?r:void 0,A;typeof s=="function"?A=s(C):A=[s,M?"active":null,b?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(C):a;return g.createElement(Iv,Sd({},h,{"aria-current":R,className:A,ref:n,style:N,to:l,viewTransition:c}),typeof d=="function"?d(C):d)});var Dm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dm||(Dm={}));var C_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(C_||(C_={}));function H2(t){let e=g.useContext(xh);return e||Ue(!1),e}function G2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ic(),c=Hi(),d=Sh(t,{relative:o});return g.useCallback(h=>{if(M2(h,n)){h.preventDefault();let f=r!==void 0?r:Ed(c)===Ed(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}function K2(t,e){e===void 0&&(e={});let n=g.useContext(F2);n==null&&Ue(!1);let{basename:r}=H2(Dm.useViewTransitionState),i=Sh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Lo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Lo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xd(i.pathname,o)!=null||xd(i.pathname,s)!=null}function ZS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function eC(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZS(t))&&(r&&(r+=" "),r+=e);return r}function q2(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=tC(e))&&(r&&(r+=" "),r+=n);return r}function tC(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=tC(t[r]))&&(n&&(n+=" "),n+=e);return n}var Rv="-";function Y2(t){var e=X2(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(Rv);return l[0]===""&&l.length!==1&&l.shift(),nC(l,e)||Q2(a)}function o(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function nC(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?nC(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(Rv);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var b_=/^\[(.+)\]$/;function Q2(t){if(b_.test(t)){var e=b_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function X2(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=Z2(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];Om(a,r,o,e)}),r}function Om(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:P_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(J2(i)){Om(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];Om(l,P_(e,a),n,r)})})}function P_(t,e){var n=t;return e.split(Rv).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function J2(t){return t.isThemeGetter}function Z2(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,s]}):t}function eO(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var rC="!";function tO(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,c=0,d,h=0;h<o.length;h++){var f=o[h];if(l===0){if(f===r&&(n||o.slice(h,h+i)===e)){a.push(o.slice(c,h)),c=h+i;continue}if(f==="/"){d=h;continue}}f==="["?l++:f==="]"&&l--}var m=a.length===0?o:o.substring(c),E=m.startsWith(rC),w=E?m.substring(1):m,S=d&&d>c?d-c:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:w,maybePostfixModifierPosition:S}}}function nO(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function rO(t){return{cache:eO(t.cacheSize),splitModifiers:tO(t),...Y2(t)}}var iO=/\s+/;function sO(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(iO).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,d=a.baseClassName,h=a.maybePostfixModifierPosition,f=r(h?d.substring(0,h):d),m=!!h;if(!f){if(!h)return{isTailwindClass:!1,originalClassName:o};if(f=r(d),!f)return{isTailwindClass:!1,originalClassName:o};m=!1}var E=nO(l).join(":"),w=c?E+rC:E;return{isTailwindClass:!0,modifierId:w,classGroupId:f,originalClassName:o,hasPostfixModifier:m}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,d=a+l;return s.has(d)?!1:(s.add(d),i(l,c).forEach(function(h){return s.add(a+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function oO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(c){var d=e[0],h=e.slice(1),f=h.reduce(function(m,E){return E(m)},d());return r=rO(f),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var d=i(c);if(d)return d;var h=sO(c,r);return s(c,h),h}return function(){return o(q2.apply(null,arguments))}}function ke(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var iC=/^\[(?:([a-z-]+):)?(.+)\]$/i,aO=/^\d+\/\d+$/,lO=new Set(["px","full","screen"]),cO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dO=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Pn(t){return hs(t)||lO.has(t)||aO.test(t)||Mm(t)}function Mm(t){return Ds(t,"length",vO)}function hO(t){return Ds(t,"size",sC)}function fO(t){return Ds(t,"position",sC)}function pO(t){return Ds(t,"url",yO)}function ou(t){return Ds(t,"number",hs)}function hs(t){return!Number.isNaN(Number(t))}function mO(t){return t.endsWith("%")&&hs(t.slice(0,-1))}function Oa(t){return I_(t)||Ds(t,"number",I_)}function de(t){return iC.test(t)}function Ma(){return!0}function Qr(t){return cO.test(t)}function gO(t){return Ds(t,"",wO)}function Ds(t,e,n){var r=iC.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function vO(t){return uO.test(t)}function sC(){return!1}function yO(t){return t.startsWith("url(")}function I_(t){return Number.isInteger(Number(t))}function wO(t){return dO.test(t)}function _O(){var t=ke("colors"),e=ke("spacing"),n=ke("blur"),r=ke("brightness"),i=ke("borderColor"),s=ke("borderRadius"),o=ke("borderSpacing"),a=ke("borderWidth"),l=ke("contrast"),c=ke("grayscale"),d=ke("hueRotate"),h=ke("invert"),f=ke("gap"),m=ke("gradientColorStops"),E=ke("gradientColorStopPositions"),w=ke("inset"),S=ke("margin"),x=ke("opacity"),y=ke("padding"),T=ke("saturate"),I=ke("scale"),O=ke("sepia"),M=ke("skew"),b=ke("space"),C=ke("translate"),R=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},N=function(){return["auto",de,e]},D=function(){return[de,e]},k=function(){return["",Pn]},$=function(){return["auto",hs,de]},G=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},W=function(){return["solid","dashed","dotted","double","none"]},X=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},j=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",de]},K=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Y=function(){return[hs,ou]},te=function(){return[hs,de]};return{cacheSize:500,theme:{colors:[Ma],spacing:[Pn],blur:["none","",Qr,de],brightness:Y(),borderColor:[t],borderRadius:["none","","full",Qr,de],borderSpacing:D(),borderWidth:k(),contrast:Y(),grayscale:z(),hueRotate:te(),invert:z(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[mO,Mm],inset:N(),margin:N(),opacity:Y(),padding:D(),saturate:Y(),scale:Y(),sepia:z(),skew:te(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[Qr]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(G(),[de])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oa]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Oa]}],"grid-cols":[{"grid-cols":[Ma]}],"col-start-end":[{col:["auto",{span:["full",Oa]},de]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ma]}],"row-start-end":[{row:["auto",{span:[Oa]},de]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(j())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(j(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(j(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",de,e]}],"min-w":[{"min-w":["min","max","fit",de,Pn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Qr]},Qr,de]}],h:[{h:[de,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",de,Pn]}],"max-h":[{"max-h":[de,e,"min","max","fit"]}],"font-size":[{text:["base",Qr,Mm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ou]}],"font-family":[{font:[Ma]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",hs,ou]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",de,Pn]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(W(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Pn]}],"underline-offset":[{"underline-offset":["auto",de,Pn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(G(),[fO])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(W(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(W())}],"outline-offset":[{"outline-offset":[de,Pn]}],"outline-w":[{outline:[Pn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Pn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qr,gO]}],"shadow-color":[{shadow:[Ma]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":X()}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Qr,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Oa,de]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Pn,ou]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var EO=oO(_O);function Re(...t){return EO(eC(t))}function Ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function R_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xO(...t){return e=>{let n=!1;const r=t.map(i=>{const s=R_(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():R_(t[i],null)}}}}function Ar(...t){return g.useCallback(xO(...t),t)}function Ch(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:f,children:m,...E}=h,w=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,S=g.useMemo(()=>E,Object.values(E));return v.jsx(w.Provider,{value:S,children:m})};c.displayName=s+"Provider";function d(h,f){var w;const m=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,E=g.useContext(m);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,TO(i,...e)]}function TO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Cd(t){const e=CO(t),n=g.forwardRef((r,i)=>{const{children:s,...o}=r,a=g.Children.toArray(s),l=a.find(PO);if(l){const c=l.props.children,d=a.map(h=>h===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:h);return v.jsx(e,{...o,ref:i,children:g.isValidElement(c)?g.cloneElement(c,void 0,d):null})}return v.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var SO=Cd("Slot");function CO(t){const e=g.forwardRef((n,r)=>{const{children:i,...s}=n,o=g.isValidElement(i)?RO(i):void 0,a=Ar(o,r);if(g.isValidElement(i)){const l=IO(s,i.props);return i.type!==g.Fragment&&(l.ref=a),g.cloneElement(i,l)}return g.Children.count(i)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bO=Symbol("radix.slottable");function PO(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bO}function IO(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function RO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function oC(t){const e=t+"CollectionProvider",[n,r]=Ch(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:S,children:x}=w,y=se.useRef(null),T=se.useRef(new Map).current;return v.jsx(i,{scope:S,itemMap:T,collectionRef:y,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Cd(a),c=se.forwardRef((w,S)=>{const{scope:x,children:y}=w,T=s(a,x),I=Ar(S,T.collectionRef);return v.jsx(l,{ref:I,children:y})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Cd(d),m=se.forwardRef((w,S)=>{const{scope:x,children:y,...T}=w,I=se.useRef(null),O=Ar(S,I),M=s(d,x);return se.useEffect(()=>(M.itemMap.set(I,{ref:I,...T}),()=>void M.itemMap.delete(I))),v.jsx(f,{[h]:"",ref:O,children:y})});m.displayName=d;function E(w){const S=s(t+"CollectionConsumer",w);return se.useCallback(()=>{const y=S.collectionRef.current;if(!y)return[];const T=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((M,b)=>T.indexOf(M.ref.current)-T.indexOf(b.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},E,r]}var AO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=AO.reduce((t,e)=>{const n=Cd(`Primitive.${e}`),r=g.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function aC(t,e){t&&Wi.flushSync(()=>t.dispatchEvent(e))}function Ni(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function kO(t,e=globalThis==null?void 0:globalThis.document){const n=Ni(t);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var NO="DismissableLayer",Vm="dismissableLayer.update",DO="dismissableLayer.pointerDownOutside",OO="dismissableLayer.focusOutside",A_,lC=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cC=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=g.useContext(lC),[d,h]=g.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),E=Ar(e,b=>h(b)),w=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(S),y=d?w.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,I=y>=x,O=VO(b=>{const C=b.target,R=[...c.branches].some(A=>A.contains(C));!I||R||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},f),M=LO(b=>{const C=b.target;[...c.branches].some(A=>A.contains(C))||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},f);return kO(b=>{y===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},f),g.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(A_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),k_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=A_)}},[d,f,n,c]),g.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),k_())},[d,c]),g.useEffect(()=>{const b=()=>m({});return document.addEventListener(Vm,b),()=>document.removeEventListener(Vm,b)},[]),v.jsx(ht.div,{...l,ref:E,style:{pointerEvents:T?I?"auto":"none":void 0,...t.style},onFocusCapture:Ke(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ke(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ke(t.onPointerDownCapture,O.onPointerDownCapture)})});cC.displayName=NO;var MO="DismissableLayerBranch",uC=g.forwardRef((t,e)=>{const n=g.useContext(lC),r=g.useRef(null),i=Ar(e,r);return g.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),v.jsx(ht.div,{...t,ref:i})});uC.displayName=MO;function VO(t,e=globalThis==null?void 0:globalThis.document){const n=Ni(t),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){dC(DO,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function LO(t,e=globalThis==null?void 0:globalThis.document){const n=Ni(t),r=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!r.current&&dC(OO,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function k_(){const t=new CustomEvent(Vm);document.dispatchEvent(t)}function dC(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?aC(i,s):i.dispatchEvent(s)}var jO=cC,FO=uC,jo=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},$O="Portal",hC=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=g.useState(!1);jo(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?US.createPortal(v.jsx(ht.div,{...r,ref:e}),o):null});hC.displayName=$O;function UO(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Av=t=>{const{present:e,children:n}=t,r=BO(e),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),s=Ar(r.ref,zO(i));return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:s}):null};Av.displayName="Presence";function BO(t){const[e,n]=g.useState(),r=g.useRef(null),i=g.useRef(t),s=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=UO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=au(r.current);s.current=a==="mounted"?c:"none"},[a]),jo(()=>{const c=r.current,d=i.current;if(d!==t){const f=s.current,m=au(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),jo(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const w=au(r.current).includes(m.animationName);if(m.target===e&&w&&(l("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},f=m=>{m.target===e&&(s.current=au(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function au(t){return(t==null?void 0:t.animationName)||"none"}function zO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var WO=oh[" useInsertionEffect ".trim().toString()]||jo;function kv({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=HO({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=g.useCallback(d=>{var h;if(a){const f=GO(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else s(d)},[a,t,s,o]);return[l,c]}function HO({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),i=g.useRef(n),s=g.useRef(e);return WO(()=>{s.current=e},[e]),g.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function GO(t){return typeof t=="function"}var KO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qO="VisuallyHidden",Nv=g.forwardRef((t,e)=>v.jsx(ht.span,{...t,ref:e,style:{...KO,...t.style}}));Nv.displayName=qO;var Dv="ToastProvider",[Ov,YO,QO]=oC("Toast"),[fC,xG]=Ch("Toast",[QO]),[XO,bh]=fC(Dv),pC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=g.useState(null),[c,d]=g.useState(0),h=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dv}\`. Expected non-empty \`string\`.`),v.jsx(Ov.Provider,{scope:e,children:v.jsx(XO,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};pC.displayName=Dv;var mC="ToastViewport",JO=["F8"],Lm="toast.viewportPause",jm="toast.viewportResume",gC=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=JO,label:i="Notifications ({hotkey})",...s}=t,o=bh(mC,n),a=YO(n),l=g.useRef(null),c=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=Ar(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;g.useEffect(()=>{const S=x=>{var T;r.length!==0&&r.every(I=>x[I]||x.code===I)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=l.current,x=h.current;if(E&&S&&x){const y=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Lm);x.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(jm);x.dispatchEvent(M),o.isClosePausedRef.current=!1}},I=M=>{!S.contains(M.relatedTarget)&&T()},O=()=>{S.contains(document.activeElement)||T()};return S.addEventListener("focusin",y),S.addEventListener("focusout",I),S.addEventListener("pointermove",y),S.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",T),()=>{S.removeEventListener("focusin",y),S.removeEventListener("focusout",I),S.removeEventListener("pointermove",y),S.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",T)}}},[E,o.isClosePausedRef]);const w=g.useCallback(({tabbingDirection:S})=>{const y=a().map(T=>{const I=T.ref.current,O=[I,...dM(I)];return S==="forwards"?O:O.reverse()});return(S==="forwards"?y.reverse():y).flat()},[a]);return g.useEffect(()=>{const S=h.current;if(S){const x=y=>{var O,M,b;const T=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!T){const C=document.activeElement,R=y.shiftKey;if(y.target===S&&R){(O=c.current)==null||O.focus();return}const D=w({tabbingDirection:R?"backwards":"forwards"}),k=D.findIndex($=>$===C);ep(D.slice(k+1))?y.preventDefault():R?(M=c.current)==null||M.focus():(b=d.current)==null||b.focus()}};return S.addEventListener("keydown",x),()=>S.removeEventListener("keydown",x)}},[a,w]),v.jsxs(FO,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&v.jsx(Fm,{ref:c,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"forwards"});ep(S)}}),v.jsx(Ov.Slot,{scope:n,children:v.jsx(ht.ol,{tabIndex:-1,...s,ref:f})}),E&&v.jsx(Fm,{ref:d,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"backwards"});ep(S)}})]})});gC.displayName=mC;var vC="ToastFocusProxy",Fm=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=bh(vC,n);return v.jsx(Nv,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Fm.displayName=vC;var sc="Toast",ZO="toast.swipeStart",eM="toast.swipeMove",tM="toast.swipeCancel",nM="toast.swipeEnd",yC=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=kv({prop:r,defaultProp:i??!0,onChange:s,caller:sc});return v.jsx(Av,{present:n||a,children:v.jsx(sM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ni(t.onPause),onResume:Ni(t.onResume),onSwipeStart:Ke(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ke(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});yC.displayName=sc;var[rM,iM]=fC(sc,{onClose(){}}),sM=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...E}=t,w=bh(sc,n),[S,x]=g.useState(null),y=Ar(e,$=>x($)),T=g.useRef(null),I=g.useRef(null),O=i||w.duration,M=g.useRef(0),b=g.useRef(O),C=g.useRef(0),{onToastAdd:R,onToastRemove:A}=w,N=Ni(()=>{var G;(S==null?void 0:S.contains(document.activeElement))&&((G=w.viewport)==null||G.focus()),o()}),D=g.useCallback($=>{!$||$===1/0||(window.clearTimeout(C.current),M.current=new Date().getTime(),C.current=window.setTimeout(N,$))},[N]);g.useEffect(()=>{const $=w.viewport;if($){const G=()=>{D(b.current),c==null||c()},W=()=>{const X=new Date().getTime()-M.current;b.current=b.current-X,window.clearTimeout(C.current),l==null||l()};return $.addEventListener(Lm,W),$.addEventListener(jm,G),()=>{$.removeEventListener(Lm,W),$.removeEventListener(jm,G)}}},[w.viewport,O,l,c,D]),g.useEffect(()=>{s&&!w.isClosePausedRef.current&&D(O)},[s,O,w.isClosePausedRef,D]),g.useEffect(()=>(R(),()=>A()),[R,A]);const k=g.useMemo(()=>S?CC(S):null,[S]);return w.viewport?v.jsxs(v.Fragment,{children:[k&&v.jsx(oM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),v.jsx(rM,{scope:n,onClose:N,children:Wi.createPortal(v.jsx(Ov.ItemSlot,{scope:n,children:v.jsx(jO,{asChild:!0,onEscapeKeyDown:Ke(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||N(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...E,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ke(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Ke(t.onPointerDown,$=>{$.button===0&&(T.current={x:$.clientX,y:$.clientY})}),onPointerMove:Ke(t.onPointerMove,$=>{if(!T.current)return;const G=$.clientX-T.current.x,W=$.clientY-T.current.y,X=!!I.current,j=["left","right"].includes(w.swipeDirection),z=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,K=j?z(0,G):0,Y=j?0:z(0,W),te=$.pointerType==="touch"?10:2,ne={x:K,y:Y},Se={originalEvent:$,delta:ne};X?(I.current=ne,lu(eM,h,Se,{discrete:!1})):N_(ne,w.swipeDirection,te)?(I.current=ne,lu(ZO,d,Se,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(G)>te||Math.abs(W)>te)&&(T.current=null)}),onPointerUp:Ke(t.onPointerUp,$=>{const G=I.current,W=$.target;if(W.hasPointerCapture($.pointerId)&&W.releasePointerCapture($.pointerId),I.current=null,T.current=null,G){const X=$.currentTarget,j={originalEvent:$,delta:G};N_(G,w.swipeDirection,w.swipeThreshold)?lu(nM,m,j,{discrete:!0}):lu(tM,f,j,{discrete:!0}),X.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),oM=t=>{const{__scopeToast:e,children:n,...r}=t,i=bh(sc,e),[s,o]=g.useState(!1),[a,l]=g.useState(!1);return cM(()=>o(!0)),g.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:v.jsx(hC,{asChild:!0,children:v.jsx(Nv,{...r,children:s&&v.jsxs(v.Fragment,{children:[i.label," ",n]})})})},aM="ToastTitle",wC=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(ht.div,{...r,ref:e})});wC.displayName=aM;var lM="ToastDescription",_C=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(ht.div,{...r,ref:e})});_C.displayName=lM;var EC="ToastAction",xC=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?v.jsx(SC,{altText:n,asChild:!0,children:v.jsx(Mv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${EC}\`. Expected non-empty \`string\`.`),null)});xC.displayName=EC;var TC="ToastClose",Mv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=iM(TC,n);return v.jsx(SC,{asChild:!0,children:v.jsx(ht.button,{type:"button",...r,ref:e,onClick:Ke(t.onClick,i.onClose)})})});Mv.displayName=TC;var SC=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return v.jsx(ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function CC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),uM(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...CC(r))}}),e}function lu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?aC(i,s):i.dispatchEvent(s)}var N_=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function cM(t=()=>{}){const e=Ni(t);jo(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function uM(t){return t.nodeType===t.ELEMENT_NODE}function dM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ep(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var hM=pC,bC=gC,PC=yC,IC=wC,RC=_C,AC=xC,kC=Mv;const D_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,O_=eC,Vv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return O_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],h=s==null?void 0:s[c];if(d===null)return null;const f=D_(d)||D_(h);return i[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(E=>{let[w,S]=E;return Array.isArray(S)?S.includes({...s,...a}[w]):{...s,...a}[w]===S})?[...c,h,f]:c},[]);return O_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};var fM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ze=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>g.createElement("svg",{ref:c,...fM,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${pM(t)}`,...l},[...e.map(([d,h])=>g.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},NC=Ze("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),mM=Ze("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),DC=Ze("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),gM=Ze("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),vM=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Lv=Ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),yM=Ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),OC=Ze("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]),wM=Ze("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),_M=Ze("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),EM=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),xM=Ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),TM=Ze("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Dl=Ze("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),SM=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),$m=Ze("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Ph=Ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),CM=Ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),bM=Ze("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),MC=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),PM=Ze("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),IM=hM,VC=se.forwardRef(({className:t,...e},n)=>v.jsx(bC,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));VC.displayName=bC.displayName;const RM=Vv("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LC=se.forwardRef(({className:t,variant:e,...n},r)=>v.jsx(PC,{ref:r,className:Re(RM({variant:e}),t),...n}));LC.displayName=PC.displayName;const AM=se.forwardRef(({className:t,...e},n)=>v.jsx(AC,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));AM.displayName=AC.displayName;const jC=se.forwardRef(({className:t,...e},n)=>v.jsx(kC,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:v.jsx(MC,{className:"h-4 w-4"})}));jC.displayName=kC.displayName;const FC=se.forwardRef(({className:t,...e},n)=>v.jsx(IC,{ref:n,className:Re("text-sm font-semibold",t),...e}));FC.displayName=IC.displayName;const $C=se.forwardRef(({className:t,...e},n)=>v.jsx(RC,{ref:n,className:Re("text-sm opacity-90",t),...e}));$C.displayName=RC.displayName;const kM=1;let tp=0;function NM(){return tp=(tp+1)%Number.MAX_VALUE,tp.toString()}const Ut={state:{toasts:[]},listeners:[],getState:()=>Ut.state,setState:t=>{typeof t=="function"?Ut.state=t(Ut.state):Ut.state={...Ut.state,...t},Ut.listeners.forEach(e=>e(Ut.state))},subscribe:t=>(Ut.listeners.push(t),()=>{Ut.listeners=Ut.listeners.filter(e=>e!==t)})},DM=({...t})=>{const e=NM(),n=i=>Ut.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>Ut.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return Ut.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,kM)})),{id:e,dismiss:r,update:n}};function oc(){const[t,e]=g.useState(Ut.getState());return g.useEffect(()=>Ut.subscribe(r=>{e(r)}),[]),g.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:DM,toasts:t.toasts}}function OM(){const{toasts:t}=oc();return v.jsxs(IM,{children:[t.map(({id:e,title:n,description:r,action:i,...s})=>v.jsxs(LC,{...s,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(FC,{children:n}),r&&v.jsx($C,{children:r})]}),i,v.jsx(jC,{})]},e)),v.jsx(VC,{})]})}const UC=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ih=g.createContext({}),Rh=g.createContext(null),Ah=typeof document<"u",jv=Ah?g.useLayoutEffect:g.useEffect,BC=g.createContext({strict:!1}),Fv=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),MM="framerAppearId",zC="data-"+Fv(MM);function VM(t,e,n,r){const{visualElement:i}=g.useContext(Ih),s=g.useContext(BC),o=g.useContext(Rh),a=g.useContext(UC).reducedMotion,l=g.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;g.useInsertionEffect(()=>{c&&c.update(n,o)});const d=g.useRef(!!(n[zC]&&!window.HandoffComplete));return jv(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),g.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function ho(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LM(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ho(n)&&(n.current=r))},[e])}function Ol(t){return typeof t=="string"||Array.isArray(t)}function kh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const $v=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uv=["initial",...$v];function Nh(t){return kh(t.animate)||Uv.some(e=>Ol(t[e]))}function WC(t){return!!(Nh(t)||t.variants)}function jM(t,e){if(Nh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ol(n)?n:void 0,animate:Ol(r)?r:void 0}}return t.inherit!==!1?e:{}}function FM(t){const{initial:e,animate:n}=jM(t,g.useContext(Ih));return g.useMemo(()=>({initial:e,animate:n}),[M_(e),M_(n)])}function M_(t){return Array.isArray(t)?t.join(" "):t}const V_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ml={};for(const t in V_)Ml[t]={isEnabled:e=>V_[t].some(n=>!!e[n])};function $M(t){for(const e in t)Ml[e]={...Ml[e],...t[e]}}const Bv=g.createContext({}),HC=g.createContext({}),UM=Symbol.for("motionComponentSymbol");function BM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&$M(t);function s(a,l){let c;const d={...g.useContext(UC),...a,layoutId:zM(a)},{isStatic:h}=d,f=FM(a),m=r(a,h);if(!h&&Ah){f.visualElement=VM(i,m,d,e);const E=g.useContext(HC),w=g.useContext(BC).strict;f.visualElement&&(c=f.visualElement.loadFeatures(d,w,t,E))}return g.createElement(Ih.Provider,{value:f},c&&f.visualElement?g.createElement(c,{visualElement:f.visualElement,...d}):null,n(i,a,LM(m,f.visualElement,l),m,h,f.visualElement))}const o=g.forwardRef(s);return o[UM]=i,o}function zM({layoutId:t}){const e=g.useContext(Bv).id;return e&&t!==void 0?e+"-"+t:t}function WM(t){function e(r,i={}){return BM(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const HM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zv(t){return typeof t!="string"||t.includes("-")?!1:!!(HM.indexOf(t)>-1||/[A-Z]/.test(t))}const bd={};function GM(t){Object.assign(bd,t)}const ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Os=new Set(ac);function GC(t,{layout:e,layoutId:n}){return Os.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bd[t]||t==="opacity")}const en=t=>!!(t&&t.getVelocity),KM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qM=ac.length;function YM(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<qM;o++){const a=ac[o];if(t[a]!==void 0){const l=KM[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const KC=t=>e=>typeof e=="string"&&e.startsWith(t),qC=KC("--"),Um=KC("var(--"),QM=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,XM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Di=(t,e,n)=>Math.min(Math.max(n,t),e),Ms={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sl={...Ms,transform:t=>Di(0,1,t)},cu={...Ms,default:1},ol=t=>Math.round(t*1e5)/1e5,Dh=/(-)?([\d]*\.?[\d])+/g,YC=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,JM=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function lc(t){return typeof t=="string"}const cc=t=>({test:e=>lc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zr=cc("deg"),Yn=cc("%"),re=cc("px"),ZM=cc("vh"),eV=cc("vw"),L_={...Yn,parse:t=>Yn.parse(t)/100,transform:t=>Yn.transform(t*100)},j_={...Ms,transform:Math.round},QC={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:Zr,rotateX:Zr,rotateY:Zr,rotateZ:Zr,scale:cu,scaleX:cu,scaleY:cu,scaleZ:cu,skew:Zr,skewX:Zr,skewY:Zr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:sl,originX:L_,originY:L_,originZ:re,zIndex:j_,fillOpacity:sl,strokeOpacity:sl,numOctaves:j_};function Wv(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const h in e){const f=e[h];if(qC(h)){s[h]=f;continue}const m=QC[h],E=XM(f,m);if(Os.has(h)){if(l=!0,o[h]=E,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=E):i[h]=E}if(e.transform||(l||r?i.transform=YM(t.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${f} ${m}`}}const Hv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XC(t,e,n){for(const r in e)!en(e[r])&&!GC(r,n)&&(t[r]=e[r])}function tV({transformTemplate:t},e,n){return g.useMemo(()=>{const r=Hv();return Wv(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function nV(t,e,n){const r=t.style||{},i={};return XC(i,r,t),Object.assign(i,tV(t,e,n)),t.transformValues?t.transformValues(i):i}function rV(t,e,n){const r={},i=nV(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const iV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iV.has(t)}let JC=t=>!Pd(t);function sV(t){t&&(JC=e=>e.startsWith("on")?!Pd(e):t(e))}try{sV(require("@emotion/is-prop-valid").default)}catch{}function oV(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(JC(i)||n===!0&&Pd(i)||!e&&!Pd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function F_(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function aV(t,e,n){const r=F_(e,t.x,t.width),i=F_(n,t.y,t.height);return`${r} ${i}`}const lV={offset:"stroke-dashoffset",array:"stroke-dasharray"},cV={offset:"strokeDashoffset",array:"strokeDasharray"};function uV(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?lV:cV;t[s.offset]=re.transform(-r);const o=re.transform(e),a=re.transform(n);t[s.array]=`${o} ${a}`}function Gv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h,f){if(Wv(t,c,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:E,dimensions:w}=t;m.transform&&(w&&(E.transform=m.transform),delete m.transform),w&&(i!==void 0||s!==void 0||E.transform)&&(E.transformOrigin=aV(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&uV(m,o,a,l,!1)}const ZC=()=>({...Hv(),attrs:{}}),Kv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dV(t,e,n,r){const i=g.useMemo(()=>{const s=ZC();return Gv(s,e,{enableHardwareAcceleration:!1},Kv(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};XC(s,t.style,t),i.style={...s,...i.style}}return i}function hV(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(zv(n)?dV:rV)(r,s,o,n),d={...oV(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=g.useMemo(()=>en(h)?h.get():h,[h]);return g.createElement(n,{...d,children:f})}}function eb(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const tb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nb(t,e,n,r){eb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(tb.has(i)?i:Fv(i),e.attrs[i])}function qv(t,e){const{style:n}=t,r={};for(const i in n)(en(n[i])||e.style&&en(e.style[i])||GC(i,t))&&(r[i]=n[i]);return r}function rb(t,e){const n=qv(t,e);for(const r in t)if(en(t[r])||en(e[r])){const i=ac.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Yv(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function ib(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const Id=t=>Array.isArray(t),fV=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),pV=t=>Id(t)?t[t.length-1]||0:t;function ju(t){const e=en(t)?t.get():t;return fV(e)?e.toValue():e}function mV({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:gV(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const sb=t=>(e,n)=>{const r=g.useContext(Ih),i=g.useContext(Rh),s=()=>mV(t,e,r,i);return n?s():ib(s)};function gV(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=ju(s[f]);let{initial:o,animate:a}=t;const l=Nh(t),c=WC(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!kh(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const E=Yv(t,m);if(!E)return;const{transitionEnd:w,transition:S,...x}=E;for(const y in x){let T=x[y];if(Array.isArray(T)){const I=d?T.length-1:0;T=T[I]}T!==null&&(i[y]=T)}for(const y in w)i[y]=w[y]}),i}const qe=t=>t;class $_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function vV(t){let e=new $_,n=new $_,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&i,f=h?e:n;return c&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const uu=["prepare","read","update","preRender","render","postRender"],yV=40;function wV(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=uu.reduce((h,f)=>(h[f]=vV(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,yV),1),i.timestamp=h,i.isProcessing=!0,uu.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:uu.reduce((h,f)=>{const m=s[f];return h[f]=(E,w=!1,S=!1)=>(n||l(),m.schedule(E,w,S)),h},{}),cancel:h=>uu.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Ie,cancel:kr,state:At,steps:np}=wV(typeof requestAnimationFrame<"u"?requestAnimationFrame:qe,!0),_V={useVisualState:sb({scrapeMotionValuesFromProps:rb,createRenderState:ZC,onMount:(t,e,{renderState:n,latestValues:r})=>{Ie.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ie.render(()=>{Gv(n,r,{enableHardwareAcceleration:!1},Kv(e.tagName),t.transformTemplate),nb(e,n)})}})},EV={useVisualState:sb({scrapeMotionValuesFromProps:qv,createRenderState:Hv})};function xV(t,{forwardMotionProps:e=!1},n,r){return{...zv(t)?_V:EV,preloadedFeatures:n,useRender:hV(e),createVisualElement:r,Component:t}}function mr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const ob=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Oh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const TV=t=>e=>ob(e)&&t(e,Oh(e));function Er(t,e,n,r){return mr(t,e,TV(n),r)}const SV=(t,e)=>n=>e(t(n)),Si=(...t)=>t.reduce(SV);function ab(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const U_=ab("dragHorizontal"),B_=ab("dragVertical");function lb(t){let e=!1;if(t==="y")e=B_();else if(t==="x")e=U_();else{const n=U_(),r=B_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function cb(){const t=lb(!0);return t?(t(),!1):!0}class Gi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function z_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||cb())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ie.update(()=>a[r](s,o))};return Er(t.current,n,i,{passive:!t.getProps()[r]})}class CV extends Gi{mount(){this.unmount=Si(z_(this.node,!0),z_(this.node,!1))}unmount(){}}class bV extends Gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(mr(this.node.current,"focus",()=>this.onFocus()),mr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ub=(t,e)=>e?t===e?!0:ub(t,e.parentElement):!1;function rp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Oh(n))}class PV extends Gi{constructor(){super(...arguments),this.removeStartListeners=qe,this.removeEndListeners=qe,this.removeAccessibleListeners=qe,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Er(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Ie.update(()=>{!h&&!ub(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Er(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Si(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||rp("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Ie.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=mr(this.node.current,"keyup",o),rp("down",(a,l)=>{this.startPress(a,l)})},n=mr(this.node.current,"keydown",e),r=()=>{this.isPressing&&rp("cancel",(s,o)=>this.cancelPress(s,o))},i=mr(this.node.current,"blur",r);this.removeAccessibleListeners=Si(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ie.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!cb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ie.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Er(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=mr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Si(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Bm=new WeakMap,ip=new WeakMap,IV=t=>{const e=Bm.get(t.target);e&&e(t)},RV=t=>{t.forEach(IV)};function AV({root:t,...e}){const n=t||document;ip.has(n)||ip.set(n,{});const r=ip.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(RV,{root:t,...e})),r[i]}function kV(t,e,n){const r=AV(e);return Bm.set(t,n),r.observe(t),()=>{Bm.delete(t),r.unobserve(t)}}const NV={some:0,all:1};class DV extends Gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:NV[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return kV(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OV(e,n))&&this.startObserver()}unmount(){}}function OV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const MV={inView:{Feature:DV},tap:{Feature:PV},focus:{Feature:bV},hover:{Feature:CV}};function db(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function VV(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function LV(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Mh(t,e,n){const r=t.getProps();return Yv(r,e,n!==void 0?n:r.custom,VV(t),LV(t))}let jV=qe,Qv=qe;const Ci=t=>t*1e3,xr=t=>t/1e3,FV={current:!1},hb=t=>Array.isArray(t)&&typeof t[0]=="number";function fb(t){return!!(!t||typeof t=="string"&&pb[t]||hb(t)||Array.isArray(t)&&t.every(fb))}const Wa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wa([0,.65,.55,1]),circOut:Wa([.55,0,1,.45]),backIn:Wa([.31,.01,.66,-.59]),backOut:Wa([.33,1.53,.69,.99])};function mb(t){if(t)return hb(t)?Wa(t):Array.isArray(t)?t.map(mb):pb[t]}function $V(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=mb(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function UV(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const gb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,BV=1e-7,zV=12;function WV(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=gb(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>BV&&++a<zV);return o}function uc(t,e,n,r){if(t===e&&n===r)return qe;const i=s=>WV(s,0,1,t,n);return s=>s===0||s===1?s:gb(i(s),e,r)}const HV=uc(.42,0,1,1),GV=uc(0,0,.58,1),vb=uc(.42,0,.58,1),KV=t=>Array.isArray(t)&&typeof t[0]!="number",yb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wb=t=>e=>1-t(1-e),Xv=t=>1-Math.sin(Math.acos(t)),_b=wb(Xv),qV=yb(Xv),Eb=uc(.33,1.53,.69,.99),Jv=wb(Eb),YV=yb(Jv),QV=t=>(t*=2)<1?.5*Jv(t):.5*(2-Math.pow(2,-10*(t-1))),XV={linear:qe,easeIn:HV,easeInOut:vb,easeOut:GV,circIn:Xv,circInOut:qV,circOut:_b,backIn:Jv,backInOut:YV,backOut:Eb,anticipate:QV},W_=t=>{if(Array.isArray(t)){Qv(t.length===4);const[e,n,r,i]=t;return uc(e,n,r,i)}else if(typeof t=="string")return XV[t];return t},Zv=(t,e)=>n=>!!(lc(n)&&JM.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),xb=(t,e,n)=>r=>{if(!lc(r))return r;const[i,s,o,a]=r.match(Dh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},JV=t=>Di(0,255,t),sp={...Ms,transform:t=>Math.round(JV(t))},fs={test:Zv("rgb","red"),parse:xb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+sp.transform(t)+", "+sp.transform(e)+", "+sp.transform(n)+", "+ol(sl.transform(r))+")"};function ZV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const zm={test:Zv("#"),parse:ZV,transform:fs.transform},fo={test:Zv("hsl","hue"),parse:xb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Yn.transform(ol(e))+", "+Yn.transform(ol(n))+", "+ol(sl.transform(r))+")"},Bt={test:t=>fs.test(t)||zm.test(t)||fo.test(t),parse:t=>fs.test(t)?fs.parse(t):fo.test(t)?fo.parse(t):zm.parse(t),transform:t=>lc(t)?t:t.hasOwnProperty("red")?fs.transform(t):fo.transform(t)},Fe=(t,e,n)=>-n*t+n*e+t;function op(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function eL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=op(l,a,t+1/3),s=op(l,a,t),o=op(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const ap=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},tL=[zm,fs,fo],nL=t=>tL.find(e=>e.test(t));function H_(t){const e=nL(t);let n=e.parse(t);return e===fo&&(n=eL(n)),n}const Tb=(t,e)=>{const n=H_(t),r=H_(e),i={...n};return s=>(i.red=ap(n.red,r.red,s),i.green=ap(n.green,r.green,s),i.blue=ap(n.blue,r.blue,s),i.alpha=Fe(n.alpha,r.alpha,s),fs.transform(i))};function rL(t){var e,n;return isNaN(t)&&lc(t)&&(((e=t.match(Dh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(YC))===null||n===void 0?void 0:n.length)||0)>0}const Sb={regex:QM,countKey:"Vars",token:"${v}",parse:qe},Cb={regex:YC,countKey:"Colors",token:"${c}",parse:Bt.parse},bb={regex:Dh,countKey:"Numbers",token:"${n}",parse:Ms.parse};function lp(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Rd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&lp(n,Sb),lp(n,Cb),lp(n,bb),n}function Pb(t){return Rd(t).values}function Ib(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Rd(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(Sb.token,o[l]):l<r+n?a=a.replace(Cb.token,Bt.transform(o[l])):a=a.replace(bb.token,ol(o[l]));return a}}const iL=t=>typeof t=="number"?0:t;function sL(t){const e=Pb(t);return Ib(t)(e.map(iL))}const Oi={test:rL,parse:Pb,createTransformer:Ib,getAnimatableNone:sL},Rb=(t,e)=>n=>`${n>0?e:t}`;function Ab(t,e){return typeof t=="number"?n=>Fe(t,e,n):Bt.test(t)?Tb(t,e):t.startsWith("var(")?Rb(t,e):Nb(t,e)}const kb=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>Ab(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},oL=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Ab(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},Nb=(t,e)=>{const n=Oi.createTransformer(e),r=Rd(t),i=Rd(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Si(kb(r.values,i.values),n):Rb(t,e)},Vl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},G_=(t,e)=>n=>Fe(t,e,n);function aL(t){return typeof t=="number"?G_:typeof t=="string"?Bt.test(t)?Tb:Nb:Array.isArray(t)?kb:typeof t=="object"?oL:G_}function lL(t,e,n){const r=[],i=n||aL(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||qe:e;a=Si(l,a)}r.push(a)}return r}function Db(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Qv(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=lL(e,r,i),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=Vl(t[d],t[d+1],c);return o[d](h)};return n?c=>l(Di(t[0],t[s-1],c)):l}function cL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Vl(0,e,r);t.push(Fe(n,1,i))}}function uL(t){const e=[0];return cL(e,t.length-1),e}function dL(t,e){return t.map(n=>n*e)}function hL(t,e){return t.map(()=>e||vb).splice(0,t.length-1)}function Ad({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=KV(r)?r.map(W_):W_(r),s={done:!1,value:e[0]},o=dL(n&&n.length===e.length?n:uL(e),t),a=Db(o,e,{ease:Array.isArray(i)?i:hL(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function Ob(t,e){return e?t*(1e3/e):0}const fL=5;function Mb(t,e,n){const r=Math.max(e-fL,0);return Ob(n-t(r),e-r)}const cp=.001,pL=.01,K_=10,mL=.05,gL=1;function vL({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;jV(t<=Ci(K_));let o=1-e;o=Di(mL,gL,o),t=Di(pL,K_,xr(t)),o<1?(i=c=>{const d=c*o,h=d*t,f=d-n,m=Wm(c,o),E=Math.exp(-h);return cp-f/m*E},s=c=>{const h=c*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-h),w=Wm(Math.pow(c,2),o);return(-i(c)+cp>0?-1:1)*((f-m)*E)/w}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-cp+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=wL(i,s,a);if(t=Ci(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const yL=12;function wL(t,e,n){let r=n;for(let i=1;i<yL;i++)r=r-t(r)/e(r);return r}function Wm(t,e){return t*Math.sqrt(1-e*e)}const _L=["duration","bounce"],EL=["stiffness","damping","mass"];function q_(t,e){return e.some(n=>t[n]!==void 0)}function xL(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!q_(t,EL)&&q_(t,_L)){const n=vL(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Vb({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=xL({...r,velocity:-xr(r.velocity||0)}),m=h||0,E=l/(2*Math.sqrt(a*c)),w=s-i,S=xr(Math.sqrt(a/c)),x=Math.abs(w)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let y;if(E<1){const T=Wm(S,E);y=I=>{const O=Math.exp(-E*S*I);return s-O*((m+E*S*w)/T*Math.sin(T*I)+w*Math.cos(T*I))}}else if(E===1)y=T=>s-Math.exp(-S*T)*(w+(m+S*w)*T);else{const T=S*Math.sqrt(E*E-1);y=I=>{const O=Math.exp(-E*S*I),M=Math.min(T*I,300);return s-O*((m+E*S*w)*Math.sinh(M)+T*w*Math.cosh(M))/T}}return{calculatedDuration:f&&d||null,next:T=>{const I=y(T);if(f)o.done=T>=d;else{let O=m;T!==0&&(E<1?O=Mb(y,T,I):O=0);const M=Math.abs(O)<=n,b=Math.abs(s-I)<=e;o.done=M&&b}return o.value=o.done?s:I,o}}}function Y_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,E=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let w=n*e;const S=h+w,x=o===void 0?S:o(S);x!==S&&(w=x-h);const y=C=>-w*Math.exp(-C/r),T=C=>x+y(C),I=C=>{const R=y(C),A=T(C);f.done=Math.abs(R)<=c,f.value=f.done?x:A};let O,M;const b=C=>{m(f.value)&&(O=C,M=Vb({keyframes:[f.value,E(f.value)],velocity:Mb(T,C,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return b(0),{calculatedDuration:null,next:C=>{let R=!1;return!M&&O===void 0&&(R=!0,I(C),b(C)),O!==void 0&&C>O?M.next(C-O):(!R&&I(C),f)}}}const TL=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ie.update(e,!0),stop:()=>kr(e),now:()=>At.isProcessing?At.timestamp:performance.now()}},Q_=2e4;function X_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Q_;)e+=n,r=t.next(e);return e>=Q_?1/0:e}const SL={decay:Y_,inertia:Y_,tween:Ad,keyframes:Ad,spring:Vb};function kd({autoplay:t=!0,delay:e=0,driver:n=TL,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...f}){let m=1,E=!1,w,S;const x=()=>{S=new Promise(Y=>{w=Y})};x();let y;const T=SL[i]||Ad;let I;T!==Ad&&typeof r[0]!="number"&&(I=Db([0,100],r,{clamp:!1}),r=[0,100]);const O=T({...f,keyframes:r});let M;a==="mirror"&&(M=T({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let b="idle",C=null,R=null,A=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=X_(O));const{calculatedDuration:N}=O;let D=1/0,k=1/0;N!==null&&(D=N+o,k=D*(s+1)-o);let $=0;const G=Y=>{if(R===null)return;m>0&&(R=Math.min(R,Y)),m<0&&(R=Math.min(Y-k/m,R)),C!==null?$=C:$=Math.round(Y-R)*m;const te=$-e*(m>=0?1:-1),ne=m>=0?te<0:te>k;$=Math.max(te,0),b==="finished"&&C===null&&($=k);let Se=$,Me=O;if(s){const Ye=Math.min($,k)/D;let fe=Math.floor(Ye),ce=Ye%1;!ce&&Ye>=1&&(ce=1),ce===1&&fe--,fe=Math.min(fe,s+1),!!(fe%2)&&(a==="reverse"?(ce=1-ce,o&&(ce-=o/D)):a==="mirror"&&(Me=M)),Se=Di(0,1,ce)*D}const Ve=ne?{done:!1,value:r[0]}:Me.next(Se);I&&(Ve.value=I(Ve.value));let{done:J}=Ve;!ne&&N!==null&&(J=m>=0?$>=k:$<=0);const ye=C===null&&(b==="finished"||b==="running"&&J);return h&&h(Ve.value),ye&&j(),Ve},W=()=>{y&&y.stop(),y=void 0},X=()=>{b="idle",W(),w(),x(),R=A=null},j=()=>{b="finished",d&&d(),W(),w()},z=()=>{if(E)return;y||(y=n(G));const Y=y.now();l&&l(),C!==null?R=Y-C:(!R||b==="finished")&&(R=Y),b==="finished"&&x(),A=R,C=null,b="running",y.start()};t&&z();const K={then(Y,te){return S.then(Y,te)},get time(){return xr($)},set time(Y){Y=Ci(Y),$=Y,C!==null||!y||m===0?C=Y:R=y.now()-Y/m},get duration(){const Y=O.calculatedDuration===null?X_(O):O.calculatedDuration;return xr(Y)},get speed(){return m},set speed(Y){Y===m||!y||(m=Y,K.time=xr($))},get state(){return b},play:z,pause:()=>{b="paused",C=$},stop:()=>{E=!0,b!=="idle"&&(b="idle",c&&c(),X())},cancel:()=>{A!==null&&G(A),X()},complete:()=>{b="finished"},sample:Y=>(R=0,G(Y))};return K}function CL(t){let e;return()=>(e===void 0&&(e=t()),e)}const bL=CL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),PL=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),du=10,IL=2e4,RL=(t,e)=>e.type==="spring"||t==="backgroundColor"||!fb(e.ease);function AL(t,e,{onUpdate:n,onComplete:r,...i}){if(!(bL()&&PL.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(T=>{a=T})};d();let{keyframes:h,duration:f=300,ease:m,times:E}=i;if(RL(e,i)){const T=kd({...i,repeat:0,delay:0});let I={done:!1,value:h[0]};const O=[];let M=0;for(;!I.done&&M<IL;)I=T.sample(M),O.push(I.value),M+=du;E=void 0,h=O,f=M-du,m="linear"}const w=$V(t.owner.current,e,h,{...i,duration:f,ease:m,times:E}),S=()=>{c=!1,w.cancel()},x=()=>{c=!0,Ie.update(S),a(),d()};return w.onfinish=()=>{c||(t.set(UV(h,i)),r&&r(),x())},{then(T,I){return l.then(T,I)},attachTimeline(T){return w.timeline=T,w.onfinish=null,qe},get time(){return xr(w.currentTime||0)},set time(T){w.currentTime=Ci(T)},get speed(){return w.playbackRate},set speed(T){w.playbackRate=T},get duration(){return xr(f)},play:()=>{o||(w.play(),kr(S))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:T}=w;if(T){const I=kd({...i,autoplay:!1});t.setWithVelocity(I.sample(T-du).value,I.sample(T).value,du)}x()},complete:()=>{c||w.finish()},cancel:x}}function kL({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:qe,pause:qe,stop:qe,then:s=>(s(),Promise.resolve()),cancel:qe,complete:qe});return e?kd({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const NL={type:"spring",stiffness:500,damping:25,restSpeed:10},DL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OL={type:"keyframes",duration:.8},ML={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VL=(t,{keyframes:e})=>e.length>2?OL:Os.has(t)?t.startsWith("scale")?DL(e[1]):NL:ML,Hm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Oi.test(e)||e==="0")&&!e.startsWith("url(")),LL=new Set(["brightness","contrast","saturate","opacity"]);function jL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Dh)||[];if(!r)return t;const i=n.replace(r,"");let s=LL.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const FL=/([a-z-]*)\(.*?\)/g,Gm={...Oi,getAnimatableNone:t=>{const e=t.match(FL);return e?e.map(jL).join(" "):t}},$L={...QC,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:Gm,WebkitFilter:Gm},ey=t=>$L[t];function Lb(t,e){let n=ey(t);return n!==Gm&&(n=Oi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jb=t=>/^0[^.\s]+$/.test(t);function UL(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||jb(t)}function BL(t,e,n,r){const i=Hm(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),UL(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];s[d]=Lb(e,a)}return s}function zL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function ty(t,e){return t[e]||t.default||t}const WL={skipAnimations:!1},ny=(t,e,n,r={})=>i=>{const s=ty(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ci(o);const l=BL(e,t,n,s),c=l[0],d=l[l.length-1],h=Hm(t,c),f=Hm(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:E=>{e.set(E),s.onUpdate&&s.onUpdate(E)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(zL(s)||(m={...m,...VL(t,m)}),m.duration&&(m.duration=Ci(m.duration)),m.repeatDelay&&(m.repeatDelay=Ci(m.repeatDelay)),!h||!f||FV.current||s.type===!1||WL.skipAnimations)return kL(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const E=AL(e,t,m);if(E)return E}return kd(m)};function Nd(t){return!!(en(t)&&t.add)}const Fb=t=>/^\-?\d*\.?\d+$/.test(t);function ry(t,e){t.indexOf(e)===-1&&t.push(e)}function iy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class sy{constructor(){this.subscriptions=[]}add(e){return ry(this.subscriptions,e),()=>iy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const HL=t=>!isNaN(parseFloat(t));class GL{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=At;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ie.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ie.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=HL(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ob(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fo(t,e){return new GL(t,e)}const $b=t=>e=>e.test(t),KL={test:t=>t==="auto",parse:t=>t},Ub=[Ms,re,Yn,Zr,eV,ZM,KL],Va=t=>Ub.find($b(t)),qL=[...Ub,Bt,Oi],YL=t=>qL.find($b(t));function QL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fo(n))}function XL(t,e){const n=Mh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=pV(s[o]);QL(t,o,a)}}function JL(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(Fb(d)||jb(d))?d=parseFloat(d):!YL(d)&&Oi.test(c)&&(d=Lb(l,c)),t.addValue(l,Fo(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function ZL(t,e){return e?(e[t]||e.default||e).from:void 0}function ej(t,e,n){const r={};for(const i in t){const s=ZL(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function tj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nj(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Bb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),m=a[h];if(!f||m===void 0||d&&tj(d,h))continue;const E={delay:n,elapsed:0,...ty(s||{},h)};if(window.HandoffAppearAnimations){const x=t.getProps()[zC];if(x){const y=window.HandoffAppearAnimations(x,h,f,Ie);y!==null&&(E.elapsed=y,E.isHandoff=!0)}}let w=!E.isHandoff&&!nj(f,m);if(E.type==="spring"&&(f.getVelocity()||E.velocity)&&(w=!1),f.animation&&(w=!1),w)continue;f.start(ny(h,f,m,t.shouldReduceMotion&&Os.has(h)?{type:!1}:E));const S=f.animation;Nd(l)&&(l.add(h),S.then(()=>l.remove(h))),c.push(S)}return o&&Promise.all(c).then(()=>{o&&XL(t,o)}),c}function Km(t,e,n={}){const r=Mh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Bb(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return rj(t,e,c+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function rj(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(ij).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Km(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function ij(t,e){return t.sortNodePosition(e)}function sj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Km(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Km(t,e,n);else{const i=typeof e=="function"?Mh(t,e,n.custom):e;r=Promise.all(Bb(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const oj=[...$v].reverse(),aj=$v.length;function lj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>sj(t,n,r)))}function cj(t){let e=lj(t);const n=dj();let r=!0;const i=(l,c)=>{const d=Mh(t,c);if(d){const{transition:h,transitionEnd:f,...m}=d;l={...l,...m,...f}}return l};function s(l){e=l(t)}function o(l,c){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let E={},w=1/0;for(let x=0;x<aj;x++){const y=oj[x],T=n[y],I=d[y]!==void 0?d[y]:h[y],O=Ol(I),M=y===c?T.isActive:null;M===!1&&(w=x);let b=I===h[y]&&I!==d[y]&&O;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),T.protectedKeys={...E},!T.isActive&&M===null||!I&&!T.prevProp||kh(I)||typeof I=="boolean")continue;let R=uj(T.prevProp,I)||y===c&&T.isActive&&!b&&O||x>w&&O,A=!1;const N=Array.isArray(I)?I:[I];let D=N.reduce(i,{});M===!1&&(D={});const{prevResolvedValues:k={}}=T,$={...k,...D},G=W=>{R=!0,m.has(W)&&(A=!0,m.delete(W)),T.needsAnimating[W]=!0};for(const W in $){const X=D[W],j=k[W];if(E.hasOwnProperty(W))continue;let z=!1;Id(X)&&Id(j)?z=!db(X,j):z=X!==j,z?X!==void 0?G(W):m.add(W):X!==void 0&&m.has(W)?G(W):T.protectedKeys[W]=!0}T.prevProp=I,T.prevResolvedValues=D,T.isActive&&(E={...E,...D}),r&&t.blockInitialAnimation&&(R=!1),R&&(!b||A)&&f.push(...N.map(W=>({animation:W,options:{type:y,...l}})))}if(m.size){const x={};m.forEach(y=>{const T=t.getBaseTarget(y);T!==void 0&&(x[y]=T)}),f.push({animation:x})}let S=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(f):Promise.resolve()}function a(l,c,d){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var E;return(E=m.animationState)===null||E===void 0?void 0:E.setActive(l,c)}),n[l].isActive=c;const f=o(d,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function uj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!db(e,t):!1}function es(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dj(){return{animate:es(!0),whileInView:es(),whileHover:es(),whileTap:es(),whileDrag:es(),whileFocus:es(),exit:es()}}class hj extends Gi{constructor(e){super(e),e.animationState||(e.animationState=cj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),kh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fj=0;class pj extends Gi{constructor(){super(...arguments),this.id=fj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const mj={animation:{Feature:hj},exit:{Feature:pj}},J_=(t,e)=>Math.abs(t-e);function gj(t,e){const n=J_(t.x,e.x),r=J_(t.y,e.y);return Math.sqrt(n**2+r**2)}class zb{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=dp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=gj(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:E}=h,{timestamp:w}=At;this.history.push({...E,timestamp:w});const{onStart:S,onMove:x}=this.handlers;f||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=up(f,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:E,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=dp(h.type==="pointercancel"?this.lastMoveEventInfo:up(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,S),E&&E(h,S)},!ob(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Oh(e),a=up(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=At;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,dp(a,this.history)),this.removeListeners=Si(Er(this.contextWindow,"pointermove",this.handlePointerMove),Er(this.contextWindow,"pointerup",this.handlePointerUp),Er(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),kr(this.updatePoint)}}function up(t,e){return e?{point:e(t.point)}:t}function Z_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dp({point:t},e){return{point:t,delta:Z_(t,Wb(e)),offset:Z_(t,vj(e)),velocity:yj(e,.1)}}function vj(t){return t[0]}function Wb(t){return t[t.length-1]}function yj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Wb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ci(e)));)n--;if(!r)return{x:0,y:0};const s=xr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function un(t){return t.max-t.min}function qm(t,e=0,n=.01){return Math.abs(t-e)<=n}function eE(t,e,n,r=.5){t.origin=r,t.originPoint=Fe(e.min,e.max,t.origin),t.scale=un(n)/un(e),(qm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Fe(n.min,n.max,t.origin)-t.originPoint,(qm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function al(t,e,n,r){eE(t.x,e.x,n.x,r?r.originX:void 0),eE(t.y,e.y,n.y,r?r.originY:void 0)}function tE(t,e,n){t.min=n.min+e.min,t.max=t.min+un(e)}function wj(t,e,n){tE(t.x,e.x,n.x),tE(t.y,e.y,n.y)}function nE(t,e,n){t.min=e.min-n.min,t.max=t.min+un(e)}function ll(t,e,n){nE(t.x,e.x,n.x),nE(t.y,e.y,n.y)}function _j(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Fe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Fe(n,t,r.max):Math.min(t,n)),t}function rE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ej(t,{top:e,left:n,bottom:r,right:i}){return{x:rE(t.x,n,i),y:rE(t.y,e,r)}}function iE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function xj(t,e){return{x:iE(t.x,e.x),y:iE(t.y,e.y)}}function Tj(t,e){let n=.5;const r=un(t),i=un(e);return i>r?n=Vl(e.min,e.max-r,t.min):r>i&&(n=Vl(t.min,t.max-i,e.min)),Di(0,1,n)}function Sj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ym=.35;function Cj(t=Ym){return t===!1?t=0:t===!0&&(t=Ym),{x:sE(t,"left","right"),y:sE(t,"top","bottom")}}function sE(t,e,n){return{min:oE(t,e),max:oE(t,n)}}function oE(t,e){return typeof t=="number"?t:t[e]||0}const aE=()=>({translate:0,scale:1,origin:0,originPoint:0}),po=()=>({x:aE(),y:aE()}),lE=()=>({min:0,max:0}),tt=()=>({x:lE(),y:lE()});function gn(t){return[t("x"),t("y")]}function Hb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function bj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Pj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hp(t){return t===void 0||t===1}function Qm({scale:t,scaleX:e,scaleY:n}){return!hp(t)||!hp(e)||!hp(n)}function rs(t){return Qm(t)||Gb(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Gb(t){return cE(t.x)||cE(t.y)}function cE(t){return t&&t!=="0%"}function Dd(t,e,n){const r=t-n,i=e*r;return n+i}function uE(t,e,n,r,i){return i!==void 0&&(t=Dd(t,i,r)),Dd(t,n,r)+e}function Xm(t,e=0,n=1,r,i){t.min=uE(t.min,e,n,r,i),t.max=uE(t.max,e,n,r,i)}function Kb(t,{x:e,y:n}){Xm(t.x,e.translate,e.scale,e.originPoint),Xm(t.y,n.translate,n.scale,n.originPoint)}function Ij(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Kb(t,o)),r&&rs(s.latestValues)&&mo(t,s.latestValues))}e.x=dE(e.x),e.y=dE(e.y)}function dE(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ii(t,e){t.min=t.min+e,t.max=t.max+e}function hE(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Fe(t.min,t.max,s);Xm(t,e[n],e[r],o,e.scale)}const Rj=["x","scaleX","originX"],Aj=["y","scaleY","originY"];function mo(t,e){hE(t.x,e,Rj),hE(t.y,e,Aj)}function qb(t,e){return Hb(Pj(t.getBoundingClientRect(),e))}function kj(t,e,n){const r=qb(t,n),{scroll:i}=e;return i&&(ii(r.x,i.offset.x),ii(r.y,i.offset.y)),r}const Yb=({current:t})=>t?t.ownerDocument.defaultView:null,Nj=new WeakMap;class Dj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oh(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:E}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=lb(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gn(S=>{let x=this.getAxisMotionValue(S).get()||0;if(Yn.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const T=y.layout.layoutBox[S];T&&(x=un(T)*(parseFloat(x)/100))}}this.originPoint[S]=x}),E&&Ie.update(()=>E(d,h),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:E,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:S}=h;if(m&&this.currentDirection===null){this.currentDirection=Oj(S),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>gn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new zb(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Yb(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ie.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=_j(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ho(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Ej(i.layoutBox,n):this.constraints=!1,this.elastic=Cj(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&gn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Sj(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ho(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=kj(r,i.root,this.visualElement.getTransformPagePoint());let o=xj(i.layout.layoutBox,s);if(n){const a=n(bj(o));this.hasMutatedConstraints=!!a,a&&(o=Hb(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=gn(d=>{if(!hu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(ny(e,r,0,n))}stopAnimation(){gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){gn(n=>{const{drag:r}=this.getProps();if(!hu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Fe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ho(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Tj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gn(o=>{if(!hu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Fe(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Nj.set(this.visualElement,this);const e=this.visualElement.current,n=Er(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ho(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=mr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(gn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ym,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function hu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Oj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Mj extends Gi{constructor(e){super(e),this.removeGroupControls=qe,this.removeListeners=qe,this.controls=new Dj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qe}unmount(){this.removeGroupControls(),this.removeListeners()}}const fE=t=>(e,n)=>{t&&Ie.update(()=>t(e,n))};class Vj extends Gi{constructor(){super(...arguments),this.removePointerDownListener=qe}onPointerDown(e){this.session=new zb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Yb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:fE(e),onStart:fE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ie.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Er(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Lj(){const t=g.useContext(Rh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=g.useId();return g.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Fu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const La={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=pE(t,e.target.x),r=pE(t,e.target.y);return`${n}% ${r}%`}},jj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Oi.parse(t);if(i.length>5)return r;const s=Oi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Fe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class Fj extends se.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;GM($j),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Fu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ie.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Qb(t){const[e,n]=Lj(),r=g.useContext(Bv);return se.createElement(Fj,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(HC),isPresent:e,safeToRemove:n})}const $j={borderRadius:{...La,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:La,borderTopRightRadius:La,borderBottomLeftRadius:La,borderBottomRightRadius:La,boxShadow:jj},Xb=["TopLeft","TopRight","BottomLeft","BottomRight"],Uj=Xb.length,mE=t=>typeof t=="string"?parseFloat(t):t,gE=t=>typeof t=="number"||re.test(t);function Bj(t,e,n,r,i,s){i?(t.opacity=Fe(0,n.opacity!==void 0?n.opacity:1,zj(r)),t.opacityExit=Fe(e.opacity!==void 0?e.opacity:1,0,Wj(r))):s&&(t.opacity=Fe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Uj;o++){const a=`border${Xb[o]}Radius`;let l=vE(e,a),c=vE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||gE(l)===gE(c)?(t[a]=Math.max(Fe(mE(l),mE(c),r),0),(Yn.test(c)||Yn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Fe(e.rotate||0,n.rotate||0,r))}function vE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zj=Jb(0,.5,_b),Wj=Jb(.5,.95,qe);function Jb(t,e,n){return r=>r<t?0:r>e?1:n(Vl(t,e,r))}function yE(t,e){t.min=e.min,t.max=e.max}function pn(t,e){yE(t.x,e.x),yE(t.y,e.y)}function wE(t,e,n,r,i){return t-=e,t=Dd(t,1/n,r),i!==void 0&&(t=Dd(t,1/i,r)),t}function Hj(t,e=0,n=1,r=.5,i,s=t,o=t){if(Yn.test(e)&&(e=parseFloat(e),e=Fe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Fe(s.min,s.max,r);t===s&&(a-=e),t.min=wE(t.min,e,n,a,i),t.max=wE(t.max,e,n,a,i)}function _E(t,e,[n,r,i],s,o){Hj(t,e[n],e[r],e[i],e.scale,s,o)}const Gj=["x","scaleX","originX"],Kj=["y","scaleY","originY"];function EE(t,e,n,r){_E(t.x,e,Gj,n?n.x:void 0,r?r.x:void 0),_E(t.y,e,Kj,n?n.y:void 0,r?r.y:void 0)}function xE(t){return t.translate===0&&t.scale===1}function Zb(t){return xE(t.x)&&xE(t.y)}function qj(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function eP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function TE(t){return un(t.x)/un(t.y)}class Yj{constructor(){this.members=[]}add(e){ry(this.members,e),e.scheduleRender()}remove(e){if(iy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SE(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Qj=(t,e)=>t.depth-e.depth;class Xj{constructor(){this.children=[],this.isDirty=!1}add(e){ry(this.children,e),this.isDirty=!0}remove(e){iy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qj),this.isDirty=!1,this.children.forEach(e)}}function Jj(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(kr(r),t(s-e))};return Ie.read(r,!0),()=>kr(r)}function Zj(t){window.MotionDebug&&window.MotionDebug.record(t)}function eF(t){return t instanceof SVGElement&&t.tagName!=="svg"}function tF(t,e,n){const r=en(t)?t:Fo(t);return r.start(ny("",r,e,n)),r.animation}const CE=["","X","Y","Z"],nF={visibility:"hidden"},bE=1e3;let rF=0;const is={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function tP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=rF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,is.totalNodes=is.resolvedTargetDeltas=is.recalculatedProjection=0,this.nodes.forEach(oF),this.nodes.forEach(dF),this.nodes.forEach(hF),this.nodes.forEach(aF),Zj(is)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=eF(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Jj(f,250),Fu.hasAnimatedSinceResize&&(Fu.hasAnimatedSinceResize=!1,this.nodes.forEach(IE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||vF,{onLayoutAnimationStart:S,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!eP(this.targetLayout,E)||m,T=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const I={...ty(w,"layout"),onPlay:S,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else f||IE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PE);return}this.isUpdating||this.nodes.forEach(cF),this.isUpdating=!1,this.nodes.forEach(uF),this.nodes.forEach(iF),this.nodes.forEach(sF),this.clearAllSnapshots();const a=performance.now();At.delta=Di(0,1e3/60,a-At.timestamp),At.timestamp=a,At.isProcessing=!0,np.update.process(At),np.preRender.process(At),np.render.process(At),At.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(lF),this.sharedNodes.forEach(pF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Zb(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||rs(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),yF(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return tt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(ii(a.x,l.offset.x),ii(a.y,l.offset.y)),a}removeElementScroll(o){const a=tt();pn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){pn(a,o);const{scroll:f}=this.root;f&&(ii(a.x,-f.offset.x),ii(a.y,-f.offset.y))}ii(a.x,d.offset.x),ii(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=tt();pn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&mo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),rs(d.latestValues)&&mo(l,d.latestValues)}return rs(this.latestValues)&&mo(l,this.latestValues),l}removeTransform(o){const a=tt();pn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!rs(c.latestValues))continue;Qm(c.latestValues)&&c.updateSnapshot();const d=tt(),h=c.measurePageBox();pn(d,h),EE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return rs(this.latestValues)&&EE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==At.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=At.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),ll(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=tt(),this.targetWithTransforms=tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pn(this.target,this.layout.layoutBox),Kb(this.target,this.targetDelta)):pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),ll(this.relativeTargetOrigin,this.target,m.target),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}is.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qm(this.parent.latestValues)||Gb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===At.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;pn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Ij(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:E}=a;if(!E){this.projectionTransform&&(this.projectionDelta=po(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=po(),this.projectionDeltaWithTransform=po());const w=this.projectionTransform;al(this.projectionDelta,this.layoutCorrected,E,this.latestValues),this.projectionTransform=SE(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),is.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=tt(),m=l?l.source:void 0,E=this.layout?this.layout.source:void 0,w=m!==E,S=this.getStack(),x=!S||S.members.length<=1,y=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some(gF));this.animationProgress=0;let T;this.mixTargetDelta=I=>{const O=I/1e3;RE(h.x,o.x,O),RE(h.y,o.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ll(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mF(this.relativeTarget,this.relativeTargetOrigin,f,O),T&&qj(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=tt()),pn(T,this.relativeTarget)),w&&(this.animationValues=d,Bj(d,c,this.latestValues,O,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Fu.hasAnimatedSinceResize=!0,this.currentAnimation=tF(0,bE,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&nP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||tt();const h=un(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=un(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}pn(a,l),mo(a,d),al(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Yj),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<CE.length;d++){const h="rotate"+CE[d];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nF;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ju(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ju(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!rs(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=SE(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:m,y:E}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${E.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in bd){if(f[w]===void 0)continue;const{correct:S,applyTo:x}=bd[w],y=c.transform==="none"?f[w]:S(f[w],h);if(x){const T=x.length;for(let I=0;I<T;I++)c[x[I]]=y}else c[w]=y}return this.options.layoutId&&(c.pointerEvents=h===this?ju(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(PE),this.root.sharedNodes.clear()}}}function iF(t){t.updateLayout()}function sF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?gn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=un(f);f.min=r[h].min,f.max=f.min+m}):nP(s,n.layoutBox,r)&&gn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=un(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=po();al(a,r,n.layoutBox);const l=po();o?al(l,t.applyTransform(i,!0),n.measuredBox):al(l,r,n.layoutBox);const c=!Zb(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const E=tt();ll(E,n.layoutBox,f.layoutBox);const w=tt();ll(w,r,m.layoutBox),eP(E,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=E,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function oF(t){is.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lF(t){t.clearSnapshot()}function PE(t){t.clearMeasurements()}function cF(t){t.isLayoutDirty=!1}function uF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dF(t){t.resolveTargetDelta()}function hF(t){t.calcProjection()}function fF(t){t.resetRotation()}function pF(t){t.removeLeadSnapshot()}function RE(t,e,n){t.translate=Fe(e.translate,0,n),t.scale=Fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function AE(t,e,n,r){t.min=Fe(e.min,n.min,r),t.max=Fe(e.max,n.max,r)}function mF(t,e,n,r){AE(t.x,e.x,n.x,r),AE(t.y,e.y,n.y,r)}function gF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vF={duration:.45,ease:[.4,0,.1,1]},kE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),NE=kE("applewebkit/")&&!kE("chrome/")?Math.round:qe;function DE(t){t.min=NE(t.min),t.max=NE(t.max)}function yF(t){DE(t.x),DE(t.y)}function nP(t,e,n){return t==="position"||t==="preserve-aspect"&&!qm(TE(e),TE(n),.2)}const wF=tP({attachResizeListener:(t,e)=>mr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fp={current:void 0},rP=tP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fp.current){const t=new wF({});t.mount(window),t.setOptions({layoutScroll:!0}),fp.current=t}return fp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_F={pan:{Feature:Vj},drag:{Feature:Mj,ProjectionNode:rP,MeasureLayout:Qb}},EF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xF(t){const e=EF.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Jm(t,e,n=1){const[r,i]=xF(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Fb(o)?parseFloat(o):o}else return Um(i)?Jm(i,e,n+1):i}function TF(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Um(s))return;const o=Jm(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Um(s))continue;const o=Jm(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const SF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),iP=t=>SF.has(t),CF=t=>Object.keys(t).some(iP),OE=t=>t===Ms||t===re,ME=(t,e)=>parseFloat(t.split(", ")[e]),VE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return ME(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?ME(s[1],t):0}},bF=new Set(["x","y","z"]),PF=ac.filter(t=>!bF.has(t));function IF(t){const e=[];return PF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const $o={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:VE(4,13),y:VE(5,14)};$o.translateX=$o.x;$o.translateY=$o.y;const RF=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=$o[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=$o[c](l,s)}),t},AF=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(iP);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=Va(d);const f=e[l];let m;if(Id(f)){const E=f.length,w=f[0]===null?1:0;d=f[w],h=Va(d);for(let S=w;S<E&&f[S]!==null;S++)m?Qv(Va(f[S])===m):m=Va(f[S])}else m=Va(f);if(h!==m)if(OE(h)&&OE(m)){const E=c.get();typeof E=="string"&&c.set(parseFloat(E)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===re&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?c.set(m.transform(d)):e[l]=h.transform(f):(o||(s=IF(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=RF(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Ah&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function kF(t,e,n,r){return CF(e)?AF(t,e,n,r):{target:e,transitionEnd:r}}const NF=(t,e,n,r)=>{const i=TF(t,e,r);return e=i.target,r=i.transitionEnd,kF(t,e,n,r)},Zm={current:null},sP={current:!1};function DF(){if(sP.current=!0,!!Ah)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zm.current=t.matches;t.addListener(e),e()}else Zm.current=!1}function OF(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(en(s))t.addValue(i,s),Nd(r)&&r.add(i);else if(en(o))t.addValue(i,Fo(s,{owner:t})),Nd(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Fo(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const LE=new WeakMap,oP=Object.keys(Ml),MF=oP.length,jE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],VF=Uv.length;class LF{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ie.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Nh(n),this.isVariantNode=WC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];a[h]!==void 0&&en(f)&&(f.set(a[h],!1),Nd(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,LE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),sP.current||DF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){LE.delete(this.current),this.projection&&this.projection.unmount(),kr(this.notifyUpdate),kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Os.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ie.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<MF;l++){const c=oP[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=Ml[c];f&&(o=f),d(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&ho(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jE.length;r++){const i=jE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=OF(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<VF;r++){const i=Uv[r],s=this.props[i];(Ol(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Yv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!en(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class aP extends LF{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=ej(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){JL(this,r,o);const a=NF(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function jF(t){return window.getComputedStyle(t)}class FF extends aP{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Os.has(n)){const r=ey(n);return r&&r.default||0}else{const r=jF(e),i=(qC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qb(e,n)}build(e,n,r,i){Wv(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return qv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){eb(e,n,r,i)}}class $F extends aP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Os.has(n)){const r=ey(n);return r&&r.default||0}return n=tb.has(n)?n:Fv(n),e.getAttribute(n)}measureInstanceViewportBox(){return tt()}scrapeMotionValuesFromProps(e,n){return rb(e,n)}build(e,n,r,i){Gv(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){nb(e,n,r,i)}mount(e){this.isSVGTag=Kv(e.tagName),super.mount(e)}}const UF=(t,e)=>zv(t)?new $F(e,{enableHardwareAcceleration:!1}):new FF(e,{enableHardwareAcceleration:!0}),BF={layout:{ProjectionNode:rP,MeasureLayout:Qb}},zF={...mj,...MV,..._F,...BF},Je=WM((t,e)=>xV(t,e,zF,UF));function lP(){const t=g.useRef(!1);return jv(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function WF(){const t=lP(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>Ie.postRender(r),[r]),e]}class HF extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function GF({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),g.createElement(HF,{isPresent:e,childRef:r,sizeRef:i},g.cloneElement(t,{ref:r}))}const pp=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=ib(KF),l=g.useId(),c=g.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[n]);return g.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),g.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.createElement(GF,{isPresent:n},t)),g.createElement(Rh.Provider,{value:c},t)};function KF(){return new Map}function qF(t){return g.useEffect(()=>()=>t(),[])}const ss=t=>t.key||"";function YF(t,e){t.forEach(n=>{const r=ss(n);e.set(r,n)})}function QF(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const oy=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=g.useContext(Bv).forceRender||WF()[0],l=lP(),c=QF(t);let d=c;const h=g.useRef(new Map).current,f=g.useRef(d),m=g.useRef(new Map).current,E=g.useRef(!0);if(jv(()=>{E.current=!1,YF(c,m),f.current=d}),qF(()=>{E.current=!0,m.clear(),h.clear()}),E.current)return g.createElement(g.Fragment,null,d.map(y=>g.createElement(pp,{key:ss(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},y)));d=[...d];const w=f.current.map(ss),S=c.map(ss),x=w.length;for(let y=0;y<x;y++){const T=w[y];S.indexOf(T)===-1&&!h.has(T)&&h.set(T,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((y,T)=>{if(S.indexOf(T)!==-1)return;const I=m.get(T);if(!I)return;const O=w.indexOf(T);let M=y;if(!M){const b=()=>{h.delete(T);const C=Array.from(m.keys()).filter(R=>!S.includes(R));if(C.forEach(R=>m.delete(R)),f.current=c.filter(R=>{const A=ss(R);return A===T||C.includes(A)}),!h.size){if(l.current===!1)return;a(),r&&r()}};M=g.createElement(pp,{key:ss(I),isPresent:!1,onExitComplete:b,custom:e,presenceAffectsLayout:s,mode:o},I),h.set(T,M)}d.splice(O,0,M)}),d=d.map(y=>{const T=y.key;return h.has(T)?y:g.createElement(pp,{key:ss(y),isPresent:!0,presenceAffectsLayout:s,mode:o},y)}),g.createElement(g.Fragment,null,h.size?d:d.map(y=>g.cloneElement(y)))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new JF;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZF=function(t){const e=cP(t);return uP.encodeByteArray(e,!0)},Od=function(t){return ZF(t).replace(/\./g,"")},dP=function(t){try{return uP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=()=>e$().__FIREBASE_DEFAULTS__,n$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dP(t[1]);return e&&JSON.parse(e)},Vh=()=>{try{return t$()||n$()||r$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hP=t=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i$=t=>{const e=hP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fP=()=>{var t;return(t=Vh())===null||t===void 0?void 0:t.config},pP=t=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Od(JSON.stringify(n)),Od(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function l$(){var t;const e=(t=Vh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h$(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f$(){return!l$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p$(){try{return typeof indexedDB=="object"}catch{return!1}}function m$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=g$,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?v$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zr(i,a,r)}}function v$(t,e){return t.replace(y$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const y$=/\{\$([^}]+)}/g;function w$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Md(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(FE(s)&&FE(o)){if(!Md(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ha(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ga(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _$(t,e){const n=new E$(t,e);return n.subscribe.bind(n)}class E${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");x$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mp),i.error===void 0&&(i.error=mp),i.complete===void 0&&(i.complete=mp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class Ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new s$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C$(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S$(t){return t===os?void 0:t}function C$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new T$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const P$={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},I$=pe.INFO,R$={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},A$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=R$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ay{constructor(e){this.name=e,this._logLevel=I$,this._logHandler=A$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const k$=(t,e)=>e.some(n=>t instanceof n);let $E,UE;function N$(){return $E||($E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D$(){return UE||(UE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mP=new WeakMap,eg=new WeakMap,gP=new WeakMap,gp=new WeakMap,ly=new WeakMap;function O$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mP.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function M$(t){if(eg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});eg.set(t,e)}let tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V$(t){tg=t(tg)}function L$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vp(this),e,...n);return gP.set(r,e.sort?e.sort():[e]),bi(r)}:D$().includes(t)?function(...e){return t.apply(vp(this),e),bi(mP.get(this))}:function(...e){return bi(t.apply(vp(this),e))}}function j$(t){return typeof t=="function"?L$(t):(t instanceof IDBTransaction&&M$(t),k$(t,N$())?new Proxy(t,tg):t)}function bi(t){if(t instanceof IDBRequest)return O$(t);if(gp.has(t))return gp.get(t);const e=j$(t);return e!==t&&(gp.set(t,e),ly.set(e,t)),e}const vp=t=>ly.get(t);function F$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bi(o.result),l.oldVersion,l.newVersion,bi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const $$=["get","getKey","getAll","getAllKeys","count"],U$=["put","add","delete","clear"],yp=new Map;function BE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yp.get(e))return yp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=U$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return yp.set(e,s),s}V$(t=>({...t,get:(e,n,r)=>BE(e,n)||t.get(e,n,r),has:(e,n)=>!!BE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ng="@firebase/app",zE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new ay("@firebase/app"),W$="@firebase/app-compat",H$="@firebase/analytics-compat",G$="@firebase/analytics",K$="@firebase/app-check-compat",q$="@firebase/app-check",Y$="@firebase/auth",Q$="@firebase/auth-compat",X$="@firebase/database",J$="@firebase/data-connect",Z$="@firebase/database-compat",e4="@firebase/functions",t4="@firebase/functions-compat",n4="@firebase/installations",r4="@firebase/installations-compat",i4="@firebase/messaging",s4="@firebase/messaging-compat",o4="@firebase/performance",a4="@firebase/performance-compat",l4="@firebase/remote-config",c4="@firebase/remote-config-compat",u4="@firebase/storage",d4="@firebase/storage-compat",h4="@firebase/firestore",f4="@firebase/vertexai-preview",p4="@firebase/firestore-compat",m4="firebase",g4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="[DEFAULT]",v4={[ng]:"fire-core",[W$]:"fire-core-compat",[G$]:"fire-analytics",[H$]:"fire-analytics-compat",[q$]:"fire-app-check",[K$]:"fire-app-check-compat",[Y$]:"fire-auth",[Q$]:"fire-auth-compat",[X$]:"fire-rtdb",[J$]:"fire-data-connect",[Z$]:"fire-rtdb-compat",[e4]:"fire-fn",[t4]:"fire-fn-compat",[n4]:"fire-iid",[r4]:"fire-iid-compat",[i4]:"fire-fcm",[s4]:"fire-fcm-compat",[o4]:"fire-perf",[a4]:"fire-perf-compat",[l4]:"fire-rc",[c4]:"fire-rc-compat",[u4]:"fire-gcs",[d4]:"fire-gcs-compat",[h4]:"fire-fst",[p4]:"fire-fst-compat",[f4]:"fire-vertex","fire-js":"fire-js",[m4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map,y4=new Map,ig=new Map;function WE(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Uo(t){const e=t.name;if(ig.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;ig.set(e,t);for(const n of Vd.values())WE(n,t);for(const n of y4.values())WE(n,t);return!0}function cy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new dc("app","Firebase",w4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=g4;function vP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=fP()),!n)throw Pi.create("no-options");const s=Vd.get(i);if(s){if(Md(n,s.options)&&Md(r,s.config))return s;throw Pi.create("duplicate-app",{appName:i})}const o=new b$(i);for(const l of ig.values())o.addComponent(l);const a=new _4(n,r,o);return Vd.set(i,a),a}function yP(t=rg){const e=Vd.get(t);if(!e&&t===rg&&fP())return vP();if(!e)throw Pi.create("no-app",{appName:t});return e}function Ii(t,e,n){var r;let i=(r=v4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(a.join(" "));return}Uo(new Ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="firebase-heartbeat-database",x4=1,Ll="firebase-heartbeat-store";let wp=null;function wP(){return wp||(wp=F$(E4,x4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),wp}async function T4(t){try{const n=(await wP()).transaction(Ll),r=await n.objectStore(Ll).get(_P(t));return await n.done,r}catch(e){if(e instanceof zr)Nr.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(n.message)}}}async function HE(t,e){try{const r=(await wP()).transaction(Ll,"readwrite");await r.objectStore(Ll).put(e,_P(t)),await r.done}catch(n){if(n instanceof zr)Nr.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(r.message)}}}function _P(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=1024,C4=30*24*60*60*1e3;class b4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=GE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=C4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GE(),{heartbeatsToSend:r,unsentEntries:i}=P4(this._heartbeatsCache.heartbeats),s=Od(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Nr.warn(n),""}}}function GE(){return new Date().toISOString().substring(0,10)}function P4(t,e=S4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p$()?m$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function KE(t){return Od(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){Uo(new Ts("platform-logger",e=>new B$(e),"PRIVATE")),Uo(new Ts("heartbeat",e=>new b4(e),"PRIVATE")),Ii(ng,zE,t),Ii(ng,zE,"esm2017"),Ii("fire-js","")}R4("");var A4="firebase",k4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(A4,k4,"app");var Bn=function(){return Bn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bn.apply(this,arguments)};function fc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function N4(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function EP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D4=EP,xP=new dc("auth","Firebase",EP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new ay("@firebase/auth");function O4(t,...e){Ld.logLevel<=pe.WARN&&Ld.warn(`Auth (${ra}): ${t}`,...e)}function $u(t,...e){Ld.logLevel<=pe.ERROR&&Ld.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw uy(t,...e)}function Qn(t,...e){return uy(t,...e)}function TP(t,e,n){const r=Object.assign(Object.assign({},D4()),{[e]:n});return new dc("auth","Firebase",r).create(e,{appName:t.name})}function Tr(t){return TP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xP.create(t,...e)}function ie(t,e,...n){if(!t)throw uy(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $u(e),new Error(e)}function Dr(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function M4(){return qE()==="http:"||qE()==="https:"}function qE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M4()||u$()||"connection"in navigator)?navigator.onLine:!0}function L4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=a$()||d$()}get(){return V4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){Dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new pc(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qi(t,e,n,r,i={}){return CP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return c$()||(c.referrerPolicy="no-referrer"),SP.fetch()(bP(t,t.config.apiHost,n,a),c)})}async function CP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},j4),e);try{const i=new U4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TP(t,d,c);Mn(t,d)}}catch(i){if(i instanceof zr)throw i;Mn(t,"network-request-failed",{message:String(i)})}}async function mc(t,e,n,r,i={}){const s=await qi(t,e,n,r,i);return"mfaPendingCredential"in s&&Mn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function bP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?dy(t.config,i):`${t.config.apiScheme}://${i}`}function $4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),F4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function YE(t){return t!==void 0&&t.enterprise!==void 0}class B4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function z4(t,e){return qi(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(t,e){return qi(t,"POST","/v1/accounts:delete",e)}async function PP(t,e){return qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H4(t,e=!1){const n=dn(t),r=await n.getIdToken(e),i=hy(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cl(_p(i.auth_time)),issuedAtTime:cl(_p(i.iat)),expirationTime:cl(_p(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _p(t){return Number(t)*1e3}function hy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $u("JWT malformed, contained fewer than 3 sections"),null;try{const i=dP(n);return i?JSON.parse(i):($u("Failed to decode base64 JWT payload"),null)}catch(i){return $u("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QE(t){const e=hy(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zr&&G4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function G4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await jl(t,PP(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?IP(s.providerUserInfo):[],a=Y4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new og(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function q4(t){const e=dn(t);await jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IP(t){return t.map(e=>{var{providerId:n}=e,r=fc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e){const n=await CP(t,{},async()=>{const r=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=bP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X4(t,e){return qi(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=QE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Q4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new To;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=fc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new og(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H4(this,e)}reload(){return q4(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Tr(this.auth));const e=await this.getIdToken();return await jl(this,W4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:I,isAnonymous:O,providerData:M,stsTokenManager:b}=n;ie(T&&b,e,"internal-error");const C=To.fromJSON(this.name,b);ie(typeof T=="string",e,"internal-error"),Xr(h,e.name),Xr(f,e.name),ie(typeof I=="boolean",e,"internal-error"),ie(typeof O=="boolean",e,"internal-error"),Xr(m,e.name),Xr(E,e.name),Xr(w,e.name),Xr(S,e.name),Xr(x,e.name),Xr(y,e.name);const R=new vr({uid:T,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:O,photoURL:E,phoneNumber:m,tenantId:w,stsTokenManager:C,createdAt:x,lastLoginAt:y});return M&&Array.isArray(M)&&(R.providerData=M.map(A=>Object.assign({},A))),S&&(R._redirectEventId=S),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new To;i.updateFromServerResponse(n);const s=new vr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?IP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new To;a.updateFromIdToken(r);const l=new vr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new og(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function yr(t){Dr(t instanceof Function,"Expected a class definition");let e=XE.get(t);return e?(Dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RP.type="NONE";const JE=RP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t,e,n){return`firebase:${t}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Uu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Uu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(yr(JE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||yr(JE);const o=Uu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=vr._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new So(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new So(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MP(e))return"Blackberry";if(VP(e))return"Webos";if(kP(e))return"Safari";if((e.includes("chrome/")||NP(e))&&!e.includes("edge/"))return"Chrome";if(OP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AP(t=Lt()){return/firefox\//i.test(t)}function kP(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NP(t=Lt()){return/crios\//i.test(t)}function DP(t=Lt()){return/iemobile/i.test(t)}function OP(t=Lt()){return/android/i.test(t)}function MP(t=Lt()){return/blackberry/i.test(t)}function VP(t=Lt()){return/webos/i.test(t)}function fy(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function J4(t=Lt()){var e;return fy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Z4(){return h$()&&document.documentMode===10}function LP(t=Lt()){return fy(t)||OP(t)||VP(t)||MP(t)||/windows phone/i.test(t)||DP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t,e=[]){let n;switch(t){case"Browser":n=ZE(Lt());break;case"Worker":n=`${ZE(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e={}){return qi(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=6;class rU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ex(this),this.idTokenSubscription=new ex(this),this.beforeStateQueue=new eU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await PP(this,{idToken:e}),r=await vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Tr(this));const n=e?dn(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tU(this),n=new rU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await X4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vs(t){return dn(t)}class ex{constructor(e){this.auth=e,this.observer=null,this.addObserver=_$(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sU(t){Lh=t}function FP(t){return Lh.loadJS(t)}function oU(){return Lh.recaptchaEnterpriseScript}function aU(){return Lh.gapiScript}function lU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cU="recaptcha-enterprise",uU="NO_RECAPTCHA";class dU{constructor(e){this.type=cU,this.auth=Vs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{z4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new B4(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;YE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(uU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&YE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=oU();l.length!==0&&(l+=a),FP(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function tx(t,e,n,r=!1){const i=new dU(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ag(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await tx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await tx(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t,e){const n=cy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Md(s,e??{}))return i;Mn(i,"already-initialized")}return n.initialize({options:e})}function fU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pU(t,e,n){const r=Vs(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=$P(e),{host:o,port:a}=mU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||gU()}function $P(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mU(t){const e=$P(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:nx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:nx(o)}}}function nx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function vU(t,e){return qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e){return mc(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function _U(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends py{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,n,"signInWithPassword",yU);case"emailLink":return wU(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,r,"signUpPassword",vU);case"emailLink":return _U(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e){return mc(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="http://localhost";class Ss extends py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=fc(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ss(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:EU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TU(t){const e=Ha(Ga(t)).link,n=e?Ha(Ga(e)).deep_link_id:null,r=Ha(Ga(t)).deep_link_id;return(r?Ha(Ga(r)).link:null)||r||n||e||t}class my{constructor(e){var n,r,i,s,o,a;const l=Ha(Ga(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=xU((i=l.mode)!==null&&i!==void 0?i:null);ie(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=TU(e);try{return new my(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=my.parseLink(n);return ie(r,"argument-error"),Fl._fromEmailAndCode(e,r.code,r.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends UP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends gc{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ss._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return li.credential(n,r)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends gc{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends gc{constructor(){super("twitter.com")}static credential(e,n){return Ss._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(t,e){return mc(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await vr._fromIdTokenResponse(e,r,i),o=rx(r);return new Cs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=rx(r);return new Cs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function rx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends zr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fd(e,n,r,i)}}function BP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(t,s,e,r):s})}async function CU(t,e,n=!1){const r=await jl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e,n=!1){const{auth:r}=t;if(Gn(r.app))return Promise.reject(Tr(r));const i="reauthenticate";try{const s=await jl(t,BP(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=hy(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Cs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e,n=!1){if(Gn(t.app))return Promise.reject(Tr(t));const r="signIn",i=await BP(t,r,e),s=await Cs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function PU(t,e){return zP(Vs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(t){const e=Vs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IU(t,e,n){if(Gn(t.app))return Promise.reject(Tr(t));const r=Vs(t),o=await ag(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&WP(t),l}),a=await Cs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function RU(t,e,n){return Gn(t.app)?Promise.reject(Tr(t)):PU(dn(t),ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WP(t),r})}function AU(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function kU(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function NU(t,e,n,r){return dn(t).onAuthStateChanged(e,n,r)}function DU(t){return dn(t).signOut()}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=1e3,MU=10;class GP extends HP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Z4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GP.type="LOCAL";const VU=GP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP extends HP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KP.type="SESSION";const qP=KP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await LU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=gy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function FU(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function $U(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BU(){return YP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="firebaseLocalStorageDb",zU=1,Ud="firebaseLocalStorage",XP="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(t,e){return t.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function WU(){const t=indexedDB.deleteDatabase(QP);return new vc(t).toPromise()}function lg(){const t=indexedDB.open(QP,zU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ud,{keyPath:XP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ud)?e(r):(r.close(),await WU(),e(await lg()))})})}async function ix(t,e,n){const r=Fh(t,!0).put({[XP]:e,value:n});return new vc(r).toPromise()}async function HU(t,e){const n=Fh(t,!1).get(e),r=await new vc(n).toPromise();return r===void 0?null:r.value}function sx(t,e){const n=Fh(t,!0).delete(e);return new vc(n).toPromise()}const GU=800,KU=3;class JP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(BU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $U(),!this.activeServiceWorker)return;this.sender=new jU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await ix(e,$d,"1"),await sx(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ix(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fh(i,!1).getAll();return new vc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JP.type="LOCAL";const qU=JP;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t,e){return e?yr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QU(t){return zP(t.auth,new vy(t),t.bypassAuthState)}function XU(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),bU(n,new vy(t),t.bypassAuthState)}async function JU(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),CU(n,new vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QU;case"linkViaPopup":case"linkViaRedirect":return JU;case"reauthViaPopup":case"reauthViaRedirect":return XU;default:Mn(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=new pc(2e3,1e4);class go extends ZP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZU.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="pendingRedirect",Bu=new Map;class t3 extends ZP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const r=await n3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n3(t,e){const n=s3(e),r=i3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function r3(t,e){Bu.set(t._key(),e)}function i3(t){return yr(t._redirectPersistence)}function s3(t){return Uu(e3,t.config.apiKey,t.name)}async function o3(t,e,n=!1){if(Gn(t.app))return Promise.reject(Tr(t));const r=Vs(t),i=YU(r,e),o=await new t3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=10*60*1e3;class l3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a3&&this.cachedEventUids.clear(),this.cachedEventUids.has(ox(e))}saveEventToCache(e){this.cachedEventUids.add(ox(e)),this.lastProcessedEventTime=Date.now()}}function ox(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(t,e={}){return qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h3=/^https?/;async function f3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u3(t);for(const n of e)try{if(p3(n))return}catch{}Mn(t,"unauthorized-domain")}function p3(t){const e=sg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!h3.test(n))return!1;if(d3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new pc(3e4,6e4);function ax(){const t=Xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g3(t){return new Promise((e,n)=>{var r,i,s;function o(){ax(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ax(),n(Qn(t,"network-request-failed"))},timeout:m3.get()})}if(!((i=(r=Xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xn().gapi)===null||s===void 0)&&s.load)o();else{const a=lU("iframefcb");return Xn()[a]=()=>{gapi.load?o():n(Qn(t,"network-request-failed"))},FP(`${aU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zu=null,e})}let zu=null;function v3(t){return zu=zu||g3(t),zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new pc(5e3,15e3),w3="__/auth/iframe",_3="emulator/auth/iframe",E3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T3(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dy(e,_3):`https://${t.config.authDomain}/${w3}`,r={apiKey:e.apiKey,appName:t.name,v:ra},i=x3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hc(r).slice(1)}`}async function S3(t){const e=await v3(t),n=Xn().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:T3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qn(t,"network-request-failed"),a=Xn().setTimeout(()=>{s(o)},y3.get());function l(){Xn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b3=500,P3=600,I3="_blank",R3="http://localhost";class lx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A3(t,e,n,r=b3,i=P3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},C3),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Lt().toLowerCase();n&&(a=NP(c)?I3:n),AP(c)&&(e=e||R3,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,E])=>`${f}${m}=${E},`,"");if(J4(c)&&a!=="_self")return k3(e||"",a),new lx(null);const h=window.open(e||"",a,d);ie(h,t,"popup-blocked");try{h.focus()}catch{}return new lx(h)}function k3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="__/auth/handler",D3="emulator/auth/handler",O3=encodeURIComponent("fac");async function cx(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:i};if(e instanceof UP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",w$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof gc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${O3}=${encodeURIComponent(l)}`:"";return`${M3(t)}?${hc(a).slice(1)}${c}`}function M3({config:t}){return t.emulator?dy(t,D3):`https://${t.authDomain}/${N3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class V3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qP,this._completeRedirectFn=o3,this._overrideRedirectResult=r3}async _openPopup(e,n,r,i){var s;Dr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await cx(e,n,r,sg(),i);return A3(e,o,gy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await cx(e,n,r,sg(),i);return FU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Dr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S3(e),r=new l3(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ep,{type:Ep},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ep];o!==void 0&&n(!!o),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LP()||kP()||fy()}}const L3=V3;var ux="@firebase/auth",dx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $3(t){Uo(new Ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jP(t)},c=new iU(r,i,s,l);return fU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Uo(new Ts("auth-internal",e=>{const n=Vs(e.getProvider("auth").getImmediate());return(r=>new j3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(ux,dx,F3(t)),Ii(ux,dx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=5*60,B3=pP("authIdTokenMaxAge")||U3;let hx=null;const z3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>B3)return;const i=n==null?void 0:n.token;hx!==i&&(hx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function W3(t=yP()){const e=cy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hU(t,{popupRedirectResolver:L3,persistence:[qU,VU,qP]}),r=pP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=z3(s.toString());kU(n,o,()=>o(n.currentUser)),AU(n,a=>o(a))}}const i=hP("auth");return i&&pU(n,`http://${i}`),n}function H3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",H3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$3("Browser");var fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,tI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function R(){}R.prototype=C.prototype,b.D=C.prototype,b.prototype=new R,b.prototype.constructor=b,b.C=function(A,N,D){for(var k=Array(arguments.length-2),$=2;$<arguments.length;$++)k[$-2]=arguments[$];return C.prototype[N].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,C,R){R||(R=0);var A=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)A[N]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(N=0;16>N;++N)A[N]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=b.g[0],R=b.g[1],N=b.g[2];var D=b.g[3],k=C+(D^R&(N^D))+A[0]+3614090360&4294967295;C=R+(k<<7&4294967295|k>>>25),k=D+(N^C&(R^N))+A[1]+3905402710&4294967295,D=C+(k<<12&4294967295|k>>>20),k=N+(R^D&(C^R))+A[2]+606105819&4294967295,N=D+(k<<17&4294967295|k>>>15),k=R+(C^N&(D^C))+A[3]+3250441966&4294967295,R=N+(k<<22&4294967295|k>>>10),k=C+(D^R&(N^D))+A[4]+4118548399&4294967295,C=R+(k<<7&4294967295|k>>>25),k=D+(N^C&(R^N))+A[5]+1200080426&4294967295,D=C+(k<<12&4294967295|k>>>20),k=N+(R^D&(C^R))+A[6]+2821735955&4294967295,N=D+(k<<17&4294967295|k>>>15),k=R+(C^N&(D^C))+A[7]+4249261313&4294967295,R=N+(k<<22&4294967295|k>>>10),k=C+(D^R&(N^D))+A[8]+1770035416&4294967295,C=R+(k<<7&4294967295|k>>>25),k=D+(N^C&(R^N))+A[9]+2336552879&4294967295,D=C+(k<<12&4294967295|k>>>20),k=N+(R^D&(C^R))+A[10]+4294925233&4294967295,N=D+(k<<17&4294967295|k>>>15),k=R+(C^N&(D^C))+A[11]+2304563134&4294967295,R=N+(k<<22&4294967295|k>>>10),k=C+(D^R&(N^D))+A[12]+1804603682&4294967295,C=R+(k<<7&4294967295|k>>>25),k=D+(N^C&(R^N))+A[13]+4254626195&4294967295,D=C+(k<<12&4294967295|k>>>20),k=N+(R^D&(C^R))+A[14]+2792965006&4294967295,N=D+(k<<17&4294967295|k>>>15),k=R+(C^N&(D^C))+A[15]+1236535329&4294967295,R=N+(k<<22&4294967295|k>>>10),k=C+(N^D&(R^N))+A[1]+4129170786&4294967295,C=R+(k<<5&4294967295|k>>>27),k=D+(R^N&(C^R))+A[6]+3225465664&4294967295,D=C+(k<<9&4294967295|k>>>23),k=N+(C^R&(D^C))+A[11]+643717713&4294967295,N=D+(k<<14&4294967295|k>>>18),k=R+(D^C&(N^D))+A[0]+3921069994&4294967295,R=N+(k<<20&4294967295|k>>>12),k=C+(N^D&(R^N))+A[5]+3593408605&4294967295,C=R+(k<<5&4294967295|k>>>27),k=D+(R^N&(C^R))+A[10]+38016083&4294967295,D=C+(k<<9&4294967295|k>>>23),k=N+(C^R&(D^C))+A[15]+3634488961&4294967295,N=D+(k<<14&4294967295|k>>>18),k=R+(D^C&(N^D))+A[4]+3889429448&4294967295,R=N+(k<<20&4294967295|k>>>12),k=C+(N^D&(R^N))+A[9]+568446438&4294967295,C=R+(k<<5&4294967295|k>>>27),k=D+(R^N&(C^R))+A[14]+3275163606&4294967295,D=C+(k<<9&4294967295|k>>>23),k=N+(C^R&(D^C))+A[3]+4107603335&4294967295,N=D+(k<<14&4294967295|k>>>18),k=R+(D^C&(N^D))+A[8]+1163531501&4294967295,R=N+(k<<20&4294967295|k>>>12),k=C+(N^D&(R^N))+A[13]+2850285829&4294967295,C=R+(k<<5&4294967295|k>>>27),k=D+(R^N&(C^R))+A[2]+4243563512&4294967295,D=C+(k<<9&4294967295|k>>>23),k=N+(C^R&(D^C))+A[7]+1735328473&4294967295,N=D+(k<<14&4294967295|k>>>18),k=R+(D^C&(N^D))+A[12]+2368359562&4294967295,R=N+(k<<20&4294967295|k>>>12),k=C+(R^N^D)+A[5]+4294588738&4294967295,C=R+(k<<4&4294967295|k>>>28),k=D+(C^R^N)+A[8]+2272392833&4294967295,D=C+(k<<11&4294967295|k>>>21),k=N+(D^C^R)+A[11]+1839030562&4294967295,N=D+(k<<16&4294967295|k>>>16),k=R+(N^D^C)+A[14]+4259657740&4294967295,R=N+(k<<23&4294967295|k>>>9),k=C+(R^N^D)+A[1]+2763975236&4294967295,C=R+(k<<4&4294967295|k>>>28),k=D+(C^R^N)+A[4]+1272893353&4294967295,D=C+(k<<11&4294967295|k>>>21),k=N+(D^C^R)+A[7]+4139469664&4294967295,N=D+(k<<16&4294967295|k>>>16),k=R+(N^D^C)+A[10]+3200236656&4294967295,R=N+(k<<23&4294967295|k>>>9),k=C+(R^N^D)+A[13]+681279174&4294967295,C=R+(k<<4&4294967295|k>>>28),k=D+(C^R^N)+A[0]+3936430074&4294967295,D=C+(k<<11&4294967295|k>>>21),k=N+(D^C^R)+A[3]+3572445317&4294967295,N=D+(k<<16&4294967295|k>>>16),k=R+(N^D^C)+A[6]+76029189&4294967295,R=N+(k<<23&4294967295|k>>>9),k=C+(R^N^D)+A[9]+3654602809&4294967295,C=R+(k<<4&4294967295|k>>>28),k=D+(C^R^N)+A[12]+3873151461&4294967295,D=C+(k<<11&4294967295|k>>>21),k=N+(D^C^R)+A[15]+530742520&4294967295,N=D+(k<<16&4294967295|k>>>16),k=R+(N^D^C)+A[2]+3299628645&4294967295,R=N+(k<<23&4294967295|k>>>9),k=C+(N^(R|~D))+A[0]+4096336452&4294967295,C=R+(k<<6&4294967295|k>>>26),k=D+(R^(C|~N))+A[7]+1126891415&4294967295,D=C+(k<<10&4294967295|k>>>22),k=N+(C^(D|~R))+A[14]+2878612391&4294967295,N=D+(k<<15&4294967295|k>>>17),k=R+(D^(N|~C))+A[5]+4237533241&4294967295,R=N+(k<<21&4294967295|k>>>11),k=C+(N^(R|~D))+A[12]+1700485571&4294967295,C=R+(k<<6&4294967295|k>>>26),k=D+(R^(C|~N))+A[3]+2399980690&4294967295,D=C+(k<<10&4294967295|k>>>22),k=N+(C^(D|~R))+A[10]+4293915773&4294967295,N=D+(k<<15&4294967295|k>>>17),k=R+(D^(N|~C))+A[1]+2240044497&4294967295,R=N+(k<<21&4294967295|k>>>11),k=C+(N^(R|~D))+A[8]+1873313359&4294967295,C=R+(k<<6&4294967295|k>>>26),k=D+(R^(C|~N))+A[15]+4264355552&4294967295,D=C+(k<<10&4294967295|k>>>22),k=N+(C^(D|~R))+A[6]+2734768916&4294967295,N=D+(k<<15&4294967295|k>>>17),k=R+(D^(N|~C))+A[13]+1309151649&4294967295,R=N+(k<<21&4294967295|k>>>11),k=C+(N^(R|~D))+A[4]+4149444226&4294967295,C=R+(k<<6&4294967295|k>>>26),k=D+(R^(C|~N))+A[11]+3174756917&4294967295,D=C+(k<<10&4294967295|k>>>22),k=N+(C^(D|~R))+A[2]+718787259&4294967295,N=D+(k<<15&4294967295|k>>>17),k=R+(D^(N|~C))+A[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var R=C-this.blockSize,A=this.B,N=this.h,D=0;D<C;){if(N==0)for(;D<=R;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<C;)if(A[N++]=b.charCodeAt(D++),N==this.blockSize){i(this,A),N=0;break}}else for(;D<C;)if(A[N++]=b[D++],N==this.blockSize){i(this,A),N=0;break}}this.h=N,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var R=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=R&255,R/=256;for(this.u(b),b=Array(16),C=R=0;4>C;++C)for(var A=0;32>A;A+=8)b[R++]=this.g[C]>>>A&255;return b};function s(b,C){var R=a;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=C(b)}function o(b,C){this.h=C;for(var R=[],A=!0,N=b.length-1;0<=N;N--){var D=b[N]|0;A&&D==C||(R[N]=D,A=!1)}this.g=R}var a={};function l(b){return-128<=b&&128>b?s(b,function(C){return new o([C|0],0>C?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return S(c(-b));for(var C=[],R=1,A=0;b>=R;A++)C[A]=b/R|0,R*=4294967296;return new o(C,0)}function d(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return S(d(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(C,8)),A=h,N=0;N<b.length;N+=8){var D=Math.min(8,b.length-N),k=parseInt(b.substring(N,N+D),C);8>D?(D=c(Math.pow(C,D)),A=A.j(D).add(c(k))):(A=A.j(R),A=A.add(c(k)))}return A}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-S(this).m();for(var b=0,C=1,R=0;R<this.g.length;R++){var A=this.i(R);b+=(0<=A?A:4294967296+A)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(w(this))return"-"+S(this).toString(b);for(var C=c(Math.pow(b,6)),R=this,A="";;){var N=I(R,C).g;R=x(R,N.j(C));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(b);if(R=N,E(R))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function w(b){return b.h==-1}t.l=function(b){return b=x(this,b),w(b)?-1:E(b)?0:1};function S(b){for(var C=b.g.length,R=[],A=0;A<C;A++)R[A]=~b.g[A];return new o(R,~b.h).add(f)}t.abs=function(){return w(this)?S(this):this},t.add=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],A=0,N=0;N<=C;N++){var D=A+(this.i(N)&65535)+(b.i(N)&65535),k=(D>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);A=k>>>16,D&=65535,k&=65535,R[N]=k<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function x(b,C){return b.add(S(C))}t.j=function(b){if(E(this)||E(b))return h;if(w(this))return w(b)?S(this).j(S(b)):S(S(this).j(b));if(w(b))return S(this.j(S(b)));if(0>this.l(m)&&0>b.l(m))return c(this.m()*b.m());for(var C=this.g.length+b.g.length,R=[],A=0;A<2*C;A++)R[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<b.g.length;N++){var D=this.i(A)>>>16,k=this.i(A)&65535,$=b.i(N)>>>16,G=b.i(N)&65535;R[2*A+2*N]+=k*G,y(R,2*A+2*N),R[2*A+2*N+1]+=D*G,y(R,2*A+2*N+1),R[2*A+2*N+1]+=k*$,y(R,2*A+2*N+1),R[2*A+2*N+2]+=D*$,y(R,2*A+2*N+2)}for(A=0;A<C;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=C;A<2*C;A++)R[A]=0;return new o(R,0)};function y(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function T(b,C){this.g=b,this.h=C}function I(b,C){if(E(C))throw Error("division by zero");if(E(b))return new T(h,h);if(w(b))return C=I(S(b),C),new T(S(C.g),S(C.h));if(w(C))return C=I(b,S(C)),new T(S(C.g),C.h);if(30<b.g.length){if(w(b)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var R=f,A=C;0>=A.l(b);)R=O(R),A=O(A);var N=M(R,1),D=M(A,1);for(A=M(A,2),R=M(R,2);!E(A);){var k=D.add(A);0>=k.l(b)&&(N=N.add(R),D=k),A=M(A,1),R=M(R,1)}return C=x(b,N.j(C)),new T(N,C)}for(N=h;0<=b.l(C);){for(R=Math.max(1,Math.floor(b.m()/C.m())),A=Math.ceil(Math.log(R)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(R),k=D.j(C);w(k)||0<k.l(b);)R-=A,D=c(R),k=D.j(C);E(D)&&(D=f),N=N.add(D),b=x(b,k)}return new T(N,b)}t.A=function(b){return I(this,b).h},t.and=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],A=0;A<C;A++)R[A]=this.i(A)&b.i(A);return new o(R,this.h&b.h)},t.or=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],A=0;A<C;A++)R[A]=this.i(A)|b.i(A);return new o(R,this.h|b.h)},t.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],A=0;A<C;A++)R[A]=this.i(A)^b.i(A);return new o(R,this.h^b.h)};function O(b){for(var C=b.g.length+1,R=[],A=0;A<C;A++)R[A]=b.i(A)<<1|b.i(A-1)>>>31;return new o(R,b.h)}function M(b,C){var R=C>>5;C%=32;for(var A=b.g.length-R,N=[],D=0;D<A;D++)N[D]=0<C?b.i(D+R)>>>C|b.i(D+R+1)<<32-C:b.i(D+R);return new o(N,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,vs=o}).apply(typeof fx<"u"?fx:typeof self<"u"?self:typeof window<"u"?window:{});var pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nI,Ka,rI,Wu,cg,iI,sI,oI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pu=="object"&&pu];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var _=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var V=u[P];if(!(V in _))break e;_=_[V]}u=u[u.length-1],P=_[u],p=p(P),p!=P&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var _=0,P=!1,V={next:function(){if(!P&&_<u.length){var L=_++;return{value:p(L,u[L]),done:!1}}return P=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,_){return u.call.apply(u.bind,arguments)}function h(u,p,_){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,P),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function f(u,p,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var P=_.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function E(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(P,V,L){for(var H=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)H[Ce-2]=arguments[Ce];return p.prototype[V].apply(P,H)}}function w(u){const p=u.length;if(0<p){const _=Array(p);for(let P=0;P<p;P++)_[P]=u[P];return _}return[]}function S(u,p){for(let _=1;_<arguments.length;_++){const P=arguments[_];if(l(P)){const V=u.length||0,L=P.length||0;u.length=V+L;for(let H=0;H<L;H++)u[V+H]=P[H]}else u.push(P)}}class x{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(u,p,_){for(const P in u)p.call(_,u[P],P,u)}function b(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function C(u){const p={};for(const _ in u)p[_]=u[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,p){let _,P;for(let V=1;V<arguments.length;V++){P=arguments[V];for(_ in P)u[_]=P[_];for(let L=0;L<R.length;L++)_=R[L],Object.prototype.hasOwnProperty.call(P,_)&&(u[_]=P[_])}}function N(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function D(u){a.setTimeout(()=>{throw u},0)}function k(){var u=z;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ${constructor(){this.h=this.g=null}add(p,_){const P=G.get();P.set(p,_),this.h?this.h.next=P:this.g=P,this.h=P}}var G=new x(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let X,j=!1,z=new $,K=()=>{const u=a.Promise.resolve(void 0);X=()=>{u.then(Y)}};var Y=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(_){D(_)}var p=G;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}j=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,p),a.removeEventListener("test",_,p)}catch{}return u}();function Me(u,p){if(ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(O){e:{try{I(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Me.aa.h.call(this)}}E(Me,ne);var Ve={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),ye=0;function Ye(u,p,_,P,V){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!P,this.ha=V,this.key=++ye,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,p,_,P,V){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var H=ft(u,p,P,V);return-1<H?(p=u[H],_||(p.fa=!1)):(p=new Ye(p,this.src,L,!!P,V),p.fa=_,u.push(p)),p};function ge(u,p){var _=p.type;if(_ in u.g){var P=u.g[_],V=Array.prototype.indexOf.call(P,p,void 0),L;(L=0<=V)&&Array.prototype.splice.call(P,V,1),L&&(fe(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ft(u,p,_,P){for(var V=0;V<u.length;++V){var L=u[V];if(!L.da&&L.listener==p&&L.capture==!!_&&L.ha==P)return V}return-1}var it="closure_lm_"+(1e6*Math.random()|0),or={};function Wr(u,p,_,P,V){if(P&&P.once)return bc(u,p,_,P,V);if(Array.isArray(p)){for(var L=0;L<p.length;L++)Wr(u,p[L],_,P,V);return null}return _=uf(_),u&&u[J]?u.K(p,_,c(P)?!!P.capture:!!P,V):Hr(u,p,_,!1,P,V)}function Hr(u,p,_,P,V,L){if(!p)throw Error("Invalid event type");var H=c(V)?!!V.capture:!!V,Ce=lf(u);if(Ce||(u[it]=Ce=new ce(u)),_=Ce.add(p,_,P,H,L),_.proxy)return _;if(P=of(),_.proxy=P,P.src=u,P.listener=_,u.addEventListener)Se||(V=H),V===void 0&&(V=!1),u.addEventListener(p.toString(),P,V);else if(u.attachEvent)u.attachEvent(p0(p.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return _}function of(){function u(_){return p.call(u.src,u.listener,_)}const p=WA;return u}function bc(u,p,_,P,V){if(Array.isArray(p)){for(var L=0;L<p.length;L++)bc(u,p[L],_,P,V);return null}return _=uf(_),u&&u[J]?u.L(p,_,c(P)?!!P.capture:!!P,V):Hr(u,p,_,!0,P,V)}function Yi(u,p,_,P,V){if(Array.isArray(p))for(var L=0;L<p.length;L++)Yi(u,p[L],_,P,V);else P=c(P)?!!P.capture:!!P,_=uf(_),u&&u[J]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],_=ft(L,_,P,V),-1<_&&(fe(L[_]),Array.prototype.splice.call(L,_,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=lf(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ft(p,_,P,V)),(_=-1<u?p[u]:null)&&af(_))}function af(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[J])ge(p.i,u);else{var _=u.type,P=u.proxy;p.removeEventListener?p.removeEventListener(_,P,u.capture):p.detachEvent?p.detachEvent(p0(_),P):p.addListener&&p.removeListener&&p.removeListener(P),(_=lf(p))?(ge(_,u),_.h==0&&(_.src=null,p[it]=null)):fe(u)}}}function p0(u){return u in or?or[u]:or[u]="on"+u}function WA(u,p){if(u.da)u=!0;else{p=new Me(p,this);var _=u.listener,P=u.ha||u.src;u.fa&&af(u),u=_.call(P,p)}return u}function lf(u){return u=u[it],u instanceof ce?u:null}var cf="__closure_events_fn_"+(1e9*Math.random()>>>0);function uf(u){return typeof u=="function"?u:(u[cf]||(u[cf]=function(p){return u.handleEvent(p)}),u[cf])}function St(){te.call(this),this.i=new ce(this),this.M=this,this.F=null}E(St,te),St.prototype[J]=!0,St.prototype.removeEventListener=function(u,p,_,P){Yi(this,u,p,_,P)};function Ft(u,p){var _,P=u.F;if(P)for(_=[];P;P=P.F)_.push(P);if(u=u.M,P=p.type||p,typeof p=="string")p=new ne(p,u);else if(p instanceof ne)p.target=p.target||u;else{var V=p;p=new ne(P,u),A(p,V)}if(V=!0,_)for(var L=_.length-1;0<=L;L--){var H=p.g=_[L];V=Pc(H,P,!0,p)&&V}if(H=p.g=u,V=Pc(H,P,!0,p)&&V,V=Pc(H,P,!1,p)&&V,_)for(L=0;L<_.length;L++)H=p.g=_[L],V=Pc(H,P,!1,p)&&V}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],P=0;P<_.length;P++)fe(_[P]);delete u.g[p],u.h--}}this.F=null},St.prototype.K=function(u,p,_,P){return this.i.add(String(u),p,!1,_,P)},St.prototype.L=function(u,p,_,P){return this.i.add(String(u),p,!0,_,P)};function Pc(u,p,_,P){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,L=0;L<p.length;++L){var H=p[L];if(H&&!H.da&&H.capture==_){var Ce=H.listener,pt=H.ha||H.src;H.fa&&ge(u.i,H),V=Ce.call(pt,P)!==!1&&V}}return V&&!P.defaultPrevented}function m0(u,p,_){if(typeof u=="function")_&&(u=f(u,_));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function g0(u){u.g=m0(()=>{u.g=null,u.i&&(u.i=!1,g0(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class HA extends te{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:g0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(u){te.call(this),this.h=u,this.g={}}E(fa,te);var v0=[];function y0(u){M(u.g,function(p,_){this.g.hasOwnProperty(_)&&af(p)},u),u.g={}}fa.prototype.N=function(){fa.aa.N.call(this),y0(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var df=a.JSON.stringify,GA=a.JSON.parse,KA=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function hf(){}hf.prototype.h=null;function w0(u){return u.h||(u.h=u.i())}function _0(){}var pa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ff(){ne.call(this,"d")}E(ff,ne);function pf(){ne.call(this,"c")}E(pf,ne);var Qi={},E0=null;function Ic(){return E0=E0||new St}Qi.La="serverreachability";function x0(u){ne.call(this,Qi.La,u)}E(x0,ne);function ma(u){const p=Ic();Ft(p,new x0(p))}Qi.STAT_EVENT="statevent";function T0(u,p){ne.call(this,Qi.STAT_EVENT,u),this.stat=p}E(T0,ne);function $t(u){const p=Ic();Ft(p,new T0(p,u))}Qi.Ma="timingevent";function S0(u,p){ne.call(this,Qi.Ma,u),this.size=p}E(S0,ne);function ga(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function qA(u,p,_,P,V,L){u.info(function(){if(u.g)if(L)for(var H="",Ce=L.split("&"),pt=0;pt<Ce.length;pt++){var we=Ce[pt].split("=");if(1<we.length){var Ct=we[0];we=we[1];var bt=Ct.split("_");H=2<=bt.length&&bt[1]=="type"?H+(Ct+"="+we+"&"):H+(Ct+"=redacted&")}}else H=null;else H=L;return"XMLHTTP REQ ("+P+") [attempt "+V+"]: "+p+`
`+_+`
`+H})}function YA(u,p,_,P,V,L,H){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+V+"]: "+p+`
`+_+`
`+L+" "+H})}function Us(u,p,_,P){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+XA(u,_)+(P?" "+P:"")})}function QA(u,p){u.info(function(){return"TIMEOUT: "+p})}va.prototype.info=function(){};function XA(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var P=_[u];if(!(2>P.length)){var V=P[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var H=1;H<V.length;H++)V[H]=""}}}}return df(_)}catch{return p}}var Rc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},C0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mf;function Ac(){}E(Ac,hf),Ac.prototype.g=function(){return new XMLHttpRequest},Ac.prototype.i=function(){return{}},mf=new Ac;function Gr(u,p,_,P){this.j=u,this.i=p,this.l=_,this.R=P||1,this.U=new fa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new b0}function b0(){this.i=null,this.g="",this.h=!1}var P0={},gf={};function vf(u,p,_){u.L=1,u.v=Oc(ar(p)),u.m=_,u.P=!0,I0(u,null)}function I0(u,p){u.F=Date.now(),kc(u),u.A=ar(u.v);var _=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),B0(_.i,"t",P),u.C=0,_=u.j.J,u.h=new b0,u.g=ow(u.j,_?p:null,!u.m),0<u.O&&(u.M=new HA(f(u.Y,u,u.g),u.O)),p=u.U,_=u.g,P=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(v0[0]=V.toString()),V=v0);for(var L=0;L<V.length;L++){var H=Wr(_,V[L],P||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ma(),qA(u.i,u.u,u.A,u.l,u.R,u.m)}Gr.prototype.ca=function(u){u=u.target;const p=this.M;p&&lr(u)==3?p.j():this.Y(u)},Gr.prototype.Y=function(u){try{if(u==this.g)e:{const bt=lr(this.g);var p=this.g.Ba();const Ws=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Y0(this.g)))){this.J||bt!=4||p==7||(p==8||0>=Ws?ma(3):ma(2)),yf(this);var _=this.g.Z();this.X=_;t:if(R0(this)){var P=Y0(this.g);u="";var V=P.length,L=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),ya(this);var H="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(P[p],{stream:!(L&&p==V-1)});P.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=_==200,YA(this.i,this.u,this.A,this.l,this.R,bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,pt=this.g;if((Ce=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ce)){var we=Ce;break t}}we=null}if(_=we)Us(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wf(this,_);else{this.o=!1,this.s=3,$t(12),Xi(this),ya(this);break e}}if(this.P){_=!0;let Cn;for(;!this.J&&this.C<H.length;)if(Cn=JA(this,H),Cn==gf){bt==4&&(this.s=4,$t(14),_=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==P0){this.s=4,$t(15),Us(this.i,this.l,H,"[Invalid Chunk]"),_=!1;break}else Us(this.i,this.l,Cn,null),wf(this,Cn);if(R0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||H.length!=0||this.h.h||(this.s=1,$t(16),_=!1),this.o=this.o&&_,!_)Us(this.i,this.l,H,"[Invalid Chunked Response]"),Xi(this),ya(this);else if(0<H.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Cf(Ct),Ct.M=!0,$t(11))}}else Us(this.i,this.l,H,null),wf(this,H);bt==4&&Xi(this),this.o&&!this.J&&(bt==4?nw(this.j,this):(this.o=!1,kc(this)))}else mk(this.g),_==400&&0<H.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Xi(this),ya(this)}}}catch{}finally{}};function R0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function JA(u,p){var _=u.C,P=p.indexOf(`
`,_);return P==-1?gf:(_=Number(p.substring(_,P)),isNaN(_)?P0:(P+=1,P+_>p.length?gf:(p=p.slice(P,P+_),u.C=P+_,p)))}Gr.prototype.cancel=function(){this.J=!0,Xi(this)};function kc(u){u.S=Date.now()+u.I,A0(u,u.I)}function A0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ga(f(u.ba,u),p)}function yf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Gr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(QA(this.i,this.A),this.L!=2&&(ma(),$t(17)),Xi(this),this.s=2,ya(this)):A0(this,this.S-u)};function ya(u){u.j.G==0||u.J||nw(u.j,u)}function Xi(u){yf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,y0(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function wf(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||_f(_.h,u))){if(!u.K&&_f(_.h,u)&&_.G==3){try{var P=_.Da.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var V=P;if(V[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)$c(_),jc(_);else break e;Sf(_),$t(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=ga(f(_.Za,_),6e3));if(1>=D0(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zi(_,11)}else if((u.K||_.g==u)&&$c(_),!y(p))for(V=_.Da.g.parse(p),p=0;p<V.length;p++){let we=V[p];if(_.T=we[0],we=we[1],_.G==2)if(we[0]=="c"){_.K=we[1],_.ia=we[2];const Ct=we[3];Ct!=null&&(_.la=Ct,_.j.info("VER="+_.la));const bt=we[4];bt!=null&&(_.Aa=bt,_.j.info("SVER="+_.Aa));const Ws=we[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(P=1.5*Ws,_.L=P,_.j.info("backChannelRequestTimeoutMs_="+P)),P=_;const Cn=u.g;if(Cn){const Bc=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var L=P.h;L.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Ef(L,L.h),L.h=null))}if(P.D){const bf=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;bf&&(P.ya=bf,Ae(P.I,P.D,bf))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),P=_;var H=u;if(P.qa=sw(P,P.J?P.ia:null,P.W),H.K){O0(P.h,H);var Ce=H,pt=P.L;pt&&(Ce.I=pt),Ce.B&&(yf(Ce),kc(Ce)),P.g=H}else ew(P);0<_.i.length&&Fc(_)}else we[0]!="stop"&&we[0]!="close"||Zi(_,7);else _.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Zi(_,7):Tf(_):we[0]!="noop"&&_.l&&_.l.ta(we),_.v=0)}}ma(4)}catch{}}var ZA=class{constructor(u,p){this.g=u,this.map=p}};function k0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function N0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function D0(u){return u.h?1:u.g?u.g.size:0}function _f(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ef(u,p){u.g?u.g.add(p):u.h=p}function O0(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}k0.prototype.cancel=function(){if(this.i=M0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function M0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return w(u.i)}function ek(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],_=u.length,P=0;P<_;P++)p.push(u[P]);return p}p=[],_=0;for(P in u)p[_++]=u[P];return p}function tk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const P in u)p[_++]=P;return p}}}function V0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=tk(u),P=ek(u),V=P.length,L=0;L<V;L++)p.call(void 0,P[L],_&&_[L],u)}var L0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nk(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var P=u[_].indexOf("="),V=null;if(0<=P){var L=u[_].substring(0,P);V=u[_].substring(P+1)}else L=u[_];p(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ji(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ji){this.h=u.h,Nc(this,u.j),this.o=u.o,this.g=u.g,Dc(this,u.s),this.l=u.l;var p=u.i,_=new Ea;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),j0(this,_),this.m=u.m}else u&&(p=String(u).match(L0))?(this.h=!1,Nc(this,p[1]||"",!0),this.o=wa(p[2]||""),this.g=wa(p[3]||"",!0),Dc(this,p[4]),this.l=wa(p[5]||"",!0),j0(this,p[6]||"",!0),this.m=wa(p[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}Ji.prototype.toString=function(){var u=[],p=this.j;p&&u.push(_a(p,F0,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(_a(p,F0,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(_a(_,_.charAt(0)=="/"?sk:ik,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",_a(_,ak)),u.join("")};function ar(u){return new Ji(u)}function Nc(u,p,_){u.j=_?wa(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Dc(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function j0(u,p,_){p instanceof Ea?(u.i=p,lk(u.i,u.h)):(_||(p=_a(p,ok)),u.i=new Ea(p,u.h))}function Ae(u,p,_){u.i.set(p,_)}function Oc(u){return Ae(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function wa(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _a(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,rk),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var F0=/[#\/\?@]/g,ik=/[#\?:]/g,sk=/[#\?]/g,ok=/[#\?@]/g,ak=/#/g;function Ea(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Kr(u){u.g||(u.g=new Map,u.h=0,u.i&&nk(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=Ea.prototype,t.add=function(u,p){Kr(this),this.i=null,u=Bs(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function $0(u,p){Kr(u),p=Bs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function U0(u,p){return Kr(u),p=Bs(u,p),u.g.has(p)}t.forEach=function(u,p){Kr(this),this.g.forEach(function(_,P){_.forEach(function(V){u.call(p,V,P,this)},this)},this)},t.na=function(){Kr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let P=0;P<p.length;P++){const V=u[P];for(let L=0;L<V.length;L++)_.push(p[P])}return _},t.V=function(u){Kr(this);let p=[];if(typeof u=="string")U0(this,u)&&(p=p.concat(this.g.get(Bs(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},t.set=function(u,p){return Kr(this),this.i=null,u=Bs(this,u),U0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function B0(u,p,_){$0(u,p),0<_.length&&(u.i=null,u.g.set(Bs(u,p),w(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var P=p[_];const L=encodeURIComponent(String(P)),H=this.V(P);for(P=0;P<H.length;P++){var V=L;H[P]!==""&&(V+="="+encodeURIComponent(String(H[P]))),u.push(V)}}return this.i=u.join("&")};function Bs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function lk(u,p){p&&!u.j&&(Kr(u),u.i=null,u.g.forEach(function(_,P){var V=P.toLowerCase();P!=V&&($0(this,P),B0(this,V,_))},u)),u.j=p}function ck(u,p){const _=new va;if(a.Image){const P=new Image;P.onload=m(qr,_,"TestLoadImage: loaded",!0,p,P),P.onerror=m(qr,_,"TestLoadImage: error",!1,p,P),P.onabort=m(qr,_,"TestLoadImage: abort",!1,p,P),P.ontimeout=m(qr,_,"TestLoadImage: timeout",!1,p,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else p(!1)}function uk(u,p){const _=new va,P=new AbortController,V=setTimeout(()=>{P.abort(),qr(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:P.signal}).then(L=>{clearTimeout(V),L.ok?qr(_,"TestPingServer: ok",!0,p):qr(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),qr(_,"TestPingServer: error",!1,p)})}function qr(u,p,_,P,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),P(_)}catch{}}function dk(){this.g=new KA}function hk(u,p,_){const P=_||"";try{V0(u,function(V,L){let H=V;c(V)&&(H=df(V)),p.push(P+L+"="+encodeURIComponent(H))})}catch(V){throw p.push(P+"type="+encodeURIComponent("_badmap")),V}}function Mc(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Mc,hf),Mc.prototype.g=function(){return new Vc(this.l,this.j)},Mc.prototype.i=function(u){return function(){return u}}({});function Vc(u,p){St.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Vc,St),t=Vc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ta(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;z0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function z0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?xa(this):Ta(this),this.readyState==3&&z0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,xa(this))},t.Qa=function(u){this.g&&(this.response=u,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ta(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function Ta(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function W0(u){let p="";return M(u,function(_,P){p+=P,p+=":",p+=_,p+=`\r
`}),p}function xf(u,p,_){e:{for(P in _){var P=!1;break e}P=!0}P||(_=W0(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ae(u,p,_))}function We(u){St.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(We,St);var fk=/^https?$/i,pk=["POST","PUT"];t=We.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,_,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mf.g(),this.v=this.o?w0(this.o):w0(mf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){H0(this,L);return}if(u=_||"",_=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var V in P)_.set(V,P[V]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const L of P.keys())_.set(L,P.get(L));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(_.keys()).find(L=>L.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(pk,p,void 0))||P||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of _)this.g.setRequestHeader(L,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{q0(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){H0(this,L)}};function H0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,G0(u),Lc(u)}function G0(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),Lc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lc(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?K0(this):this.bb())},t.bb=function(){K0(this)};function K0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||lr(u)!=4||u.Z()!=2)){if(u.u&&lr(u)==4)m0(u.Ea,0,u);else if(Ft(u,"readystatechange"),lr(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var P;if(P=H===0){var V=String(u.D).match(L0)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),P=!fk.test(V?V.toLowerCase():"")}_=P}if(_)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var L=2<lr(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",G0(u)}}finally{Lc(u)}}}}function Lc(u,p){if(u.g){q0(u);const _=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ft(u,"ready");try{_.onreadystatechange=P}catch{}}}function q0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function lr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),GA(p)}};function Y0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mk(u){const p={};u=(u.g&&2<=lr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(y(u[P]))continue;var _=N(u[P]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const L=p[V]||[];p[V]=L,L.push(_)}b(p,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function Q0(u){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,u),this.cb=Sa("retryDelaySeedMs",1e4,u),this.Wa=Sa("forwardChannelMaxRetries",2,u),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new k0(u&&u.concurrentRequestLimit),this.Da=new dk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Q0.prototype,t.la=8,t.G=1,t.connect=function(u,p,_,P){$t(0),this.W=u,this.H=p||{},_&&P!==void 0&&(this.H.OSID=_,this.H.OAID=P),this.F=this.X,this.I=sw(this,null,this.W),Fc(this)};function Tf(u){if(X0(u),u.G==3){var p=u.U++,_=ar(u.I);if(Ae(_,"SID",u.K),Ae(_,"RID",p),Ae(_,"TYPE","terminate"),Ca(u,_),p=new Gr(u,u.j,p),p.L=2,p.v=Oc(ar(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=p.v,_=!0),_||(p.g=ow(p.j,null),p.g.ea(p.v)),p.F=Date.now(),kc(p)}iw(u)}function jc(u){u.g&&(Cf(u),u.g.cancel(),u.g=null)}function X0(u){jc(u),u.u&&(a.clearTimeout(u.u),u.u=null),$c(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Fc(u){if(!N0(u.h)&&!u.s){u.s=!0;var p=u.Ga;X||K(),j||(X(),j=!0),z.add(p,u),u.B=0}}function gk(u,p){return D0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ga(f(u.Ga,u,p),rw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Gr(this,this.j,u);let L=this.o;if(this.S&&(L?(L=C(L),A(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var P=this.i[_];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Z0(this,V,p),_=ar(this.I),Ae(_,"RID",u),Ae(_,"CVER",22),this.D&&Ae(_,"X-HTTP-Session-Id",this.D),Ca(this,_),L&&(this.O?p="headers="+encodeURIComponent(String(W0(L)))+"&"+p:this.m&&xf(_,this.m,L)),Ef(this.h,V),this.Ua&&Ae(_,"TYPE","init"),this.P?(Ae(_,"$req",p),Ae(_,"SID","null"),V.T=!0,vf(V,_,null)):vf(V,_,p),this.G=2}}else this.G==3&&(u?J0(this,u):this.i.length==0||N0(this.h)||J0(this))};function J0(u,p){var _;p?_=p.l:_=u.U++;const P=ar(u.I);Ae(P,"SID",u.K),Ae(P,"RID",_),Ae(P,"AID",u.T),Ca(u,P),u.m&&u.o&&xf(P,u.m,u.o),_=new Gr(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Z0(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ef(u.h,_),vf(_,P,p)}function Ca(u,p){u.H&&M(u.H,function(_,P){Ae(p,P,_)}),u.l&&V0({},function(_,P){Ae(p,P,_)})}function Z0(u,p,_){_=Math.min(u.i.length,_);var P=u.l?f(u.l.Na,u.l,u):null;e:{var V=u.i;let L=-1;for(;;){const H=["count="+_];L==-1?0<_?(L=V[0].g,H.push("ofs="+L)):L=0:H.push("ofs="+L);let Ce=!0;for(let pt=0;pt<_;pt++){let we=V[pt].g;const Ct=V[pt].map;if(we-=L,0>we)L=Math.max(0,V[pt].g-100),Ce=!1;else try{hk(Ct,H,"req"+we+"_")}catch{P&&P(Ct)}}if(Ce){P=H.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,P}function ew(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;X||K(),j||(X(),j=!0),z.add(p,u),u.v=0}}function Sf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ga(f(u.Fa,u),rw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,tw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ga(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),jc(this),tw(this))};function Cf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function tw(u){u.g=new Gr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=ar(u.qa);Ae(p,"RID","rpc"),Ae(p,"SID",u.K),Ae(p,"AID",u.T),Ae(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ae(p,"TO",u.ja),Ae(p,"TYPE","xmlhttp"),Ca(u,p),u.m&&u.o&&xf(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Oc(ar(p)),_.m=null,_.P=!0,I0(_,u)}t.Za=function(){this.C!=null&&(this.C=null,jc(this),Sf(this),$t(19))};function $c(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function nw(u,p){var _=null;if(u.g==p){$c(u),Cf(u),u.g=null;var P=2}else if(_f(u.h,p))_=p.D,O0(u.h,p),P=1;else return;if(u.G!=0){if(p.o)if(P==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;P=Ic(),Ft(P,new S0(P,_)),Fc(u)}else ew(u);else if(V=p.s,V==3||V==0&&0<p.X||!(P==1&&gk(u,p)||P==2&&Sf(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),V){case 1:Zi(u,5);break;case 4:Zi(u,10);break;case 3:Zi(u,6);break;default:Zi(u,2)}}}function rw(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Zi(u,p){if(u.j.info("Error code "+p),p==2){var _=f(u.fb,u),P=u.Xa;const V=!P;P=new Ji(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nc(P,"https"),Oc(P),V?ck(P.toString(),_):uk(P.toString(),_)}else $t(2);u.G=0,u.l&&u.l.sa(p),iw(u),X0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function iw(u){if(u.G=0,u.ka=[],u.l){const p=M0(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ka,p),S(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function sw(u,p,_){var P=_ instanceof Ji?ar(_):new Ji(_);if(P.g!="")p&&(P.g=p+"."+P.g),Dc(P,P.s);else{var V=a.location;P=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var L=new Ji(null);P&&Nc(L,P),p&&(L.g=p),V&&Dc(L,V),_&&(L.l=_),P=L}return _=u.D,p=u.ya,_&&p&&Ae(P,_,p),Ae(P,"VER",u.la),Ca(u,P),P}function ow(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new We(new Mc({eb:_})):new We(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function aw(){}t=aw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uc(){}Uc.prototype.g=function(u,p){return new nn(u,p)};function nn(u,p){St.call(this),this.g=new Q0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new zs(this)}E(nn,St),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Tf(this.g)},nn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=df(u),u=_);p.i.push(new ZA(p.Ya++,u)),p.G==3&&Fc(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,Tf(this.g),delete this.g,nn.aa.N.call(this)};function lw(u){ff.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}E(lw,ff);function cw(){pf.call(this),this.status=1}E(cw,pf);function zs(u){this.g=u}E(zs,aw),zs.prototype.ua=function(){Ft(this.g,"a")},zs.prototype.ta=function(u){Ft(this.g,new lw(u))},zs.prototype.sa=function(u){Ft(this.g,new cw)},zs.prototype.ra=function(){Ft(this.g,"b")},Uc.prototype.createWebChannel=Uc.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,oI=function(){return new Uc},sI=function(){return Ic()},iI=Qi,cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rc.NO_ERROR=0,Rc.TIMEOUT=8,Rc.HTTP_ERROR=6,Wu=Rc,C0.COMPLETE="complete",rI=C0,_0.EventType=pa,pa.OPEN="a",pa.CLOSE="b",pa.ERROR="c",pa.MESSAGE="d",St.prototype.listen=St.prototype.K,Ka=_0,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,nI=We}).apply(typeof pu<"u"?pu:typeof self<"u"?self:typeof window<"u"?window:{});const px="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new ay("@firebase/firestore");function ja(){return bs.logLevel}function Q(t,...e){if(bs.logLevel<=pe.DEBUG){const n=e.map(yy);bs.debug(`Firestore (${sa}): ${t}`,...n)}}function Or(t,...e){if(bs.logLevel<=pe.ERROR){const n=e.map(yy);bs.error(`Firestore (${sa}): ${t}`,...n)}}function Bo(t,...e){if(bs.logLevel<=pe.WARN){const n=e.map(yy);bs.warn(`Firestore (${sa}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function Te(t,e){t||oe()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class K3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q3{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ri,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ri)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new aI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new kt(e)}}class Y3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Q3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Y3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Te(this.o===void 0);const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new X3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Z3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function zo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new lt(0,0))}static max(){return new ae(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $l.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $l?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends $l{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const e5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends $l{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return e5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ge.fromString(e))}static fromName(e){return new ee(Ge.fromString(e).popFirst(5))}static empty(){return new ee(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ge(e.slice()))}}function t5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Mi(i,ee.empty(),e)}function n5(t){return new Mi(t.readTime,t.key,-1)}class Mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mi(ae.min(),ee.empty(),-1)}static max(){return new Mi(ae.max(),ee.empty(),-1)}}function r5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==i5)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function o5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wy.oe=-1;function $h(t){return t==null}function Bd(t){return t===0&&1/t==-1/0}function a5(t){return typeof t=="number"&&Number.isInteger(t)&&!Bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mu(this.root,e,this.comparator,!0)}}class mu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=s??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gx(this.data.getIterator())}getIteratorFrom(e){return new gx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class gx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Et(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uI("Invalid base64 string: "+s):s}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const l5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(Te(!!t),typeof t=="string"){let e=0;const n=l5.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ey(t){const e=t.mapValue.fields.__previous_value__;return _y(e)?Ey(e):e}function Ul(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Bl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_y(t)?4:d5(t)?9007199254740991:u5(t)?10:11:oe()}function nr(t,e){if(t===e)return!0;const n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ul(t).isEqual(Ul(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Vi(i.timestampValue),a=Vi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ps(i.bytesValue).isEqual(Ps(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?Bd(o)===Bd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zo(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(mx(o)!==mx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!nr(o[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function zl(t,e){return(t.values||[]).find(n=>nr(n,e))!==void 0}function Wo(t,e){if(t===e)return 0;const n=Is(t),r=Is(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vx(t.timestampValue,e.timestampValue);case 4:return vx(Ul(t),Ul(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ps(s),l=Ps(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=_e(a[c],l[c]);if(d!==0)return d}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=_e(Qe(s.latitude),Qe(o.latitude));return a!==0?a:_e(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=_e(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:yx(m,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===gu.mapValue&&o===gu.mapValue)return 0;if(s===gu.mapValue)return 1;if(o===gu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=_e(l[h],d[h]);if(f!==0)return f;const m=Wo(a[l[h]],c[d[h]]);if(m!==0)return m}return _e(l.length,d.length)}(t.mapValue,e.mapValue);default:throw oe()}}function vx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Vi(t),r=Vi(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function yx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Wo(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function Ho(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ug(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ug(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function dg(t){return!!t&&"integerValue"in t}function xy(t){return!!t&&"arrayValue"in t}function wx(t){return!!t&&"nullValue"in t}function _x(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hu(t){return!!t&&"mapValue"in t}function u5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ul(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ul(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ul(t.arrayValue.values[n]);return e}return Object.assign({},t)}function d5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ul(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(ul(this.value))}}function dI(t){const e=[];return oa(t.fields,(n,r)=>{const i=new vt([n]);if(Hu(r)){const s=dI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,ae.min(),ae.min(),ae.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,ae.min(),ae.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,ae.min(),ae.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.position=e,this.inclusive=n}}function Ex(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Wo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function h5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{}class ot extends hI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p5(e,n,r):n==="array-contains"?new v5(e,r):n==="in"?new y5(e,r):n==="not-in"?new w5(e,r):n==="array-contains-any"?new _5(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m5(e,r):new g5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wo(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends hI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new rr(e,n)}matches(e){return fI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fI(t){return t.op==="and"}function pI(t){return f5(t)&&fI(t)}function f5(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function hg(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(pI(t))return t.filters.map(e=>hg(e)).join(",");{const e=t.filters.map(n=>hg(n)).join(",");return`${t.op}(${e})`}}function mI(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&nr(r.value,i.value)}(t,e):t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mI(o,i.filters[a]),!0):!1}(t,e):void oe()}function gI(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`}(t):t instanceof rr?function(n){return n.op.toString()+" {"+n.getFilters().map(gI).join(" ,")+"}"}(t):"Filter"}class p5 extends ot{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class m5 extends ot{constructor(e,n){super(e,"in",n),this.keys=vI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class g5 extends ot{constructor(e,n){super(e,"not-in",n),this.keys=vI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class v5 extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xy(n)&&zl(n.arrayValue,this.value)}}class y5 extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class w5 extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zl(this.value.arrayValue,n)}}class _5 extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Tx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new E5(t,e,n,r,i,s,o)}function Ty(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),e.ue=n}return e.ue}function Sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xx(t.startAt,e.startAt)&&xx(t.endAt,e.endAt)}function fg(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function x5(t,e,n,r,i,s,o,a){return new Uh(t,e,n,r,i,s,o,a)}function Cy(t){return new Uh(t)}function Sx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T5(t){return t.collectionGroup!==null}function dl(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wd(s,r))}),n.has(vt.keyField().canonicalString())||e.ce.push(new Wd(vt.keyField(),r))}return e.ce}function Jn(t){const e=le(t);return e.le||(e.le=S5(e,dl(t))),e.le}function S5(t,e){if(t.limitType==="F")return Tx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wd(i.field,s)});const n=t.endAt?new zd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zd(t.startAt.position,t.startAt.inclusive):null;return Tx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pg(t,e,n){return new Uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bh(t,e){return Sy(Jn(t),Jn(e))&&t.limitType===e.limitType}function yI(t){return`${Ty(Jn(t))}|lt:${t.limitType}`}function Qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gI(i)).join(", ")}]`),$h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ho(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ho(i)).join(",")),`Target(${r})`}(Jn(t))}; limitType=${t.limitType})`}function zh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of dl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Ex(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,dl(r),i)||r.endAt&&!function(o,a,l){const c=Ex(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,dl(r),i))}(t,e)}function C5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wI(t){return(e,n)=>{let r=!1;for(const i of dl(t)){const s=b5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function b5(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Wo(l,c):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new ze(ee.comparator);function Mr(){return P5}const _I=new ze(ee.comparator);function qa(...t){let e=_I;for(const n of t)e=e.insert(n.key,n);return e}function EI(t){let e=_I;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return hl()}function xI(){return hl()}function hl(){return new aa(t=>t.toString(),(t,e)=>t.isEqual(e))}const I5=new ze(ee.comparator),R5=new Et(ee.comparator);function he(...t){let e=R5;for(const n of t)e=e.add(n);return e}const A5=new Et(_e);function k5(){return A5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function TI(t){return{integerValue:""+t}}function N5(t,e){return a5(e)?TI(e):by(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function D5(t,e,n){return t instanceof Hd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_y(s)&&(s=Ey(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wl?CI(t,e):t instanceof Hl?bI(t,e):function(i,s){const o=SI(i,s),a=Cx(o)+Cx(i.Pe);return dg(o)&&dg(i.Pe)?TI(a):by(i.serializer,a)}(t,e)}function O5(t,e,n){return t instanceof Wl?CI(t,e):t instanceof Hl?bI(t,e):n}function SI(t,e){return t instanceof Gd?function(r){return dg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hd extends Wh{}class Wl extends Wh{constructor(e){super(),this.elements=e}}function CI(t,e){const n=PI(e);for(const r of t.elements)n.some(i=>nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hl extends Wh{constructor(e){super(),this.elements=e}}function bI(t,e){let n=PI(e);for(const r of t.elements)n=n.filter(i=>!nr(i,r));return{arrayValue:{values:n}}}class Gd extends Wh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Cx(t){return Qe(t.integerValue||t.doubleValue)}function PI(t){return xy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function M5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wl&&i instanceof Wl||r instanceof Hl&&i instanceof Hl?zo(r.elements,i.elements,nr):r instanceof Gd&&i instanceof Gd?nr(r.Pe,i.Pe):r instanceof Hd&&i instanceof Hd}(t.transform,e.transform)}class V5{constructor(e,n){this.version=e,this.transformResults=n}}class Sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hh{}function II(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new AI(t.key,Sr.none()):new _c(t.key,t.data,Sr.none());{const n=t.data,r=wn.empty();let i=new Et(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ls(t.key,r,new kn(i.toArray()),Sr.none())}}function L5(t,e,n){t instanceof _c?function(i,s,o){const a=i.value.clone(),l=Px(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ls?function(i,s,o){if(!Gu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Px(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(RI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fl(t,e,n,r){return t instanceof _c?function(s,o,a,l){if(!Gu(s.precondition,o))return a;const c=s.value.clone(),d=Ix(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ls?function(s,o,a,l){if(!Gu(s.precondition,o))return a;const c=Ix(s.fieldTransforms,l,o),d=o.data;return d.setAll(RI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Gu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function j5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=SI(r.transform,i||null);s!=null&&(n===null&&(n=wn.empty()),n.set(r.field,s))}return n||null}function bx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zo(r,i,(s,o)=>M5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _c extends Hh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ls extends Hh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Px(t,e,n){const r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,O5(o,a,n[i]))}return r}function Ix(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,D5(s,o,e))}return r}class AI extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F5 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&L5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=II(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(n,r)=>bx(n,r))&&zo(this.baseMutations,e.baseMutations,(n,r)=>bx(n,r))}}class Py{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return I5}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Py(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,me;function z5(t){switch(t){default:return oe();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function kI(t){if(t===void 0)return Or("GRPC error has no .code"),U.UNKNOWN;switch(t){case et.OK:return U.OK;case et.CANCELLED:return U.CANCELLED;case et.UNKNOWN:return U.UNKNOWN;case et.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case et.INTERNAL:return U.INTERNAL;case et.UNAVAILABLE:return U.UNAVAILABLE;case et.UNAUTHENTICATED:return U.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case et.NOT_FOUND:return U.NOT_FOUND;case et.ALREADY_EXISTS:return U.ALREADY_EXISTS;case et.PERMISSION_DENIED:return U.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case et.ABORTED:return U.ABORTED;case et.OUT_OF_RANGE:return U.OUT_OF_RANGE;case et.UNIMPLEMENTED:return U.UNIMPLEMENTED;case et.DATA_LOSS:return U.DATA_LOSS;default:return oe()}}(me=et||(et={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new vs([4294967295,4294967295],0);function Rx(t){const e=W5().encode(t),n=new tI;return n.update(e),new Uint8Array(n.digest())}function Ax(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vs([n,r],0),new vs([i,s],0)]}class Iy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ya(`Invalid padding: ${n}`);if(r<0)throw new Ya(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ya(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ya(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=vs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(vs.fromNumber(r)));return i.compare(H5)===1&&(i=new vs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Rx(e),[r,i]=Ax(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Iy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Rx(e),[r,i]=Ax(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gh(ae.min(),i,new ze(_e),Mr(),he())}}class Ec{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ec(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class NI{constructor(e,n){this.targetId=e,this.me=n}}class DI{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kx{constructor(){this.fe=0,this.ge=Dx(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=he(),n=he(),r=he();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Ec(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Dx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class G5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=Nx(),this.Qe=new ze(_e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(fg(s))if(r===0){const o=new ee(s.path);this.Ue(n,o,Dt.newNoDocument(o,ae.min()))}else Te(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ps(r).toUint8Array()}catch(l){if(l instanceof uI)return Bo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Iy(o,i,s)}catch(l){return Bo(l instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&fg(a.target)){const l=new ee(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Dt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=he();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Gh(e,n,this.Qe,this.ke,r);return this.ke=Mr(),this.qe=Nx(),this.Qe=new ze(_e),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new kx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Et(_e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Nx(){return new ze(ee.comparator)}function Dx(){return new ze(ee.comparator)}const K5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),q5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Y5=(()=>({and:"AND",or:"OR"}))();class Q5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mg(t,e){return t.useProto3Json||$h(e)?e:{value:e}}function Kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X5(t,e){return Kd(t,e.toTimestamp())}function Zn(t){return Te(!!t),ae.fromTimestamp(function(n){const r=Vi(n);return new lt(r.seconds,r.nanos)}(t))}function Ry(t,e){return gg(t,e).canonicalString()}function gg(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MI(t){const e=Ge.fromString(t);return Te($I(e)),e}function vg(t,e){return Ry(t.databaseId,e.path)}function xp(t,e){const n=MI(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(LI(n))}function VI(t,e){return Ry(t.databaseId,e)}function J5(t){const e=MI(t);return e.length===4?Ge.emptyPath():LI(e)}function yg(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LI(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ox(t,e,n){return{name:vg(t,e),fields:n.value.mapValue.fields}}function Z5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Te(d===void 0||typeof d=="string"),Tt.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Tt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:kI(c.code);return new Z(d,c.message||"")}(o);n=new DI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xp(t,r.document.name),s=Zn(r.document.updateTime),o=r.document.createTime?Zn(r.document.createTime):ae.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=Dt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ku(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xp(t,r.document),s=r.readTime?Zn(r.readTime):ae.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ku([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xp(t,r.document),s=r.removedTargetIds||[];n=new Ku([],s,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new B5(i,s),a=r.targetId;n=new NI(a,o)}}return n}function e9(t,e){let n;if(e instanceof _c)n={update:Ox(t,e.key,e.value)};else if(e instanceof AI)n={delete:vg(t,e.key)};else if(e instanceof Ls)n={update:Ox(t,e.key,e.data),updateMask:c9(e.fieldMask)};else{if(!(e instanceof F5))return oe();n={verify:vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Hd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:X5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function t9(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Zn(i.updateTime):Zn(s);return o.isEqual(ae.min())&&(o=Zn(s)),new V5(o,i.transformResults||[])}(n,e))):[]}function n9(t,e){return{documents:[VI(t,e.path)]}}function r9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VI(t,i);const s=function(c){if(c.length!==0)return FI(rr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Xs(f.field),direction:o9(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=mg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function i9(t){let e=J5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=jI(h);return f instanceof rr&&pI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(E){return new Wd(Js(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,$h(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new zd(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new zd(m,f)}(n.endAt)),x5(e,i,o,s,a,"F",l,c)}function s9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Js(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Js(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Js(n.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Js(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rr.create(n.compositeFilter.filters.map(r=>jI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function o9(t){return K5[t]}function a9(t){return q5[t]}function l9(t){return Y5[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function Js(t){return vt.fromServerFormat(t.fieldPath)}function FI(t){return t instanceof ot?function(n){if(n.op==="=="){if(_x(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(wx(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_x(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(wx(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:a9(n.op),value:n.value}}}(t):t instanceof rr?function(n){const r=n.getFilters().map(i=>FI(i));return r.length===1?r[0]:{compositeFilter:{op:l9(n.op),filters:r}}}(t):oe()}function c9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $I(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.ct=e}}function d9(t){const e=i9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.un=new f9}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Mi.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class f9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Go(0)}static kn(){return new Go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fl(r.mutation,i,kn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mr();const o=hl(),a=function(){return hl()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ls)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),fl(d.mutation,c,d.mutation.getFieldMask(),lt.now())):o.set(c.key,kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new m9(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hl();let i=new ze((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||kn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=xI();d.forEach(f=>{if(!s.has(f)){const m=II(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(ps());let a=-1,l=s;return o.next(c=>F.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,he())).next(d=>({batchId:a,changes:EI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=qa();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(h,f){return new Uh(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Dt.newInvalidDocument(d)))});let a=qa();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&fl(d.mutation,c,kn.empty(),lt.now()),zh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:d9(i.bundledQuery),readTime:Zn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.overlays=new ze(ee.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ps();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=ps(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ps(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new U5(n,r));let s=this.Ir.get(n);s===void 0&&(s=he(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.Tr=new Et(ct.Er),this.dr=new Et(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ee(new Ge([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ee(new Ge([])),r=new ct(n,e),i=new ct(n,e+1);let s=he();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Et(ct.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $5(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(_e);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new ct(new ee(s),0);let a=new Et(_e);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.Mr=e,this.docs=function(){return new ze(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mr();const o=n.path,a=new ee(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||r5(n5(d),r)<=0||(i.has(d.key)||zh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new x9(this)}getSize(e){return F.resolve(this.size)}}class x9 extends p9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.persistence=e,this.Nr=new aa(n=>Ty(n),Sy),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ay,this.targetCount=0,this.kr=Go.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wy(0),this.Kr=!1,this.Kr=!0,this.$r=new w9,this.referenceDelegate=e(this),this.Ur=new T9(this),this.indexManager=new h9,this.remoteDocumentCache=function(i){return new E9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new u9(n),this.Gr=new v9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new _9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new C9(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class C9 extends s5{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.Jr=new Ay,this.Yr=null}static Zr(e){return new ky(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=ee.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ny(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return f$()?8:o5(Lt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new b9;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ja()<=pe.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(ja()<=pe.DEBUG&&Q("QueryEngine","Query:",Qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ja()<=pe.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(n))):F.resolve())}Yi(e,n){if(Sx(n))return F.resolve(null);let r=Jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pg(n,null,"F"),r=Jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,pg(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return Sx(n)||i.isEqual(ae.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?F.resolve(null):(ja()<=pe.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qs(n)),this.rs(e,o,n,t5(i,-1)).next(a=>a))})}ts(e,n){let r=new Et(wI(e));return n.forEach((i,s)=>{zh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ja()<=pe.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ze(_e),this._s=new aa(s=>Ty(s),Sy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function R9(t,e,n,r){return new I9(t,e,n,r)}async function UI(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=he();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function A9(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let m=F.resolve();return f.forEach(E=>{m=m.next(()=>d.getEntry(l,E)).next(w=>{const S=c.docVersions.get(E);Te(S!==null),w.version.compareTo(S)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BI(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function k9(t,e){const n=le(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Tt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(w,S,x){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=Mr(),c=he();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(N9(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ae.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function N9(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function D9(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O9(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function wg(t,e,n){const r=le(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wc(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Mx(t,e,n){const r=le(t);let i=ae.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=le(l),f=h._s.get(d);return f!==void 0?F.resolve(h.os.get(f)):h.Ur.getTargetData(c,d)}(r,o,Jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:he())).next(a=>(M9(r,C5(e),a),{documents:a,Ts:s})))}function M9(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Vx{constructor(){this.activeTargetIds=k5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V9{constructor(){this.so=new Vx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Vx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu=null;function Tp(){return vu===null?vu=function(){return 268435456+Math.round(2147483648*Math.random())}():vu++,"0x"+vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class $9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Tp(),l=this.xo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Bo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=j9[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Tp();return new Promise((o,a)=>{const l=new nI;l.setWithCredentials(!0),l.listenOnce(rI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wu.NO_ERROR:const d=l.getResponseJson();Q(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Wu.TIMEOUT:Q(Rt,`RPC '${e}' ${s} timed out`),a(new Z(U.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const h=l.getStatus();if(Q(Rt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const E=function(S){const x=S.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(m.status);a(new Z(E,m.message))}else a(new Z(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(U.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Q(Rt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Q(Rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Tp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oI(),a=sI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Q(Rt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const E=new F9({Io:S=>{m?Q(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(Q(Rt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Q(Rt,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),w=(S,x,y)=>{S.listen(x,T=>{try{y(T)}catch(I){setTimeout(()=>{throw I},0)}})};return w(h,Ka.EventType.OPEN,()=>{m||(Q(Rt,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),w(h,Ka.EventType.CLOSE,()=>{m||(m=!0,Q(Rt,`RPC '${e}' stream ${i} transport closed`),E.So())}),w(h,Ka.EventType.ERROR,S=>{m||(m=!0,Bo(Rt,`RPC '${e}' stream ${i} transport errored:`,S),E.So(new Z(U.UNAVAILABLE,"The operation could not be completed")))}),w(h,Ka.EventType.MESSAGE,S=>{var x;if(!m){const y=S.data[0];Te(!!y);const T=y,I=T.error||((x=T[0])===null||x===void 0?void 0:x.error);if(I){Q(Rt,`RPC '${e}' stream ${i} received error:`,I);const O=I.status;let M=function(R){const A=et[R];if(A!==void 0)return kI(A)}(O),b=I.message;M===void 0&&(M=U.INTERNAL,b="Unknown error status: "+O+" with message "+I.message),m=!0,E.So(new Z(M,b)),h.close()}else Q(Rt,`RPC '${e}' stream ${i} received:`,y),E.bo(y)}}),w(a,iI.STAT_EVENT,S=>{S.stat===cg.PROXY?Q(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===cg.NOPROXY&&Q(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){return new Q5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Z(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U9 extends WI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Z5(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Zn(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=yg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=fg(l)?{documents:n9(s,l)}:{query:r9(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OI(s,o.resumeToken);const c=mg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Kd(s,o.snapshotVersion.toTimestamp());const c=mg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=s9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=yg(this.serializer),n.removeTarget=e,this.a_(n)}}class B9 extends WI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=t9(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=yg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e9(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,gg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(U.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,gg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class W9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Or(n),this.D_=!1):Q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{js(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=le(l);c.L_.add(4),await xc(c),c.q_.set("Unknown"),c.L_.delete(4),await qh(c)}(this))})}),this.q_=new W9(r,i)}}async function qh(t){if(js(t))for(const e of t.B_)await e(!0)}async function xc(t){for(const e of t.B_)await e(!1)}function HI(t,e){const n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Vy(n)?My(n):la(n).r_()&&Oy(n,e))}function Dy(t,e){const n=le(t),r=la(n);n.N_.delete(e),r.r_()&&GI(n,e),n.N_.size===0&&(r.r_()?r.o_():js(n)&&n.q_.set("Unknown"))}function Oy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}la(t).A_(e)}function GI(t,e){t.Q_.xe(e),la(t).R_(e)}function My(t){t.Q_=new G5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),la(t).start(),t.q_.v_()}function Vy(t){return js(t)&&!la(t).n_()&&t.N_.size>0}function js(t){return le(t).L_.size===0}function KI(t){t.Q_=void 0}async function G9(t){t.q_.set("Online")}async function K9(t){t.N_.forEach((e,n)=>{Oy(t,e)})}async function q9(t,e){KI(t),Vy(t)?(t.q_.M_(e),My(t)):t.q_.set("Unknown")}async function Y9(t,e,n){if(t.q_.set("Online"),e instanceof DI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qd(t,r)}else if(e instanceof Ku?t.Q_.Ke(e):e instanceof NI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{const r=await BI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Tt.EMPTY_BYTE_STRING,d.snapshotVersion)),GI(s,l);const h=new pi(d.target,l,c,d.sequenceNumber);Oy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await qd(t,r)}}async function qd(t,e,n){if(!wc(e))throw e;t.L_.add(1),await xc(t),t.q_.set("Offline"),n||(n=()=>BI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await qh(t)})}function qI(t,e){return e().catch(n=>qd(t,n,e))}async function Yh(t){const e=le(t),n=Li(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Q9(e);)try{const i=await D9(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,X9(e,i)}catch(i){await qd(e,i)}YI(e)&&QI(e)}function Q9(t){return js(t)&&t.O_.length<10}function X9(t,e){t.O_.push(e);const n=Li(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YI(t){return js(t)&&!Li(t).n_()&&t.O_.length>0}function QI(t){Li(t).start()}async function J9(t){Li(t).p_()}async function Z9(t){const e=Li(t);for(const n of t.O_)e.m_(n.mutations)}async function e6(t,e,n){const r=t.O_.shift(),i=Py.from(r,e,n);await qI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yh(t)}async function t6(t,e){e&&Li(t).V_&&await async function(r,i){if(function(o){return z5(o)&&o!==U.ABORTED}(i.code)){const s=r.O_.shift();Li(r).s_(),await qI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yh(r)}}(t,e),YI(t)&&QI(t)}async function jx(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=js(n);n.L_.add(3),await xc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await qh(n)}async function n6(t,e){const n=le(t);e?(n.L_.delete(2),await qh(n)):e||(n.L_.add(2),await xc(n),n.q_.set("Unknown"))}function la(t){return t.K_||(t.K_=function(n,r,i){const s=le(n);return s.w_(),new U9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:G9.bind(null,t),Ro:K9.bind(null,t),mo:q9.bind(null,t),d_:Y9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Vy(t)?My(t):t.q_.set("Unknown")):(await t.K_.stop(),KI(t))})),t.K_}function Li(t){return t.U_||(t.U_=function(n,r,i){const s=le(n);return s.w_(),new B9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:J9.bind(null,t),mo:t6.bind(null,t),f_:Z9.bind(null,t),g_:e6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yh(t)):(await t.U_.stop(),t.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ly(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(t,e){if(Or("AsyncQueue",`${e}: ${t}`),wc(t))return new Z(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.W_=new ze(ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ko{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ko(e,n,bo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class i6{constructor(){this.queries=$x(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=$x(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Z(U.ABORTED,"Firestore shutting down"))}}function $x(){return new aa(t=>yI(t),Bh)}async function s6(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new r6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=jy(o,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Fy(n)}async function o6(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a6(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Fy(n)}function l6(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Fy(t){t.Y_.forEach(e=>{e.next()})}var _g,Ux;(Ux=_g||(_g={})).ea="default",Ux.Cache="cache";class c6{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.key=e}}class JI{constructor(e){this.key=e}}class u6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=he(),this.mutatedKeys=he(),this.Aa=wI(e),this.Ra=new bo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Fx,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=zh(this.query,h)?h:null,E=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?E!==w&&(r.track({type:3,doc:m}),S=!0):this.ga(f,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(l||c)&&(a=!0)),S&&(m?(o=o.add(m),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,E){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return w(m)-w(E)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Ko(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=he(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new JI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new XI(r))}),n}ba(e){this.Ta=e.Ts,this.da=he();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ko.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class d6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class h6{constructor(e){this.key=e,this.va=!1}}class f6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new aa(a=>yI(a),Bh),this.Ma=new Map,this.xa=new Set,this.Oa=new ze(ee.comparator),this.Na=new Map,this.La=new Ay,this.Ba={},this.ka=new Map,this.qa=Go.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function p6(t,e,n=!0){const r=iR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ZI(r,e,n,!0),i}async function m6(t,e){const n=iR(t);await ZI(n,e,!0,!1)}async function ZI(t,e,n,r){const i=await O9(t.localStore,Jn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await g6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&HI(t.remoteStore,i),a}async function g6(t,e,n,r,i){t.Ka=(h,f,m)=>async function(w,S,x,y){let T=S.view.ma(x);T.ns&&(T=await Mx(w.localStore,S.query,!1).then(({documents:b})=>S.view.ma(b,T)));const I=y&&y.targetChanges.get(S.targetId),O=y&&y.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(T,w.isPrimaryClient,I,O);return zx(w,S.targetId,M.wa),M.snapshot}(t,h,f,m);const s=await Mx(t.localStore,e,!0),o=new u6(e,s.Ts),a=o.ma(s.documents),l=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);zx(t,n,c.wa);const d=new d6(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function v6(t,e,n){const r=le(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Bh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dy(r.remoteStore,i.targetId),Eg(r,i.targetId)}).catch(yc)):(Eg(r,i.targetId),await wg(r.localStore,i.targetId,!0))}async function y6(t,e){const n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dy(n.remoteStore,r.targetId))}async function w6(t,e,n){const r=b6(t);try{const i=await function(o,a){const l=le(o),c=lt.now(),d=a.reduce((m,E)=>m.add(E.key),he());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=Mr(),w=he();return l.cs.getEntries(m,d).next(S=>{E=S,E.forEach((x,y)=>{y.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,E)).next(S=>{h=S;const x=[];for(const y of a){const T=j5(y,h.get(y.key).overlayedDocument);T!=null&&x.push(new Ls(y.key,T,dI(T.value.mapValue),Sr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(S=>{f=S;const x=S.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,S.batchId,x)})}).then(()=>({batchId:f.batchId,changes:EI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new ze(_e)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Tc(r,i.changes),await Yh(r.remoteStore)}catch(i){const s=jy(i,"Failed to persist write");n.reject(s)}}async function eR(t,e){const n=le(t);try{const r=await k9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Te(o.va):i.removedDocuments.size>0&&(Te(o.va),o.va=!1))}),await Tc(n,r,e)}catch(r){await yc(r)}}function Bx(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&Fy(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _6(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new ze(ee.comparator);o=o.insert(s,Dt.newNoDocument(s,ae.min()));const a=he().add(s),l=new Gh(ae.min(),new Map,new ze(_e),o,a);await eR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),$y(r)}else await wg(r.localStore,e,!1).then(()=>Eg(r,e,n)).catch(yc)}async function E6(t,e){const n=le(t),r=e.batch.batchId;try{const i=await A9(n.localStore,e);nR(n,r,null),tR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tc(n,i)}catch(i){await yc(i)}}async function x6(t,e,n){const r=le(t);try{const i=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Te(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);nR(r,e,n),tR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tc(r,i)}catch(i){await yc(i)}}function tR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function nR(t,e,n){const r=le(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rR(t,r)})}function rR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Dy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),$y(t))}function zx(t,e,n){for(const r of n)r instanceof XI?(t.La.addReference(r.key,e),T6(t,r)):r instanceof JI?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rR(t,r.key)):oe()}function T6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.xa.add(r),$y(t))}function $y(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ee(Ge.fromString(e)),r=t.qa.next();t.Na.set(r,new h6(n)),t.Oa=t.Oa.insert(n,r),HI(t.remoteStore,new pi(Jn(Cy(n.path)),r,"TargetPurposeLimboResolution",wy.oe))}}async function Tc(t,e,n){const r=le(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Ny.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=le(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(c,f=>F.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>F.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!wc(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),E=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(f,w)}}}(r.localStore,s))}async function S6(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await UI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Z(U.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tc(n,r.hs)}}function C6(t,e){const n=le(t),r=n.Na.get(e);if(r&&r.va)return he().add(r.key);{let i=he();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function iR(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_6.bind(null,e),e.Ca.d_=a6.bind(null,e.eventManager),e.Ca.$a=l6.bind(null,e.eventManager),e}function b6(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x6.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return R9(this.persistence,new P9,e.initialUser,this.serializer)}Ga(e){return new S9(ky.Zr,this.serializer)}Wa(e){return new V9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class xg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S6.bind(null,this.syncEngine),await n6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i6}()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),r=function(s){return new $9(s)}(e.databaseInfo);return function(s,o,a,l){return new z9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new H9(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Bx(this.syncEngine,n,0),function(){return Lx.D()?new Lx:new L9}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new f6(i,s,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);Q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await xc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xg.provider={build:()=>new xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=lI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cp(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Wx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R6(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jx(e.remoteStore,i)),t._onlineComponents=e}async function R6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await Cp(t,new Yd)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Cp(t,new Yd);return t._offlineComponents}async function sR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await Wx(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await Wx(t,new xg))),t._onlineComponents}function A6(t){return sR(t).then(e=>e.syncEngine)}async function k6(t){const e=await sR(t),n=e.eventManager;return n.onListen=p6.bind(null,e.syncEngine),n.onUnlisten=v6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y6.bind(null,e.syncEngine),n}function N6(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new P6({next:f=>{d.Za(),o.enqueueAndForget(()=>o6(s,h));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new Z(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new Z(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new c6(Cy(a.path),d,{includeMetadataChanges:!0,_a:!0});return s6(s,h)}(await k6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t,e,n){if(!n)throw new Z(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O6(t,e,n,r){if(e===!0&&r===!0)throw new Z(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Gx(t){if(!ee.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Gl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uy(t);throw new Z(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class By{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G3;switch(r.type){case"firstParty":return new Q3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Hx.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Hx.delete(n),r.terminate())}(this),Promise.resolve()}}function M6(t,e,n,r={}){var i;const s=(t=Gl(t,By))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=o$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(c)}t._authCredentials=new K3(new aI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zy(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Kl extends zy{constructor(e,n,r){super(e,n,Cy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new ee(e))}withConverter(e){return new Kl(this.firestore,e,this._path)}}function qx(t,e,...n){if(t=dn(t),arguments.length===1&&(e=lI.newId()),D6("doc","path",e),t instanceof By){const r=Ge.fromString(e,...n);return Gx(r),new xn(t,null,new ee(r))}{if(!(t instanceof xn||t instanceof Kl))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return Gx(r),new xn(t.firestore,t instanceof Kl?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zI(this,"async_queue_retry"),this.Vu=()=>{const r=Sp();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ri;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wc(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Ly.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Wy extends By{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Yx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yx(e),this._firestoreClient=void 0,await e}}}function V6(t,e){const n=typeof t=="object"?t:yP(),r=typeof t=="string"?t:e||"(default)",i=cy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=i$("firestore");s&&M6(i,...s)}return i}function aR(t){if(t._terminated)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||L6(t),t._firestoreClient}function L6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new c5(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,oR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new I6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(Tt.fromBase64String(e))}catch(n){throw new Z(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qo(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=/^__.*__$/;class F6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new _c(e,this.data,n,this.fieldTransforms)}}function cR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class qy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new qy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(cR(this.Cu)&&j6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kh(e)}Qu(e,n,r,i=!1){return new qy({Cu:e,methodName:n,qu:r,path:vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U6(t){const e=t._freezeSettings(),n=Kh(t._databaseId);return new $6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function B6(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);fR("Data must be an object, but it was:",o,r);const a=dR(r,o);let l,c;if(s.merge)l=new kn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=z6(e,h,n);if(!o.contains(f))throw new Z(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);H6(d,f)||d.push(f)}l=new kn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new F6(new wn(a),l,c)}function uR(t,e){if(hR(t=dn(t)))return fR("Unsupported field value:",e,t),dR(t,e);if(t instanceof lR)return function(r,i){if(!cR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=uR(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:Kd(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kd(i.serializer,s)}}if(r instanceof Gy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:OI(i.serializer,r._byteString)};if(r instanceof xn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ry(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ky)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return by(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Uy(r)}`)}(t,e)}function dR(t,e){const n={};return cI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(t,(r,i)=>{const s=uR(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Gy||t instanceof qo||t instanceof xn||t instanceof lR||t instanceof Ky)}function fR(t,e,n){if(!hR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Uy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function z6(t,e,n){if((e=dn(e))instanceof Hy)return e._internalPath;if(typeof e=="string")return pR(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const W6=new RegExp("[~\\*/\\[\\]]");function pR(t,e,n){if(e.search(W6)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hy(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Z(U.INVALID_ARGUMENT,a+t+l)}function H6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G6 extends mR{data(){return super.data()}}function gR(t,e){return typeof e=="string"?pR(t,e):e instanceof Hy?e._internalPath:e._delegate._internalPath}class K6{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Qe(o.doubleValue));return new Ky(s)}convertGeoPoint(e){return new Gy(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ey(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Te($I(r));const i=new Bl(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vR extends mR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Q6(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Q6 extends vR{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){t=Gl(t,xn);const e=Gl(t.firestore,Wy);return N6(aR(e),t._key).then(n=>tB(e,t,n))}class J6 extends K6{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function Z6(t,e,n){t=Gl(t,xn);const r=Gl(t.firestore,Wy),i=q6(t.converter,e,n);return eB(r,[B6(U6(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Sr.none())])}function eB(t,e){return function(r,i){const s=new Ri;return r.asyncQueue.enqueueAndForget(async()=>w6(await A6(r),i,s)),s.promise}(aR(t),e)}function tB(t,e,n){const r=n.docs.get(e._key),i=new J6(t);return new vR(t,i,e._key,r,new Y6(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){sa=i})(ra),Uo(new Ts("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Wy(new q3(r.getProvider("auth-internal")),new J3(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ii(px,"4.7.3",e),Ii(px,"4.7.3","esm2017")})();const nB={apiKey:"AIzaSyDCehrFu3hWITJO07NHHTbsflMswj5xvr4",authDomain:"finandriver-9a4fa.firebaseapp.com",projectId:"finandriver-9a4fa",storageBucket:"finandriver-9a4fa.appspot.com",messagingSenderId:"784393000386",appId:"1:784393000386:web:1d6a12a808d85e52e2f25b",measurementId:"G-F7WJ75HX55"},yR=vP(nB),yu=W3(yR),Qx=V6(yR),wR=g.createContext();function Fs(){return g.useContext(wR)}function _R({children:t}){const[e,n]=g.useState(null),[r,i]=g.useState(!0);async function s(c,d){const h=await IU(yu,c,d),f=h.user;return await Z6(qx(Qx,"users",f.uid),{email:f.email,createdAt:new Date}),h}function o(c,d){return RU(yu,c,d)}function a(){return DU(yu)}g.useEffect(()=>NU(yu,async d=>{if(d){const h=qx(Qx,"users",d.uid),f=await X6(h);f.exists()?n({...d,...f.data()}):n(d)}else n(null);i(!1)}),[]);const l={currentUser:e,register:s,login:o,logout:a,loading:r};return v.jsx(wR.Provider,{value:l,children:!r&&t})}const yt=se.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));yt.displayName="Card";const Ot=se.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",t),...e}));Ot.displayName="CardHeader";const Mt=se.forwardRef(({className:t,...e},n)=>v.jsx("h3",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));Mt.displayName="CardTitle";const Yy=se.forwardRef(({className:t,...e},n)=>v.jsx("p",{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));Yy.displayName="CardDescription";const wt=se.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Re("p-6 pt-0",t),...e}));wt.displayName="CardContent";const Qy=se.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",t),...e}));Qy.displayName="CardFooter";const ei=({title:t,value:e,icon:n,className:r,valuePrefix:i="",valueSuffix:s=""})=>v.jsx(Je.div,{whileHover:{y:-5,transition:{duration:.2}},className:"w-full",children:v.jsx(yt,{className:Re("overflow-hidden",r),children:v.jsx(wt,{className:"p-6",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),v.jsxs("h3",{className:"text-2xl font-bold mt-1",children:[i,typeof e=="number"?e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):e,s]})]}),v.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:v.jsx(n,{className:"h-6 w-6 text-primary"})})]})})})});var rB=oh[" useId ".trim().toString()]||(()=>{}),iB=0;function ER(t){const[e,n]=g.useState(rB());return jo(()=>{t||n(r=>r??String(iB++))},[t]),t||(e?`radix-${e}`:"")}var sB=g.createContext(void 0);function xR(t){const e=g.useContext(sB);return t||e||"ltr"}var bp="rovingFocusGroup.onEntryFocus",oB={bubbles:!1,cancelable:!0},Sc="RovingFocusGroup",[Tg,TR,aB]=oC(Sc),[lB,SR]=Ch(Sc,[aB]),[cB,uB]=lB(Sc),CR=g.forwardRef((t,e)=>v.jsx(Tg.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(Tg.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(dB,{...t,ref:e})})}));CR.displayName=Sc;var dB=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,f=g.useRef(null),m=Ar(e,f),E=xR(s),[w,S]=kv({prop:o,defaultProp:a??null,onChange:l,caller:Sc}),[x,y]=g.useState(!1),T=Ni(c),I=TR(n),O=g.useRef(!1),[M,b]=g.useState(0);return g.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(bp,T),()=>C.removeEventListener(bp,T)},[T]),v.jsx(cB,{scope:n,orientation:r,dir:E,loop:i,currentTabStopId:w,onItemFocus:g.useCallback(C=>S(C),[S]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>b(C=>C+1),[]),onFocusableItemRemove:g.useCallback(()=>b(C=>C-1),[]),children:v.jsx(ht.div,{tabIndex:x||M===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:Ke(t.onMouseDown,()=>{O.current=!0}),onFocus:Ke(t.onFocus,C=>{const R=!O.current;if(C.target===C.currentTarget&&R&&!x){const A=new CustomEvent(bp,oB);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const N=I().filter(W=>W.focusable),D=N.find(W=>W.active),k=N.find(W=>W.id===w),G=[D,k,...N].filter(Boolean).map(W=>W.ref.current);IR(G,d)}}O.current=!1}),onBlur:Ke(t.onBlur,()=>y(!1))})})}),bR="RovingFocusGroupItem",PR=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=ER(),c=s||l,d=uB(bR,n),h=d.currentTabStopId===c,f=TR(n),{onFocusableItemAdd:m,onFocusableItemRemove:E,currentTabStopId:w}=d;return g.useEffect(()=>{if(r)return m(),()=>E()},[r,m,E]),v.jsx(Tg.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:v.jsx(ht.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Ke(t.onMouseDown,S=>{r?d.onItemFocus(c):S.preventDefault()}),onFocus:Ke(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ke(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const x=pB(S,d.orientation,d.dir);if(x!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let T=f().filter(I=>I.focusable).map(I=>I.ref.current);if(x==="last")T.reverse();else if(x==="prev"||x==="next"){x==="prev"&&T.reverse();const I=T.indexOf(S.currentTarget);T=d.loop?mB(T,I+1):T.slice(I+1)}setTimeout(()=>IR(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:w!=null}):o})})});PR.displayName=bR;var hB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pB(t,e,n){const r=fB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return hB[r]}function IR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function mB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gB=CR,vB=PR,Qh="Tabs",[yB,PG]=Ch(Qh,[SR]),RR=SR(),[wB,Xy]=yB(Qh),AR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=xR(a),[h,f]=kv({prop:r,onChange:i,defaultProp:s??"",caller:Qh});return v.jsx(wB,{scope:n,baseId:ER(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:v.jsx(ht.div,{dir:d,"data-orientation":o,...c,ref:e})})});AR.displayName=Qh;var kR="TabsList",NR=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=Xy(kR,n),o=RR(n);return v.jsx(gB,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:v.jsx(ht.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});NR.displayName=kR;var DR="TabsTrigger",OR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=Xy(DR,n),a=RR(n),l=LR(o.baseId,r),c=jR(o.baseId,r),d=r===o.value;return v.jsx(vB,{asChild:!0,...a,focusable:!i,active:d,children:v.jsx(ht.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Ke(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Ke(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Ke(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});OR.displayName=DR;var MR="TabsContent",VR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=Xy(MR,n),l=LR(a.baseId,r),c=jR(a.baseId,r),d=r===a.value,h=g.useRef(d);return g.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),v.jsx(Av,{present:i||d,children:({present:f})=>v.jsx(ht.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&s})})});VR.displayName=MR;function LR(t,e){return`${t}-trigger-${e}`}function jR(t,e){return`${t}-content-${e}`}var _B=AR,FR=NR,$R=OR,UR=VR;const Jy=_B,Xh=se.forwardRef(({className:t,...e},n)=>v.jsx(FR,{ref:n,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Xh.displayName=FR.displayName;const wr=se.forwardRef(({className:t,...e},n)=>v.jsx($R,{ref:n,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));wr.displayName=$R.displayName;const ql=se.forwardRef(({className:t,...e},n)=>v.jsx(UR,{ref:n,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ql.displayName=UR.displayName;function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function Vn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Oe(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function rt(t){Oe(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Xd(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function BR(t,e){Oe(2,arguments);var n=rt(t).getTime(),r=Vn(e);return new Date(n+r)}var EB={};function ca(){return EB}function Zy(t,e){var n,r,i,s,o,a,l,c;Oe(1,arguments);var d=ca(),h=Vn((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=rt(t),m=f.getDay(),E=(m<h?7:0)+m-h;return f.setDate(f.getDate()-E),f.setHours(0,0,0,0),f}function xB(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function zR(t){Oe(1,arguments);var e=rt(t);return e.setHours(0,0,0,0),e}var TB=6e4;function SB(t,e){Oe(2,arguments);var n=Vn(e);return BR(t,n*TB)}var WR=6e4,HR=36e5;function CB(t){return Oe(1,arguments),t instanceof Date||Xd(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function e0(t){if(Oe(1,arguments),!CB(t)&&typeof t!="number")return!1;var e=rt(t);return!isNaN(Number(e))}function GR(t){Oe(1,arguments);var e=rt(t);return e.setHours(23,59,59,999),e}function KR(t){Oe(1,arguments);var e=rt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function qR(t){Oe(1,arguments);var e=rt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function bB(t){Oe(1,arguments);var e=rt(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function PB(t){Oe(1,arguments);var e=rt(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function t0(t,e){var n,r,i,s,o,a,l,c;Oe(1,arguments);var d=ca(),h=Vn((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=rt(t),m=f.getDay(),E=(m<h?-7:0)+6-(m-h);return f.setDate(f.getDate()+E),f.setHours(23,59,59,999),f}function IB(t,e){Oe(2,arguments);var n=Vn(e);return BR(t,-n)}var RB=864e5;function AB(t){Oe(1,arguments);var e=rt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/RB)+1}function Jd(t){Oe(1,arguments);var e=1,n=rt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function YR(t){Oe(1,arguments);var e=rt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Jd(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Jd(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function kB(t){Oe(1,arguments);var e=YR(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Jd(n);return r}var NB=6048e5;function DB(t){Oe(1,arguments);var e=rt(t),n=Jd(e).getTime()-kB(e).getTime();return Math.round(n/NB)+1}function Zd(t,e){var n,r,i,s,o,a,l,c;Oe(1,arguments);var d=ca(),h=Vn((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=rt(t),m=f.getUTCDay(),E=(m<h?7:0)+m-h;return f.setUTCDate(f.getUTCDate()-E),f.setUTCHours(0,0,0,0),f}function QR(t,e){var n,r,i,s,o,a,l,c;Oe(1,arguments);var d=rt(t),h=d.getUTCFullYear(),f=ca(),m=Vn((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=new Date(0);E.setUTCFullYear(h+1,0,m),E.setUTCHours(0,0,0,0);var w=Zd(E,e),S=new Date(0);S.setUTCFullYear(h,0,m),S.setUTCHours(0,0,0,0);var x=Zd(S,e);return d.getTime()>=w.getTime()?h+1:d.getTime()>=x.getTime()?h:h-1}function OB(t,e){var n,r,i,s,o,a,l,c;Oe(1,arguments);var d=ca(),h=Vn((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=QR(t,e),m=new Date(0);m.setUTCFullYear(f,0,h),m.setUTCHours(0,0,0,0);var E=Zd(m,e);return E}var MB=6048e5;function VB(t,e){Oe(1,arguments);var n=rt(t),r=Zd(n,e).getTime()-OB(n,e).getTime();return Math.round(r/MB)+1}function Ee(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var LB={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Ee(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Ee(r+1,2)},d:function(e,n){return Ee(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Ee(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Ee(e.getUTCHours(),n.length)},m:function(e,n){return Ee(e.getUTCMinutes(),n.length)},s:function(e,n){return Ee(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Ee(s,n.length)}};const Jr=LB;var Gs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jB={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Jr.y(e,n)},Y:function(e,n,r,i){var s=QR(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Ee(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ee(o,n.length)},R:function(e,n){var r=YR(e);return Ee(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Ee(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ee(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ee(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Jr.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ee(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=VB(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Ee(s,n.length)},I:function(e,n,r){var i=DB(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ee(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Jr.d(e,n)},D:function(e,n,r){var i=AB(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ee(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ee(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ee(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ee(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Gs.noon:i===0?s=Gs.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Gs.evening:i>=12?s=Gs.afternoon:i>=4?s=Gs.morning:s=Gs.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Jr.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Jr.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ee(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ee(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Jr.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Jr.s(e,n)},S:function(e,n){return Jr.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return Jx(o);case"XXXX":case"XX":return as(o);case"XXXXX":case"XXX":default:return as(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return Jx(o);case"xxxx":case"xx":return as(o);case"xxxxx":case"xxx":default:return as(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Xx(o,":");case"OOOO":default:return"GMT"+as(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Xx(o,":");case"zzzz":default:return"GMT"+as(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Ee(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Ee(o,n.length)}};function Xx(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Ee(s,2)}function Jx(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Ee(Math.abs(t)/60,2)}return as(t,e)}function as(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Ee(Math.floor(i/60),2),o=Ee(i%60,2);return r+s+n+o}const FB=jB;var Zx=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},XR=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},$B=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return Zx(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",Zx(i,n)).replace("{{time}}",XR(s,n))},UB={p:XR,P:$B};const BB=UB;var zB=["D","DD"],WB=["YY","YYYY"];function HB(t){return zB.indexOf(t)!==-1}function GB(t){return WB.indexOf(t)!==-1}function eT(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var KB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qB=function(e,n,r){var i,s=KB[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const YB=qB;function Po(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var QB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZB={date:Po({formats:QB,defaultWidth:"full"}),time:Po({formats:XB,defaultWidth:"full"}),dateTime:Po({formats:JB,defaultWidth:"full"})};const ez=ZB;var tz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nz=function(e,n,r,i){return tz[e]};const rz=nz;function zn(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var iz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},az={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uz=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dz={ordinalNumber:uz,era:zn({values:iz,defaultWidth:"wide"}),quarter:zn({values:sz,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:zn({values:oz,defaultWidth:"wide"}),day:zn({values:az,defaultWidth:"wide"}),dayPeriod:zn({values:lz,defaultWidth:"wide",formattingValues:cz,defaultFormattingWidth:"wide"})};const hz=dz;function Wn(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?pz(a,function(h){return h.test(o)}):fz(a,function(h){return h.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var d=e.slice(o.length);return{value:c,rest:d}}}function fz(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function pz(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function JR(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var mz=/^(\d+)(th|st|nd|rd)?/i,gz=/\d+/i,vz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yz={any:[/^b/i,/^(a|c)/i]},wz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_z={any:[/1/i,/2/i,/3/i,/4/i]},Ez={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pz={ordinalNumber:JR({matchPattern:mz,parsePattern:gz,valueCallback:function(e){return parseInt(e,10)}}),era:Wn({matchPatterns:vz,defaultMatchWidth:"wide",parsePatterns:yz,defaultParseWidth:"any"}),quarter:Wn({matchPatterns:wz,defaultMatchWidth:"wide",parsePatterns:_z,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Wn({matchPatterns:Ez,defaultMatchWidth:"wide",parsePatterns:xz,defaultParseWidth:"any"}),day:Wn({matchPatterns:Tz,defaultMatchWidth:"wide",parsePatterns:Sz,defaultParseWidth:"any"}),dayPeriod:Wn({matchPatterns:Cz,defaultMatchWidth:"any",parsePatterns:bz,defaultParseWidth:"any"})};const Iz=Pz;var Rz={code:"en-US",formatDistance:YB,formatLong:ez,formatRelative:rz,localize:hz,match:Iz,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Az=Rz;var kz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dz=/^'([^]*?)'?$/,Oz=/''/g,Mz=/[a-zA-Z]/;function hr(t,e,n){var r,i,s,o,a,l,c,d,h,f,m,E,w,S,x,y,T,I;Oe(2,arguments);var O=String(e),M=ca(),b=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:M.locale)!==null&&r!==void 0?r:Az,C=Vn((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:M.firstWeekContainsDate)!==null&&o!==void 0?o:(h=M.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=Vn((m=(E=(w=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&w!==void 0?w:M.weekStartsOn)!==null&&E!==void 0?E:(T=M.locale)===null||T===void 0||(I=T.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&m!==void 0?m:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var A=rt(t);if(!e0(A))throw new RangeError("Invalid time value");var N=xB(A),D=IB(A,N),k={firstWeekContainsDate:C,weekStartsOn:R,locale:b,_originalDate:A},$=O.match(Nz).map(function(G){var W=G[0];if(W==="p"||W==="P"){var X=BB[W];return X(G,b.formatLong)}return G}).join("").match(kz).map(function(G){if(G==="''")return"'";var W=G[0];if(W==="'")return Vz(G);var X=FB[W];if(X)return!(n!=null&&n.useAdditionalWeekYearTokens)&&GB(G)&&eT(G,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&HB(G)&&eT(G,e,String(t)),X(D,G,b.localize,k);if(W.match(Mz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return G}).join("");return $}function Vz(t){var e=t.match(Dz);return e?e[1].replace(Oz,"'"):t}function eh(t,e){var n;Oe(1,arguments);var r=Vn((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=$z(t),s;if(i.date){var o=Uz(i.date,r);s=Bz(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(i.time&&(l=zz(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=Wz(i.timezone),isNaN(c))return new Date(NaN)}else{var d=new Date(a+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(a+l+c)}var wu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lz=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jz=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Fz=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $z(t){var e={},n=t.split(wu.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],wu.timeZoneDelimiter.test(e.date)&&(e.date=t.split(wu.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=wu.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Uz(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Bz(t,e){if(e===null)return new Date(NaN);var n=t.match(Lz);if(!n)return new Date(NaN);var r=!!n[4],i=Fa(n[1]),s=Fa(n[2])-1,o=Fa(n[3]),a=Fa(n[4]),l=Fa(n[5])-1;if(r)return Yz(e,a,l)?Hz(e,a,l):new Date(NaN);var c=new Date(0);return!Kz(e,s,o)||!qz(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}function Fa(t){return t?parseInt(t):1}function zz(t){var e=t.match(jz);if(!e)return NaN;var n=Pp(e[1]),r=Pp(e[2]),i=Pp(e[3]);return Qz(n,r,i)?n*HR+r*WR+i*1e3:NaN}function Pp(t){return t&&parseFloat(t.replace(",","."))||0}function Wz(t){if(t==="Z")return 0;var e=t.match(Fz);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Xz(r,i)?n*(r*HR+i*WR):NaN}function Hz(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Gz=[31,null,31,30,31,30,31,31,30,31,30,31];function ZR(t){return t%400===0||t%4===0&&t%100!==0}function Kz(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Gz[e]||(ZR(t)?29:28))}function qz(t,e){return e>=1&&e<=(ZR(t)?366:365)}function Yz(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Qz(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Xz(t,e){return e>=0&&e<=59}var Jz={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Zz=function(e,n,r){var i,s=Jz[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+i:"há "+i:i};const e7=Zz;var t7={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},n7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},r7={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i7={date:Po({formats:t7,defaultWidth:"full"}),time:Po({formats:n7,defaultWidth:"full"}),dateTime:Po({formats:r7,defaultWidth:"full"})};const s7=i7;var o7={lastWeek:function(e){var n=e.getUTCDay(),r=n===0||n===6?"último":"última";return"'"+r+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},a7=function(e,n,r,i){var s=o7[e];return typeof s=="function"?s(n):s};const l7=a7;var c7={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},u7={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},d7={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},h7={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},f7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},p7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},m7=function(e,n){var r=Number(e);return(n==null?void 0:n.unit)==="week"?r+"ª":r+"º"},g7={ordinalNumber:m7,era:zn({values:c7,defaultWidth:"wide"}),quarter:zn({values:u7,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:zn({values:d7,defaultWidth:"wide"}),day:zn({values:h7,defaultWidth:"wide"}),dayPeriod:zn({values:f7,defaultWidth:"wide",formattingValues:p7,defaultFormattingWidth:"wide"})};const v7=g7;var y7=/^(\d+)[ºªo]?/i,w7=/\d+/i,_7={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},E7={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},x7={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},T7={any:[/1/i,/2/i,/3/i,/4/i]},S7={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},C7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},b7={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},P7={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},I7={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},R7={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},A7={ordinalNumber:JR({matchPattern:y7,parsePattern:w7,valueCallback:function(e){return parseInt(e,10)}}),era:Wn({matchPatterns:_7,defaultMatchWidth:"wide",parsePatterns:E7,defaultParseWidth:"any"}),quarter:Wn({matchPatterns:x7,defaultMatchWidth:"wide",parsePatterns:T7,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Wn({matchPatterns:S7,defaultMatchWidth:"wide",parsePatterns:C7,defaultParseWidth:"any"}),day:Wn({matchPatterns:b7,defaultMatchWidth:"wide",parsePatterns:P7,defaultParseWidth:"any"}),dayPeriod:Wn({matchPatterns:I7,defaultMatchWidth:"any",parsePatterns:R7,defaultParseWidth:"any"})};const k7=A7;var N7={code:"pt-BR",formatDistance:e7,formatLong:s7,formatRelative:l7,localize:v7,match:k7,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Hn=N7,D7=(t,e)=>{const n=new Date;let r,i;switch(e){case"diario":r=zR(n),i=GR(n);break;case"semanal":r=Zy(n,{locale:Hn}),i=t0(n,{locale:Hn});break;case"mensal":r=qR(n),i=KR(n);break;case"geral":default:r=null,i=null;break}const s=o=>Array.isArray(o)?o.filter(a=>{if(!a||!a.data)return!1;const l=eh(a.data);return e0(l)?r&&i?l>=r&&l<=i:!0:!1}):[];return{ganhos:s(t==null?void 0:t.ganhos),despesasCarro:s(t==null?void 0:t.despesasCarro),despesasCombustivel:s(t==null?void 0:t.despesasCombustivel),despesasPessoais:s(t==null?void 0:t.despesasPessoais),reservaEmergencia:s(t==null?void 0:t.reservaEmergencia)}},tT=t=>Array.isArray(t)?t.reduce((e,n)=>{if(!n||typeof n.valor!="number")return e;const r=n.categoria||"Sem categoria";return e[r]||(e[r]=0),e[r]+=n.valor,e},{}):{},O7=({financialData:t})=>{const[e,n]=g.useState("geral"),r=g.useMemo(()=>D7(t,e),[t,e]),i=g.useMemo(()=>{const s=r.ganhos||[],o=r.despesasCarro||[],a=r.despesasCombustivel||[],l=r.despesasPessoais||[],c=r.reservaEmergencia||[],d=s.reduce((M,b)=>M+((b==null?void 0:b.valor)||0),0),h=tT(o),f=tT(a),m=Object.values(h).reduce((M,b)=>M+b,0),E=Object.values(f).reduce((M,b)=>M+b,0),w=l.reduce((M,b)=>M+((b==null?void 0:b.valor)||0),0),S=c.filter(M=>(M==null?void 0:M.categoria)==="Depósito").reduce((M,b)=>M+((b==null?void 0:b.valor)||0),0),x=c.filter(M=>(M==null?void 0:M.categoria)==="Retirada").reduce((M,b)=>M+((b==null?void 0:b.valor)||0),0),y=S-x,T=m+E+S,I=d-T,O=I-w;return{totalGanhos:d,totalDespesasCarro:m,totalDespesasCombustivel:E,totalDespesasPessoais:w,saldoReservaEmergencia:y,lucroLiquido:I,saldoFinal:O}},[r]);return v.jsxs("div",{className:"space-y-6 w-full",children:[v.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),v.jsxs("p",{className:"text-muted-foreground mt-1",children:["Visão geral das suas finanças (",e.charAt(0).toUpperCase()+e.slice(1),")"]})]}),v.jsx(Jy,{value:e,onValueChange:n,className:"mt-4 sm:mt-0",children:v.jsxs(Xh,{children:[v.jsx(wr,{value:"diario",children:"Diário"}),v.jsx(wr,{value:"semanal",children:"Semanal"}),v.jsx(wr,{value:"mensal",children:"Mensal"}),v.jsx(wr,{value:"geral",children:"Geral"})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-7 gap-4",children:[v.jsx(ei,{title:"Ganhos Totais",value:i.totalGanhos,icon:Ph,valuePrefix:"R$ ",className:"border-l-4 border-green-500"}),v.jsx(ei,{title:"Despesas Combustível",value:i.totalDespesasCombustivel,icon:OC,valuePrefix:"R$ ",className:"border-l-4 border-orange-500"}),v.jsx(ei,{title:"Despesas do Carro",value:i.totalDespesasCarro,icon:DC,valuePrefix:"R$ ",className:"border-l-4 border-red-500"}),v.jsx(ei,{title:"Despesas Pessoais",value:i.totalDespesasPessoais,icon:Lv,valuePrefix:"R$ ",className:"border-l-4 border-purple-500"}),v.jsx(ei,{title:"Reserva de Emergência",value:i.saldoReservaEmergencia,icon:Dl,valuePrefix:"R$ ",className:"border-l-4 border-teal-500"}),v.jsx(ei,{title:"Lucro Líquido",value:i.lucroLiquido,icon:yM,valuePrefix:"R$ ",className:`border-l-4 ${i.lucroLiquido>=0?"border-sky-500":"border-pink-500"}`}),v.jsx(ei,{title:"Saldo Final",value:i.saldoFinal,icon:bM,valuePrefix:"R$ ",className:`border-l-4 ${i.saldoFinal>=0?"border-emerald-500":"border-rose-500"}`})]})]})},M7=Vv("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ji=se.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?SO:"button";return v.jsx(o,{className:Re(M7({variant:e,size:n,className:t})),ref:s,...i})});ji.displayName="Button";const er=se.forwardRef(({className:t,type:e,...n},r)=>v.jsx("input",{type:e,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));er.displayName="Input";var V7="Label",eA=g.forwardRef((t,e)=>v.jsx(ht.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eA.displayName=V7;var tA=eA;const L7=Vv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ht=se.forwardRef(({className:t,...e},n)=>v.jsx(tA,{ref:n,className:Re(L7(),t),...e}));Ht.displayName=tA.displayName;function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},be.apply(null,arguments)}function nT(t,[e,n]){return Math.min(n,Math.max(e,t))}function Wt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function n0(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...E}=h,w=(f==null?void 0:f[t][l])||a,S=g.useMemo(()=>E,Object.values(E));return g.createElement(w.Provider,{value:S},m)}function d(h,f){const m=(f==null?void 0:f[t][l])||a,E=g.useContext(m);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,j7(i,...e)]}function j7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function F7(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function nA(...t){return e=>t.forEach(n=>F7(n,e))}function tn(...t){return g.useCallback(nA(...t),t)}const Yl=g.forwardRef((t,e)=>{const{children:n,...r}=t,i=g.Children.toArray(n),s=i.find(U7);if(s){const o=s.props.children,a=i.map(l=>l===s?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return g.createElement(Sg,be({},r,{ref:e}),g.isValidElement(o)?g.cloneElement(o,void 0,a):null)}return g.createElement(Sg,be({},r,{ref:e}),n)});Yl.displayName="Slot";const Sg=g.forwardRef((t,e)=>{const{children:n,...r}=t;return g.isValidElement(n)?g.cloneElement(n,{...B7(r,n.props),ref:e?nA(e,n.ref):n.ref}):g.Children.count(n)>1?g.Children.only(null):null});Sg.displayName="SlotClone";const $7=({children:t})=>g.createElement(g.Fragment,null,t);function U7(t){return g.isValidElement(t)&&t.type===$7}function B7(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function z7(t){const e=t+"CollectionProvider",[n,r]=n0(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:E,children:w}=m,S=se.useRef(null),x=se.useRef(new Map).current;return se.createElement(i,{scope:E,itemMap:x,collectionRef:S},w)},a=t+"CollectionSlot",l=se.forwardRef((m,E)=>{const{scope:w,children:S}=m,x=s(a,w),y=tn(E,x.collectionRef);return se.createElement(Yl,{ref:y},S)}),c=t+"CollectionItemSlot",d="data-radix-collection-item",h=se.forwardRef((m,E)=>{const{scope:w,children:S,...x}=m,y=se.useRef(null),T=tn(E,y),I=s(c,w);return se.useEffect(()=>(I.itemMap.set(y,{ref:y,...x}),()=>void I.itemMap.delete(y))),se.createElement(Yl,{[d]:"",ref:T},S)});function f(m){const E=s(t+"CollectionConsumer",m);return se.useCallback(()=>{const S=E.collectionRef.current;if(!S)return[];const x=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(E.itemMap.values()).sort((I,O)=>x.indexOf(I.ref.current)-x.indexOf(O.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}const W7=g.createContext(void 0);function H7(t){const e=g.useContext(W7);return t||e||"ltr"}const G7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],jt=G7.reduce((t,e)=>{const n=g.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Yl:e;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(a,be({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function K7(t,e){t&&Wi.flushSync(()=>t.dispatchEvent(e))}function Vr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function q7(t,e=globalThis==null?void 0:globalThis.document){const n=Vr(t);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Cg="dismissableLayer.update",Y7="dismissableLayer.pointerDownOutside",Q7="dismissableLayer.focusOutside";let rT;const X7=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),J7=g.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,d=g.useContext(X7),[h,f]=g.useState(null),m=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,E]=g.useState({}),w=tn(e,C=>f(C)),S=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=S.indexOf(x),T=h?S.indexOf(h):-1,I=d.layersWithOutsidePointerEventsDisabled.size>0,O=T>=y,M=Z7(C=>{const R=C.target,A=[...d.branches].some(N=>N.contains(R));!O||A||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),b=eW(C=>{const R=C.target;[...d.branches].some(N=>N.contains(R))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return q7(C=>{T===d.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),g.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(rT=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),iT(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=rT)}},[h,m,r,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),iT())},[h,d]),g.useEffect(()=>{const C=()=>E({});return document.addEventListener(Cg,C),()=>document.removeEventListener(Cg,C)},[]),g.createElement(jt.div,be({},c,{ref:w,style:{pointerEvents:I?O?"auto":"none":void 0,...t.style},onFocusCapture:Wt(t.onFocusCapture,b.onFocusCapture),onBlurCapture:Wt(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Wt(t.onPointerDownCapture,M.onPointerDownCapture)}))});function Z7(t,e=globalThis==null?void 0:globalThis.document){const n=Vr(t),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let d=function(){rA(Y7,n,c,{discrete:!0})};var l=d;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function eW(t,e=globalThis==null?void 0:globalThis.document){const n=Vr(t),r=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!r.current&&rA(Q7,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function iT(){const t=new CustomEvent(Cg);document.dispatchEvent(t)}function rA(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?K7(i,s):i.dispatchEvent(s)}let Ip=0;function tW(){g.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:sT()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:sT()),Ip++,()=>{Ip===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ip--}},[])}function sT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Rp="focusScope.autoFocusOnMount",Ap="focusScope.autoFocusOnUnmount",oT={bubbles:!1,cancelable:!0},nW=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=g.useState(null),c=Vr(i),d=Vr(s),h=g.useRef(null),f=tn(e,w=>l(w)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(M){if(m.paused||!a)return;const b=M.target;a.contains(b)?h.current=b:ti(h.current,{select:!0})},T=function(M){if(m.paused||!a)return;const b=M.relatedTarget;b!==null&&(a.contains(b)||ti(h.current,{select:!0}))},I=function(M){const b=document.activeElement;for(const C of M)C.removedNodes.length>0&&(a!=null&&a.contains(b)||ti(a))};var w=y,S=T,x=I;document.addEventListener("focusin",y),document.addEventListener("focusout",T);const O=new MutationObserver(I);return a&&O.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),O.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){lT.add(m);const w=document.activeElement;if(!a.contains(w)){const x=new CustomEvent(Rp,oT);a.addEventListener(Rp,c),a.dispatchEvent(x),x.defaultPrevented||(rW(lW(iA(a)),{select:!0}),document.activeElement===w&&ti(a))}return()=>{a.removeEventListener(Rp,c),setTimeout(()=>{const x=new CustomEvent(Ap,oT);a.addEventListener(Ap,d),a.dispatchEvent(x),x.defaultPrevented||ti(w??document.body,{select:!0}),a.removeEventListener(Ap,d),lT.remove(m)},0)}}},[a,c,d,m]);const E=g.useCallback(w=>{if(!n&&!r||m.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(S&&x){const y=w.currentTarget,[T,I]=iW(y);T&&I?!w.shiftKey&&x===I?(w.preventDefault(),n&&ti(T,{select:!0})):w.shiftKey&&x===T&&(w.preventDefault(),n&&ti(I,{select:!0})):x===y&&w.preventDefault()}},[n,r,m.paused]);return g.createElement(jt.div,be({tabIndex:-1},o,{ref:f,onKeyDown:E}))});function rW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ti(r,{select:e}),document.activeElement!==n)return}function iW(t){const e=iA(t),n=aT(e,t),r=aT(e.reverse(),t);return[n,r]}function iA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aT(t,e){for(const n of t)if(!sW(n,{upTo:e}))return n}function sW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oW(t){return t instanceof HTMLInputElement&&"select"in t}function ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&oW(t)&&e&&t.select()}}const lT=aW();function aW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cT(t,e),t.unshift(e)},remove(e){var n;t=cT(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function cT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function lW(t){return t.filter(e=>e.tagName!=="A")}const Lr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},cW=oh["useId".toString()]||(()=>{});let uW=0;function sA(t){const[e,n]=g.useState(cW());return Lr(()=>{t||n(r=>r??String(uW++))},[t]),t||(e?`radix-${e}`:"")}const dW=["top","right","bottom","left"],Fi=Math.min,sn=Math.max,th=Math.round,_u=Math.floor,tr=t=>({x:t,y:t}),hW={left:"right",right:"left",bottom:"top",top:"bottom"},fW={start:"end",end:"start"};function bg(t,e,n){return sn(t,Fi(e,n))}function jr(t,e){return typeof t=="function"?t(e):t}function Fr(t){return t.split("-")[0]}function ua(t){return t.split("-")[1]}function r0(t){return t==="x"?"y":"x"}function i0(t){return t==="y"?"height":"width"}function Cr(t){return["top","bottom"].includes(Fr(t))?"y":"x"}function s0(t){return r0(Cr(t))}function pW(t,e,n){n===void 0&&(n=!1);const r=ua(t),i=s0(t),s=i0(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=nh(o)),[o,nh(o)]}function mW(t){const e=nh(t);return[Pg(t),e,Pg(e)]}function Pg(t){return t.replace(/start|end/g,e=>fW[e])}function gW(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function vW(t,e,n,r){const i=ua(t);let s=gW(Fr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Pg)))),s}function nh(t){return t.replace(/left|right|bottom|top/g,e=>hW[e])}function yW(t){return{top:0,right:0,bottom:0,left:0,...t}}function oA(t){return typeof t!="number"?yW(t):{top:t,right:t,bottom:t,left:t}}function rh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function uT(t,e,n){let{reference:r,floating:i}=t;const s=Cr(e),o=s0(e),a=i0(o),l=Fr(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(ua(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const wW=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=uT(c,r,l),f=r,m={},E=0;for(let w=0;w<a.length;w++){const{name:S,fn:x}=a[w],{x:y,y:T,data:I,reset:O}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,h=T??h,m={...m,[S]:{...m[S],...I}},O&&E<=50&&(E++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:h}=uT(c,f,l)),w=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function Ql(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=jr(e,t),E=oA(m),S=a[f?h==="floating"?"reference":"floating":h],x=rh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),I=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},O=rh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:T,strategy:l}):y);return{top:(x.top-O.top+E.top)/I.y,bottom:(O.bottom-x.bottom+E.bottom)/I.y,left:(x.left-O.left+E.left)/I.x,right:(O.right-x.right+E.right)/I.x}}const _W=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=jr(t,e)||{};if(c==null)return{};const h=oA(d),f={x:n,y:r},m=s0(i),E=i0(m),w=await o.getDimensions(c),S=m==="y",x=S?"top":"left",y=S?"bottom":"right",T=S?"clientHeight":"clientWidth",I=s.reference[E]+s.reference[m]-f[m]-s.floating[E],O=f[m]-s.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=M?M[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(M)))&&(b=a.floating[T]||s.floating[E]);const C=I/2-O/2,R=b/2-w[E]/2-1,A=Fi(h[x],R),N=Fi(h[y],R),D=A,k=b-w[E]-N,$=b/2-w[E]/2+C,G=bg(D,$,k),W=!l.arrow&&ua(i)!=null&&$!==G&&s.reference[E]/2-($<D?A:N)-w[E]/2<0,X=W?$<D?$-D:$-k:0;return{[m]:f[m]+X,data:{[m]:G,centerOffset:$-G-X,...W&&{alignmentOffset:X}},reset:W}}}),EW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...S}=jr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=Fr(i),y=Cr(a),T=Fr(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=f||(T||!w?[nh(a)]:mW(a)),M=E!=="none";!f&&M&&O.push(...vW(a,w,E,I));const b=[a,...O],C=await Ql(e,S),R=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(C[x]),h){const G=pW(i,o,I);R.push(C[G[0]],C[G[1]])}if(A=[...A,{placement:i,overflows:R}],!R.every(G=>G<=0)){var N,D;const G=(((N=s.flip)==null?void 0:N.index)||0)+1,W=b[G];if(W){var k;const j=h==="alignment"?y!==Cr(W):!1,z=((k=A[0])==null?void 0:k.overflows[0])>0;if(!j||z)return{data:{index:G,overflows:A},reset:{placement:W}}}let X=(D=A.filter(j=>j.overflows[0]<=0).sort((j,z)=>j.overflows[1]-z.overflows[1])[0])==null?void 0:D.placement;if(!X)switch(m){case"bestFit":{var $;const j=($=A.filter(z=>{if(M){const K=Cr(z.placement);return K===y||K==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(K=>K>0).reduce((K,Y)=>K+Y,0)]).sort((z,K)=>z[1]-K[1])[0])==null?void 0:$[0];j&&(X=j);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function dT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hT(t){return dW.some(e=>t[e]>=0)}const xW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=jr(t,e);switch(r){case"referenceHidden":{const s=await Ql(e,{...i,elementContext:"reference"}),o=dT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hT(o)}}}case"escaped":{const s=await Ql(e,{...i,altBoundary:!0}),o=dT(s,n.floating);return{data:{escapedOffsets:o,escaped:hT(o)}}}default:return{}}}}};async function TW(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Fr(n),a=ua(n),l=Cr(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=jr(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:E}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof E=="number"&&(m=a==="end"?E*-1:E),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const SW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await TW(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},CW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x,y}=S;return{x,y}}},...l}=jr(t,e),c={x:n,y:r},d=await Ql(e,l),h=Cr(Fr(i)),f=r0(h);let m=c[f],E=c[h];if(s){const S=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=m+d[S],T=m-d[x];m=bg(y,m,T)}if(o){const S=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=E+d[S],T=E-d[x];E=bg(y,E,T)}const w=a.fn({...e,[f]:m,[h]:E});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[f]:s,[h]:o}}}}}},bW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=jr(t,e),d={x:n,y:r},h=Cr(i),f=r0(h);let m=d[f],E=d[h];const w=jr(a,e),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const T=f==="y"?"height":"width",I=s.reference[f]-s.floating[T]+S.mainAxis,O=s.reference[f]+s.reference[T]-S.mainAxis;m<I?m=I:m>O&&(m=O)}if(c){var x,y;const T=f==="y"?"width":"height",I=["top","left"].includes(Fr(i)),O=s.reference[h]-s.floating[T]+(I&&((x=o.offset)==null?void 0:x[h])||0)+(I?0:S.crossAxis),M=s.reference[h]+s.reference[T]+(I?0:((y=o.offset)==null?void 0:y[h])||0)-(I?S.crossAxis:0);E<O?E=O:E>M&&(E=M)}return{[f]:m,[h]:E}}}},PW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=jr(t,e),d=await Ql(e,c),h=Fr(i),f=ua(i),m=Cr(i)==="y",{width:E,height:w}=s.floating;let S,x;h==="top"||h==="bottom"?(S=h,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,S=f==="end"?"top":"bottom");const y=w-d.top-d.bottom,T=E-d.left-d.right,I=Fi(w-d[S],y),O=Fi(E-d[x],T),M=!e.middlewareData.shift;let b=I,C=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=y),M&&!f){const A=sn(d.left,0),N=sn(d.right,0),D=sn(d.top,0),k=sn(d.bottom,0);m?C=E-2*(A!==0||N!==0?A+N:sn(d.left,d.right)):b=w-2*(D!==0||k!==0?D+k:sn(d.top,d.bottom))}await l({...e,availableWidth:C,availableHeight:b});const R=await o.getDimensions(a.floating);return E!==R.width||w!==R.height?{reset:{rects:!0}}:{}}}};function Jh(){return typeof window<"u"}function da(t){return aA(t)?(t.nodeName||"").toLowerCase():"#document"}function ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sr(t){var e;return(e=(aA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function aA(t){return Jh()?t instanceof Node||t instanceof ln(t).Node:!1}function Ln(t){return Jh()?t instanceof Element||t instanceof ln(t).Element:!1}function ir(t){return Jh()?t instanceof HTMLElement||t instanceof ln(t).HTMLElement:!1}function fT(t){return!Jh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ln(t).ShadowRoot}function Cc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=jn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function IW(t){return["table","td","th"].includes(da(t))}function Zh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function o0(t){const e=a0(),n=Ln(t)?jn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function RW(t){let e=$i(t);for(;ir(e)&&!Yo(e);){if(o0(e))return e;if(Zh(e))return null;e=$i(e)}return null}function a0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yo(t){return["html","body","#document"].includes(da(t))}function jn(t){return ln(t).getComputedStyle(t)}function ef(t){return Ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $i(t){if(da(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fT(t)&&t.host||sr(t);return fT(e)?e.host:e}function lA(t){const e=$i(t);return Yo(e)?t.ownerDocument?t.ownerDocument.body:t.body:ir(e)&&Cc(e)?e:lA(e)}function Xl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=lA(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ln(i);if(s){const a=Ig(o);return e.concat(o,o.visualViewport||[],Cc(i)?i:[],a&&n?Xl(a):[])}return e.concat(i,Xl(i,[],n))}function Ig(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cA(t){const e=jn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ir(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=th(n)!==s||th(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function l0(t){return Ln(t)?t:t.contextElement}function Io(t){const e=l0(t);if(!ir(e))return tr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=cA(e);let o=(s?th(n.width):n.width)/r,a=(s?th(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const AW=tr(0);function uA(t){const e=ln(t);return!a0()||!e.visualViewport?AW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ln(t)?!1:e}function Rs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=l0(t);let o=tr(1);e&&(r?Ln(r)&&(o=Io(r)):o=Io(t));const a=kW(s,n,r)?uA(s):tr(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=ln(s),m=r&&Ln(r)?ln(r):r;let E=f,w=Ig(E);for(;w&&r&&m!==E;){const S=Io(w),x=w.getBoundingClientRect(),y=jn(w),T=x.left+(w.clientLeft+parseFloat(y.paddingLeft))*S.x,I=x.top+(w.clientTop+parseFloat(y.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,h*=S.y,l+=T,c+=I,E=ln(w),w=Ig(E)}}return rh({width:d,height:h,x:l,y:c})}function c0(t,e){const n=ef(t).scrollLeft;return e?e.left+n:Rs(sr(t)).left+n}function dA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:c0(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function NW(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=sr(r),a=e?Zh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=tr(1);const d=tr(0),h=ir(r);if((h||!h&&!s)&&((da(r)!=="body"||Cc(o))&&(l=ef(r)),ir(r))){const m=Rs(r);c=Io(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!s?dA(o,l,!0):tr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function DW(t){return Array.from(t.getClientRects())}function OW(t){const e=sr(t),n=ef(t),r=t.ownerDocument.body,i=sn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=sn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+c0(t);const a=-n.scrollTop;return jn(r).direction==="rtl"&&(o+=sn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function MW(t,e){const n=ln(t),r=sr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=a0();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function VW(t,e){const n=Rs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ir(t)?Io(t):tr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function pT(t,e,n){let r;if(e==="viewport")r=MW(t,n);else if(e==="document")r=OW(sr(t));else if(Ln(e))r=VW(e,n);else{const i=uA(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rh(r)}function hA(t,e){const n=$i(t);return n===e||!Ln(n)||Yo(n)?!1:jn(n).position==="fixed"||hA(n,e)}function LW(t,e){const n=e.get(t);if(n)return n;let r=Xl(t,[],!1).filter(a=>Ln(a)&&da(a)!=="body"),i=null;const s=jn(t).position==="fixed";let o=s?$i(t):t;for(;Ln(o)&&!Yo(o);){const a=jn(o),l=o0(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cc(o)&&!l&&hA(t,o))?r=r.filter(d=>d!==o):i=a,o=$i(o)}return e.set(t,r),r}function jW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Zh(e)?[]:LW(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=pT(e,d,i);return c.top=sn(h.top,c.top),c.right=Fi(h.right,c.right),c.bottom=Fi(h.bottom,c.bottom),c.left=sn(h.left,c.left),c},pT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function FW(t){const{width:e,height:n}=cA(t);return{width:e,height:n}}function $W(t,e,n){const r=ir(e),i=sr(e),s=n==="fixed",o=Rs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=tr(0);function c(){l.x=c0(i)}if(r||!r&&!s)if((da(e)!=="body"||Cc(i))&&(a=ef(e)),r){const m=Rs(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?dA(i,a):tr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function kp(t){return jn(t).position==="static"}function mT(t,e){if(!ir(t)||jn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return sr(t)===n&&(n=n.ownerDocument.body),n}function fA(t,e){const n=ln(t);if(Zh(t))return n;if(!ir(t)){let i=$i(t);for(;i&&!Yo(i);){if(Ln(i)&&!kp(i))return i;i=$i(i)}return n}let r=mT(t,e);for(;r&&IW(r)&&kp(r);)r=mT(r,e);return r&&Yo(r)&&kp(r)&&!o0(r)?n:r||RW(t)||n}const UW=async function(t){const e=this.getOffsetParent||fA,n=this.getDimensions,r=await n(t.floating);return{reference:$W(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BW(t){return jn(t).direction==="rtl"}const zW={convertOffsetParentRelativeRectToViewportRelativeRect:NW,getDocumentElement:sr,getClippingRect:jW,getOffsetParent:fA,getElementRects:UW,getClientRects:DW,getDimensions:FW,getScale:Io,isElement:Ln,isRTL:BW};function pA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function WW(t,e){let n=null,r;const i=sr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=c;if(a||e(),!f||!m)return;const E=_u(h),w=_u(i.clientWidth-(d+f)),S=_u(i.clientHeight-(h+m)),x=_u(d),T={rootMargin:-E+"px "+-w+"px "+-S+"px "+-x+"px",threshold:sn(0,Fi(1,l))||1};let I=!0;function O(M){const b=M[0].intersectionRatio;if(b!==l){if(!I)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!pA(c,t.getBoundingClientRect())&&o(),I=!1}try{n=new IntersectionObserver(O,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),s}function HW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=l0(t),d=i||s?[...c?Xl(c):[],...Xl(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const h=c&&a?WW(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let E,w=l?Rs(t):null;l&&S();function S(){const x=Rs(t);w&&!pA(w,x)&&n(),w=x,E=requestAnimationFrame(S)}return n(),()=>{var x;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(E)}}const GW=SW,KW=CW,qW=EW,YW=PW,QW=xW,gT=_W,XW=bW,JW=(t,e,n)=>{const r=new Map,i={platform:zW,...n},s={...i.platform,_c:r};return wW(t,e,{...i,platform:s})};var qu=typeof document<"u"?g.useLayoutEffect:g.useEffect;function ih(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ih(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!ih(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function mA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function vT(t,e){const n=mA(t);return Math.round(e*n)/n}function Np(t){const e=g.useRef(t);return qu(()=>{e.current=t}),e}function ZW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=g.useState(r);ih(f,r)||m(r);const[E,w]=g.useState(null),[S,x]=g.useState(null),y=g.useCallback(j=>{j!==M.current&&(M.current=j,w(j))},[]),T=g.useCallback(j=>{j!==b.current&&(b.current=j,x(j))},[]),I=s||E,O=o||S,M=g.useRef(null),b=g.useRef(null),C=g.useRef(d),R=l!=null,A=Np(l),N=Np(i),D=Np(c),k=g.useCallback(()=>{if(!M.current||!b.current)return;const j={placement:e,strategy:n,middleware:f};N.current&&(j.platform=N.current),JW(M.current,b.current,j).then(z=>{const K={...z,isPositioned:D.current!==!1};$.current&&!ih(C.current,K)&&(C.current=K,Wi.flushSync(()=>{h(K)}))})},[f,e,n,N,D]);qu(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const $=g.useRef(!1);qu(()=>($.current=!0,()=>{$.current=!1}),[]),qu(()=>{if(I&&(M.current=I),O&&(b.current=O),I&&O){if(A.current)return A.current(I,O,k);k()}},[I,O,k,A,R]);const G=g.useMemo(()=>({reference:M,floating:b,setReference:y,setFloating:T}),[y,T]),W=g.useMemo(()=>({reference:I,floating:O}),[I,O]),X=g.useMemo(()=>{const j={position:n,left:0,top:0};if(!W.floating)return j;const z=vT(W.floating,d.x),K=vT(W.floating,d.y);return a?{...j,transform:"translate("+z+"px, "+K+"px)",...mA(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:K}},[n,a,W.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:k,refs:G,elements:W,floatingStyles:X}),[d,k,G,W,X])}const e8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gT({element:r.current,padding:i}).fn(n):{}:r?gT({element:r,padding:i}).fn(n):{}}}},t8=(t,e)=>({...GW(t),options:[t,e]}),n8=(t,e)=>({...KW(t),options:[t,e]}),r8=(t,e)=>({...XW(t),options:[t,e]}),i8=(t,e)=>({...qW(t),options:[t,e]}),s8=(t,e)=>({...YW(t),options:[t,e]}),o8=(t,e)=>({...QW(t),options:[t,e]}),a8=(t,e)=>({...e8(t),options:[t,e]});function l8(t){const[e,n]=g.useState(void 0);return Lr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const gA="Popper",[vA,yA]=n0(gA),[c8,wA]=vA(gA),u8=t=>{const{__scopePopper:e,children:n}=t,[r,i]=g.useState(null);return g.createElement(c8,{scope:e,anchor:r,onAnchorChange:i},n)},d8="PopperAnchor",h8=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=wA(d8,n),o=g.useRef(null),a=tn(e,o);return g.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.createElement(jt.div,be({},i,{ref:a}))}),_A="PopperContent",[f8,IG]=vA(_A),p8=g.forwardRef((t,e)=>{var n,r,i,s,o,a,l,c;const{__scopePopper:d,side:h="bottom",sideOffset:f=0,align:m="center",alignOffset:E=0,arrowPadding:w=0,collisionBoundary:S=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:T=!1,avoidCollisions:I=!0,onPlaced:O,...M}=t,b=wA(_A,d),[C,R]=g.useState(null),A=tn(e,it=>R(it)),[N,D]=g.useState(null),k=l8(N),$=(n=k==null?void 0:k.width)!==null&&n!==void 0?n:0,G=(r=k==null?void 0:k.height)!==null&&r!==void 0?r:0,W=h+(m!=="center"?"-"+m:""),X=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},j=Array.isArray(S)?S:[S],z=j.length>0,K={padding:X,boundary:j.filter(m8),altBoundary:z},{refs:Y,floatingStyles:te,placement:ne,isPositioned:Se,middlewareData:Me}=ZW({strategy:"fixed",placement:W,whileElementsMounted:HW,elements:{reference:b.anchor},middleware:[t8({mainAxis:f+G,alignmentAxis:E}),I&&n8({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?r8():void 0,...K}),I&&i8({...K}),s8({...K,apply:({elements:it,rects:or,availableWidth:Wr,availableHeight:Hr})=>{const{width:of,height:bc}=or.reference,Yi=it.floating.style;Yi.setProperty("--radix-popper-available-width",`${Wr}px`),Yi.setProperty("--radix-popper-available-height",`${Hr}px`),Yi.setProperty("--radix-popper-anchor-width",`${of}px`),Yi.setProperty("--radix-popper-anchor-height",`${bc}px`)}}),N&&a8({element:N,padding:w}),g8({arrowWidth:$,arrowHeight:G}),T&&o8({strategy:"referenceHidden"})]}),[Ve,J]=EA(ne),ye=Vr(O);Lr(()=>{Se&&(ye==null||ye())},[Se,ye]);const Ye=(i=Me.arrow)===null||i===void 0?void 0:i.x,fe=(s=Me.arrow)===null||s===void 0?void 0:s.y,ce=((o=Me.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[ge,ft]=g.useState();return Lr(()=>{C&&ft(window.getComputedStyle(C).zIndex)},[C]),g.createElement("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:Se?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(a=Me.transformOrigin)===null||a===void 0?void 0:a.x,(l=Me.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},g.createElement(f8,{scope:d,placedSide:Ve,onArrowChange:D,arrowX:Ye,arrowY:fe,shouldHideArrow:ce},g.createElement(jt.div,be({"data-side":Ve,"data-align":J},M,{ref:A,style:{...M.style,animation:Se?void 0:"none",opacity:(c=Me.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function m8(t){return t!==null}const g8=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,h=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=h?0:t.arrowWidth,m=h?0:t.arrowHeight,[E,w]=EA(a),S={start:"0%",center:"50%",end:"100%"}[w],x=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+f/2,y=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+m/2;let T="",I="";return E==="bottom"?(T=h?S:`${x}px`,I=`${-m}px`):E==="top"?(T=h?S:`${x}px`,I=`${l.floating.height+m}px`):E==="right"?(T=`${-m}px`,I=h?S:`${y}px`):E==="left"&&(T=`${l.floating.width+m}px`,I=h?S:`${y}px`),{data:{x:T,y:I}}}});function EA(t){const[e,n="center"]=t.split("-");return[e,n]}const v8=u8,y8=h8,w8=p8,_8=g.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?US.createPortal(g.createElement(jt.div,be({},i,{ref:e})),r):null});function yT({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=E8({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Vr(n),l=g.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function E8({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,i=g.useRef(r),s=Vr(e);return g.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function x8(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const T8=g.forwardRef((t,e)=>g.createElement(jt.span,be({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var S8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ks=new WeakMap,Eu=new WeakMap,xu={},Dp=0,xA=function(t){return t&&(t.host||xA(t.parentNode))},C8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},b8=function(t,e,n,r){var i=C8(e,Array.isArray(t)?t:[t]);xu[n]||(xu[n]=new WeakMap);var s=xu[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),E=m!==null&&m!=="false",w=(Ks.get(f)||0)+1,S=(s.get(f)||0)+1;Ks.set(f,w),s.set(f,S),o.push(f),w===1&&E&&Eu.set(f,!0),S===1&&f.setAttribute(n,"true"),E||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(e),a.clear(),Dp++,function(){o.forEach(function(h){var f=Ks.get(h)-1,m=s.get(h)-1;Ks.set(h,f),s.set(h,m),f||(Eu.has(h)||h.removeAttribute(r),Eu.delete(h)),m||h.removeAttribute(n)}),Dp--,Dp||(Ks=new WeakMap,Ks=new WeakMap,Eu=new WeakMap,xu={})}},P8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||S8(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),b8(r,i,n,"aria-hidden")):function(){return null}},Yu="right-scroll-bar-position",Qu="width-before-scroll-bar",I8="with-scroll-bars-hidden",R8="--removed-body-scroll-bar-size";function Op(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function A8(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var k8=typeof window<"u"?g.useLayoutEffect:g.useEffect,wT=new WeakMap;function N8(t,e){var n=A8(e||null,function(r){return t.forEach(function(i){return Op(i,r)})});return k8(function(){var r=wT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Op(a,null)}),s.forEach(function(a){i.has(a)||Op(a,o)})}wT.set(n,t)},[t]),n}function D8(t){return t}function O8(t,e){e===void 0&&(e=D8);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function M8(t){t===void 0&&(t={});var e=O8(null);return e.options=Bn({async:!0,ssr:!1},t),e}var TA=function(t){var e=t.sideCar,n=fc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Bn({},n))};TA.isSideCarExport=!0;function V8(t,e){return t.useMedium(e),TA}var SA=M8(),Mp=function(){},tf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Mp,onWheelCapture:Mp,onTouchMoveCapture:Mp}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noIsolation,E=t.inert,w=t.allowPinchZoom,S=t.as,x=S===void 0?"div":S,y=fc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),T=f,I=N8([n,e]),O=Bn(Bn({},y),i);return g.createElement(g.Fragment,null,d&&g.createElement(T,{sideCar:SA,removeScrollBar:c,shards:h,noIsolation:m,inert:E,setCallbacks:s,allowPinchZoom:!!w,lockRef:n}),o?g.cloneElement(g.Children.only(a),Bn(Bn({},O),{ref:I})):g.createElement(x,Bn({},O,{className:l,ref:I}),a))});tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tf.classNames={fullWidth:Qu,zeroRight:Yu};var _T,L8=function(){if(_T)return _T;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function j8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=L8();return e&&t.setAttribute("nonce",e),t}function F8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var U8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=j8())&&(F8(e,n),$8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},B8=function(){var t=U8();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},CA=function(){var t=B8(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},z8={left:0,top:0,right:0,gap:0},Vp=function(t){return parseInt(t||"",10)||0},W8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Vp(n),Vp(r),Vp(i)]},H8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return z8;var e=W8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},G8=CA(),Ro="data-scroll-locked",K8=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(I8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ro,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Qu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yu," .").concat(Yu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qu," .").concat(Qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ro,`] {
    `).concat(R8,": ").concat(a,`px;
  }
`)},ET=function(){var t=parseInt(document.body.getAttribute(Ro)||"0",10);return isFinite(t)?t:0},q8=function(){g.useEffect(function(){return document.body.setAttribute(Ro,(ET()+1).toString()),function(){var t=ET()-1;t<=0?document.body.removeAttribute(Ro):document.body.setAttribute(Ro,t.toString())}},[])},Y8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;q8();var s=g.useMemo(function(){return H8(i)},[i]);return g.createElement(G8,{styles:K8(s,!e,i,n?"":"!important")})},Rg=!1;if(typeof window<"u")try{var Tu=Object.defineProperty({},"passive",{get:function(){return Rg=!0,!0}});window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{Rg=!1}var qs=Rg?{passive:!1}:!1,Q8=function(t){return t.tagName==="TEXTAREA"},bA=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Q8(t)&&n[e]==="visible")},X8=function(t){return bA(t,"overflowY")},J8=function(t){return bA(t,"overflowX")},xT=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=PA(t,n);if(r){var i=IA(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Z8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},eH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},PA=function(t,e){return t==="v"?X8(e):J8(e)},IA=function(t,e){return t==="v"?Z8(e):eH(e)},tH=function(t,e){return t==="h"&&e==="rtl"?-1:1},nH=function(t,e,n,r,i){var s=tH(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{var m=IA(t,a),E=m[0],w=m[1],S=m[2],x=w-S-s*E;(E||x)&&PA(t,a)&&(h+=x,f+=E),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(i&&h===0||!i&&o>h)||!d&&(i&&f===0||!i&&-o>f))&&(c=!0),c},Su=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TT=function(t){return[t.deltaX,t.deltaY]},ST=function(t){return t&&"current"in t?t.current:t},rH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},iH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sH=0,Ys=[];function oH(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(sH++)[0],s=g.useState(function(){return CA()})[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=N4([t.lockRef.current],(t.shards||[]).map(ST),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(w,S){if("touches"in w&&w.touches.length===2)return!o.current.allowPinchZoom;var x=Su(w),y=n.current,T="deltaX"in w?w.deltaX:y[0]-x[0],I="deltaY"in w?w.deltaY:y[1]-x[1],O,M=w.target,b=Math.abs(T)>Math.abs(I)?"h":"v";if("touches"in w&&b==="h"&&M.type==="range")return!1;var C=xT(b,M);if(!C)return!0;if(C?O=b:(O=b==="v"?"h":"v",C=xT(b,M)),!C)return!1;if(!r.current&&"changedTouches"in w&&(T||I)&&(r.current=O),!O)return!0;var R=r.current||O;return nH(R,S,w,R==="h"?T:I,!0)},[]),l=g.useCallback(function(w){var S=w;if(!(!Ys.length||Ys[Ys.length-1]!==s)){var x="deltaY"in S?TT(S):Su(S),y=e.current.filter(function(O){return O.name===S.type&&O.target===S.target&&rH(O.delta,x)})[0];if(y&&y.should){S.cancelable&&S.preventDefault();return}if(!y){var T=(o.current.shards||[]).map(ST).filter(Boolean).filter(function(O){return O.contains(S.target)}),I=T.length>0?a(S,T[0]):!o.current.noIsolation;I&&S.cancelable&&S.preventDefault()}}},[]),c=g.useCallback(function(w,S,x,y){var T={name:w,delta:S,target:x,should:y};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(I){return I!==T})},1)},[]),d=g.useCallback(function(w){n.current=Su(w),r.current=void 0},[]),h=g.useCallback(function(w){c(w.type,TT(w),w.target,a(w,t.lockRef.current))},[]),f=g.useCallback(function(w){c(w.type,Su(w),w.target,a(w,t.lockRef.current))},[]);g.useEffect(function(){return Ys.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,qs),document.addEventListener("touchmove",l,qs),document.addEventListener("touchstart",d,qs),function(){Ys=Ys.filter(function(w){return w!==s}),document.removeEventListener("wheel",l,qs),document.removeEventListener("touchmove",l,qs),document.removeEventListener("touchstart",d,qs)}},[]);var m=t.removeScrollBar,E=t.inert;return g.createElement(g.Fragment,null,E?g.createElement(s,{styles:iH(i)}):null,m?g.createElement(Y8,{gapMode:"margin"}):null)}const aH=V8(SA,oH);var RA=g.forwardRef(function(t,e){return g.createElement(tf,Bn({},t,{ref:e,sideCar:aH}))});RA.classNames=tf.classNames;const lH=RA,cH=[" ","Enter","ArrowUp","ArrowDown"],uH=[" ","Enter"],nf="Select",[rf,u0,dH]=z7(nf),[ha,RG]=n0(nf,[dH,yA]),d0=yA(),[hH,$s]=ha(nf),[fH,pH]=ha(nf),mH=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:f,required:m}=t,E=d0(e),[w,S]=g.useState(null),[x,y]=g.useState(null),[T,I]=g.useState(!1),O=H7(c),[M=!1,b]=yT({prop:r,defaultProp:i,onChange:s}),[C,R]=yT({prop:o,defaultProp:a,onChange:l}),A=g.useRef(null),N=w?!!w.closest("form"):!0,[D,k]=g.useState(new Set),$=Array.from(D).map(G=>G.props.value).join(";");return g.createElement(v8,E,g.createElement(hH,{required:m,scope:e,trigger:w,onTriggerChange:S,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:T,onValueNodeHasChildrenChange:I,contentId:sA(),value:C,onValueChange:R,open:M,onOpenChange:b,dir:O,triggerPointerDownPosRef:A,disabled:f},g.createElement(rf.Provider,{scope:e},g.createElement(fH,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(G=>{k(W=>new Set(W).add(G))},[]),onNativeOptionRemove:g.useCallback(G=>{k(W=>{const X=new Set(W);return X.delete(G),X})},[])},n)),N?g.createElement(NA,{key:$,"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:C,onChange:G=>R(G.target.value),disabled:f},C===void 0?g.createElement("option",{value:""}):null,Array.from(D)):null))},gH="SelectTrigger",vH=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=d0(n),o=$s(gH,n),a=o.disabled||r,l=tn(e,o.onTriggerChange),c=u0(n),[d,h,f]=DA(E=>{const w=c().filter(y=>!y.disabled),S=w.find(y=>y.value===o.value),x=OA(w,E,S);x!==void 0&&o.onValueChange(x.value)}),m=()=>{a||(o.onOpenChange(!0),f())};return g.createElement(y8,be({asChild:!0},s),g.createElement(jt.button,be({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":o.value===void 0?"":void 0},i,{ref:l,onClick:Wt(i.onClick,E=>{E.currentTarget.focus()}),onPointerDown:Wt(i.onPointerDown,E=>{const w=E.target;w.hasPointerCapture(E.pointerId)&&w.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&(m(),o.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)},E.preventDefault())}),onKeyDown:Wt(i.onKeyDown,E=>{const w=d.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&h(E.key),!(w&&E.key===" ")&&cH.includes(E.key)&&(m(),E.preventDefault())})})))}),yH="SelectValue",wH=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o,...a}=t,l=$s(yH,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,h=tn(e,l.onValueNodeChange);return Lr(()=>{c(d)},[c,d]),g.createElement(jt.span,be({},a,{ref:h,style:{pointerEvents:"none"}}),l.value===void 0&&o!==void 0?o:s)}),_H=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.createElement(jt.span,be({"aria-hidden":!0},i,{ref:e}),r||"▼")}),EH=t=>g.createElement(_8,be({asChild:!0},t)),Qo="SelectContent",xH=g.forwardRef((t,e)=>{const n=$s(Qo,t.__scopeSelect),[r,i]=g.useState();if(Lr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Wi.createPortal(g.createElement(AA,{scope:t.__scopeSelect},g.createElement(rf.Slot,{scope:t.__scopeSelect},g.createElement("div",null,t.children))),s):null}return g.createElement(TH,be({},t,{ref:e}))}),ur=10,[AA,sf]=ha(Qo),TH=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:E,hideWhenDetached:w,avoidCollisions:S,...x}=t,y=$s(Qo,n),[T,I]=g.useState(null),[O,M]=g.useState(null),b=tn(e,J=>I(J)),[C,R]=g.useState(null),[A,N]=g.useState(null),D=u0(n),[k,$]=g.useState(!1),G=g.useRef(!1);g.useEffect(()=>{if(T)return P8(T)},[T]),tW();const W=g.useCallback(J=>{const[ye,...Ye]=D().map(ge=>ge.ref.current),[fe]=Ye.slice(-1),ce=document.activeElement;for(const ge of J)if(ge===ce||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===ye&&O&&(O.scrollTop=0),ge===fe&&O&&(O.scrollTop=O.scrollHeight),ge==null||ge.focus(),document.activeElement!==ce))return},[D,O]),X=g.useCallback(()=>W([C,T]),[W,C,T]);g.useEffect(()=>{k&&X()},[k,X]);const{onOpenChange:j,triggerPointerDownPosRef:z}=y;g.useEffect(()=>{if(T){let J={x:0,y:0};const ye=fe=>{var ce,ge,ft,it;J={x:Math.abs(Math.round(fe.pageX)-((ce=(ge=z.current)===null||ge===void 0?void 0:ge.x)!==null&&ce!==void 0?ce:0)),y:Math.abs(Math.round(fe.pageY)-((ft=(it=z.current)===null||it===void 0?void 0:it.y)!==null&&ft!==void 0?ft:0))}},Ye=fe=>{J.x<=10&&J.y<=10?fe.preventDefault():T.contains(fe.target)||j(!1),document.removeEventListener("pointermove",ye),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[T,j,z]),g.useEffect(()=>{const J=()=>j(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[j]);const[K,Y]=DA(J=>{const ye=D().filter(ce=>!ce.disabled),Ye=ye.find(ce=>ce.ref.current===document.activeElement),fe=OA(ye,J,Ye);fe&&setTimeout(()=>fe.ref.current.focus())}),te=g.useCallback((J,ye,Ye)=>{const fe=!G.current&&!Ye;(y.value!==void 0&&y.value===ye||fe)&&(R(J),fe&&(G.current=!0))},[y.value]),ne=g.useCallback(()=>T==null?void 0:T.focus(),[T]),Se=g.useCallback((J,ye,Ye)=>{const fe=!G.current&&!Ye;(y.value!==void 0&&y.value===ye||fe)&&N(J)},[y.value]),Me=r==="popper"?CT:SH,Ve=Me===CT?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:E,hideWhenDetached:w,avoidCollisions:S}:{};return g.createElement(AA,{scope:n,content:T,viewport:O,onViewportChange:M,itemRefCallback:te,selectedItem:C,onItemLeave:ne,itemTextRefCallback:Se,focusSelectedItem:X,selectedItemText:A,position:r,isPositioned:k,searchRef:K},g.createElement(lH,{as:Yl,allowPinchZoom:!0},g.createElement(nW,{asChild:!0,trapped:y.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Wt(i,J=>{var ye;(ye=y.trigger)===null||ye===void 0||ye.focus({preventScroll:!0}),J.preventDefault()})},g.createElement(J7,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},g.createElement(Me,be({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:J=>J.preventDefault()},x,Ve,{onPlaced:()=>$(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Wt(x.onKeyDown,J=>{const ye=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ye&&J.key.length===1&&Y(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let fe=D().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(J.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ce=J.target,ge=fe.indexOf(ce);fe=fe.slice(ge+1)}setTimeout(()=>W(fe)),J.preventDefault()}})}))))))}),SH=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=$s(Qo,n),o=sf(Qo,n),[a,l]=g.useState(null),[c,d]=g.useState(null),h=tn(e,b=>d(b)),f=u0(n),m=g.useRef(!1),E=g.useRef(!0),{viewport:w,selectedItem:S,selectedItemText:x,focusSelectedItem:y}=o,T=g.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&w&&S&&x){const b=s.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(s.dir!=="rtl"){const ce=A.left-C.left,ge=R.left-ce,ft=b.left-ge,it=b.width+ft,or=Math.max(it,C.width),Wr=window.innerWidth-ur,Hr=nT(ge,[ur,Wr-or]);a.style.minWidth=it+"px",a.style.left=Hr+"px"}else{const ce=C.right-A.right,ge=window.innerWidth-R.right-ce,ft=window.innerWidth-b.right-ge,it=b.width+ft,or=Math.max(it,C.width),Wr=window.innerWidth-ur,Hr=nT(ge,[ur,Wr-or]);a.style.minWidth=it+"px",a.style.right=Hr+"px"}const N=f(),D=window.innerHeight-ur*2,k=w.scrollHeight,$=window.getComputedStyle(c),G=parseInt($.borderTopWidth,10),W=parseInt($.paddingTop,10),X=parseInt($.borderBottomWidth,10),j=parseInt($.paddingBottom,10),z=G+W+k+j+X,K=Math.min(S.offsetHeight*5,z),Y=window.getComputedStyle(w),te=parseInt(Y.paddingTop,10),ne=parseInt(Y.paddingBottom,10),Se=b.top+b.height/2-ur,Me=D-Se,Ve=S.offsetHeight/2,J=S.offsetTop+Ve,ye=G+W+J,Ye=z-ye;if(ye<=Se){const ce=S===N[N.length-1].ref.current;a.style.bottom="0px";const ge=c.clientHeight-w.offsetTop-w.offsetHeight,ft=Math.max(Me,Ve+(ce?ne:0)+ge+X),it=ye+ft;a.style.height=it+"px"}else{const ce=S===N[0].ref.current;a.style.top="0px";const ft=Math.max(Se,G+w.offsetTop+(ce?te:0)+Ve)+Ye;a.style.height=ft+"px",w.scrollTop=ye-Se+w.offsetTop}a.style.margin=`${ur}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,s.trigger,s.valueNode,a,c,w,S,x,s.dir,r]);Lr(()=>T(),[T]);const[I,O]=g.useState();Lr(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const M=g.useCallback(b=>{b&&E.current===!0&&(T(),y==null||y(),E.current=!1)},[T,y]);return g.createElement(CH,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:M},g.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I}},g.createElement(jt.div,be({},i,{ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),CT=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ur,...s}=t,o=d0(n);return g.createElement(w8,be({},o,s,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[CH,bH]=ha(Qo,{}),bT="SelectViewport",PH=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=sf(bT,n),s=bH(bT,n),o=tn(e,i.onViewportChange),a=g.useRef(0);return g.createElement(g.Fragment,null,g.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),g.createElement(rf.Slot,{scope:n},g.createElement(jt.div,be({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Wt(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&d){const f=Math.abs(a.current-c.scrollTop);if(f>0){const m=window.innerHeight-ur*2,E=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),S=Math.max(E,w);if(S<m){const x=S+f,y=Math.min(m,x),T=x-y;d.style.height=y+"px",d.style.bottom==="0px"&&(c.scrollTop=T>0?T:0,d.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),IH="SelectGroup",[AG,RH]=ha(IH),AH="SelectLabel",kH=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=RH(AH,n);return g.createElement(jt.div,be({id:i.id},r,{ref:e}))}),Ag="SelectItem",[NH,kA]=ha(Ag),DH=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=$s(Ag,n),l=sf(Ag,n),c=a.value===r,[d,h]=g.useState(s??""),[f,m]=g.useState(!1),E=tn(e,x=>{var y;return(y=l.itemRefCallback)===null||y===void 0?void 0:y.call(l,x,r,i)}),w=sA(),S=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};return g.createElement(NH,{scope:n,value:r,disabled:i,textId:w,isSelected:c,onItemTextChange:g.useCallback(x=>{h(y=>{var T;return y||((T=x==null?void 0:x.textContent)!==null&&T!==void 0?T:"").trim()})},[])},g.createElement(rf.ItemSlot,{scope:n,value:r,disabled:i,textValue:d},g.createElement(jt.div,be({role:"option","aria-labelledby":w,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:E,onFocus:Wt(o.onFocus,()=>m(!0)),onBlur:Wt(o.onBlur,()=>m(!1)),onPointerUp:Wt(o.onPointerUp,S),onPointerMove:Wt(o.onPointerMove,x=>{if(i){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}else x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Wt(o.onPointerLeave,x=>{if(x.currentTarget===document.activeElement){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}}),onKeyDown:Wt(o.onKeyDown,x=>{var y;((y=l.searchRef)===null||y===void 0?void 0:y.current)!==""&&x.key===" "||(uH.includes(x.key)&&S(),x.key===" "&&x.preventDefault())})}))))}),Cu="SelectItemText",OH=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=$s(Cu,n),a=sf(Cu,n),l=kA(Cu,n),c=pH(Cu,n),[d,h]=g.useState(null),f=tn(e,x=>h(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,E=g.useMemo(()=>g.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},m),[l.disabled,l.value,m]),{onNativeOptionAdd:w,onNativeOptionRemove:S}=c;return Lr(()=>(w(E),()=>S(E)),[w,S,E]),g.createElement(g.Fragment,null,g.createElement(jt.span,be({id:l.textId},s,{ref:f})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wi.createPortal(s.children,o.valueNode):null)}),MH="SelectItemIndicator",VH=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kA(MH,n).isSelected?g.createElement(jt.span,be({"aria-hidden":!0},r,{ref:e})):null}),LH=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.createElement(jt.div,be({"aria-hidden":!0},r,{ref:e}))}),NA=g.forwardRef((t,e)=>{const{value:n,...r}=t,i=g.useRef(null),s=tn(e,i),o=x8(n);return g.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),g.createElement(T8,{asChild:!0},g.createElement("select",be({},r,{ref:s,defaultValue:n})))});NA.displayName="BubbleSelect";function DA(t){const e=Vr(t),n=g.useRef(""),r=g.useRef(0),i=g.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function OA(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=jH(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function jH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const FH=mH,MA=vH,$H=wH,UH=_H,BH=EH,VA=xH,zH=PH,LA=kH,jA=DH,WH=OH,HH=VH,FA=LH,$A=FH,UA=$H,h0=se.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(MA,{ref:r,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,v.jsx(UH,{asChild:!0,children:v.jsx(vM,{className:"h-4 w-4 opacity-50"})})]}));h0.displayName=MA.displayName;const f0=se.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>v.jsx(BH,{children:v.jsx(VA,{ref:i,className:Re("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-80",n==="popper"&&"translate-y-1",t),position:n,...r,children:v.jsx(zH,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));f0.displayName=VA.displayName;const GH=se.forwardRef(({className:t,...e},n)=>v.jsx(LA,{ref:n,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));GH.displayName=LA.displayName;const ls=se.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(jA,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(HH,{children:v.jsx(gM,{className:"h-4 w-4"})})}),v.jsx(WH,{children:e})]}));ls.displayName=jA.displayName;const KH=se.forwardRef(({className:t,...e},n)=>v.jsx(FA,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));KH.displayName=FA.displayName;const Jl=({onSubmit:t,type:e,categorias:n})=>{const{toast:r}=oc(),i=()=>hr(new Date,"yyyy-MM-dd"),[s,o]=g.useState({descricao:"",valor:"",data:i(),categoria:n&&n.length>0?n[0]:""}),a=d=>{const{name:h,value:f}=d.target;o(m=>({...m,[h]:h==="valor"?f.replace(/[^0-9.,]/g,""):f}))},l=d=>{o(h=>({...h,categoria:d}))},c=d=>{if(d.preventDefault(),!s.valor){r({title:"Erro",description:"Por favor, informe um valor",variant:"destructive"});return}const h=parseFloat(s.valor.replace(",","."));if(isNaN(h)||h<=0){r({title:"Erro",description:"Por favor, informe um valor válido",variant:"destructive"});return}const f=s.data.split("-"),m=parseInt(f[0],10),E=parseInt(f[1],10)-1,w=parseInt(f[2],10),S=new Date(m,E,w),x=S.getTimezoneOffset(),y=SB(S,x),T={...s,id:Date.now().toString(),valor:h,data:y.toISOString()};t(T),o({descricao:"",valor:"",data:i(),categoria:n&&n.length>0?n[0]:""}),r({title:"Sucesso",description:"Registro adicionado com sucesso"})};return v.jsxs(Je.form,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},onSubmit:c,className:"space-y-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ht,{htmlFor:"descricao",children:"Descrição (Opcional)"}),v.jsx(er,{id:"descricao",name:"descricao",value:s.descricao,onChange:a,placeholder:"Descreva o registro"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ht,{htmlFor:"valor",children:"Valor (R$)"}),v.jsx(er,{id:"valor",name:"valor",value:s.valor,onChange:a,placeholder:"0,00"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ht,{htmlFor:"data",children:"Data"}),v.jsx(er,{id:"data",name:"data",type:"date",value:s.data,onChange:a})]}),n&&n.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ht,{htmlFor:"categoria",children:"Categoria"}),v.jsxs($A,{value:s.categoria,onValueChange:l,children:[v.jsx(h0,{children:v.jsx(UA,{placeholder:"Selecione uma categoria"})}),v.jsx(f0,{children:n.map(d=>v.jsx(ls,{value:d,children:d},d))})]})]}),v.jsx(ji,{type:"submit",className:"w-full",children:"Adicionar"})]})},Xo=({items:t,onDelete:e,type:n,emptyMessage:r,showDeleteButton:i=!0})=>!t||t.length===0?v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v.jsx("p",{children:r||"Nenhum registro encontrado"})}):v.jsx("div",{className:"space-y-3",children:v.jsx(oy,{children:t.map(s=>v.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium",children:s.descricao}),v.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[v.jsx("span",{children:hr(new Date(s.data),"dd/MM/yyyy",{locale:Hn})}),s.categoria&&v.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-xs",children:s.categoria})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("span",{className:"font-semibold",children:["R$ ",s.valor.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),i&&v.jsx(ji,{variant:"ghost",size:"icon",onClick:()=>e(n,s.id),className:"text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-900/30",children:v.jsx(SM,{className:"h-4 w-4"})})]})]},s.id))})}),qH=["Corrida","Entrega","Gorjeta","Bônus","Outro"],YH=({ganhos:t,addGanho:e,deleteItem:n})=>v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Ph,{className:"h-6 w-6 text-green-500"}),v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Ganhos"})]}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Registre seus ganhos diários"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsx("div",{className:"md:col-span-1",children:v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Adicionar Ganho"})}),v.jsx(wt,{children:v.jsx(Jl,{onSubmit:e,type:"ganhos",categorias:qH})})]})}),v.jsx("div",{className:"md:col-span-2",children:v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Histórico de Ganhos"})}),v.jsx(wt,{children:v.jsx(Xo,{items:t,onDelete:n,type:"ganhos",emptyMessage:"Nenhum ganho registrado ainda. Adicione seu primeiro ganho!"})})]})})]})]}),QH=["Manutenção","Seguro","Limpeza","Estacionamento","Pedágio","Financiamento","Diária do Carro","Outro"],XH=["Gasolina","Álcool","Diesel","GNV","Recarga Elétrica"],JH=({despesasCarro:t,despesasCombustivel:e,addDespesaCarro:n,addDespesaCombustivel:r,deleteItem:i})=>v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Despesas do Veículo"}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Registre os gastos com seu carro e combustível"})]}),v.jsxs(Jy,{defaultValue:"carro",children:[v.jsxs(Xh,{className:"grid w-full grid-cols-2",children:[v.jsxs(wr,{value:"carro",className:"flex items-center space-x-2",children:[v.jsx(DC,{className:"h-4 w-4"}),v.jsx("span",{children:"Despesas do Carro"})]}),v.jsxs(wr,{value:"combustivel",className:"flex items-center space-x-2",children:[v.jsx(OC,{className:"h-4 w-4 mr-1"})," ",v.jsx(PM,{className:"h-4 w-4"}),v.jsx("span",{children:"Combustível / Recarga"})]})]}),v.jsx(ql,{value:"carro",className:"mt-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsx("div",{className:"md:col-span-1",children:v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Adicionar Despesa do Carro"})}),v.jsx(wt,{children:v.jsx(Jl,{onSubmit:n,type:"despesasCarro",categorias:QH})})]})}),v.jsx("div",{className:"md:col-span-2",children:v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Histórico de Despesas do Carro"})}),v.jsx(wt,{children:v.jsx(Xo,{items:t,onDelete:i,type:"despesasCarro",emptyMessage:"Nenhuma despesa do carro registrada ainda."})})]})})]})}),v.jsx(ql,{value:"combustivel",className:"mt-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsx("div",{className:"md:col-span-1",children:v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Adicionar Despesa de Combustível/Recarga"})}),v.jsx(wt,{children:v.jsx(Jl,{onSubmit:r,type:"despesasCombustivel",categorias:XH})})]})}),v.jsx("div",{className:"md:col-span-2",children:v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Histórico de Despesas de Combustível/Recarga"})}),v.jsx(wt,{children:v.jsx(Xo,{items:e,onDelete:i,type:"despesasCombustivel",emptyMessage:"Nenhuma despesa de combustível/recarga registrada ainda."})})]})})]})})]})]}),ZH=["Alimentação","Moradia","Saúde","Educação","Lazer","Vestuário","Transporte","Contas","Outro"],eG=({despesasPessoais:t,addDespesaPessoal:e,deleteItem:n})=>v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Lv,{className:"h-6 w-6 text-purple-500"}),v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Despesas Pessoais"})]}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie suas despesas pessoais e pagamentos de contas"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsx("div",{className:"md:col-span-1",children:v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Adicionar Despesa Pessoal"})}),v.jsx(wt,{children:v.jsx(Jl,{onSubmit:e,type:"despesasPessoais",categorias:ZH})})]})}),v.jsx("div",{className:"md:col-span-2",children:v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Histórico de Despesas Pessoais"})}),v.jsx(wt,{children:v.jsx(Xo,{items:t,onDelete:n,type:"despesasPessoais",emptyMessage:"Nenhuma despesa pessoal registrada ainda."})})]})})]})]}),tG=({periodoFiltro:t,setPeriodoFiltro:e,nomePeriodo:n,opcoesAdicionais:r=!1,dataEspecifica:i,setDataEspecifica:s})=>{const o=l=>{s&&s(l.target.value)},a=hr(new Date,"yyyy-MM-dd");return v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg shadow",children:[v.jsx("div",{className:"flex-1",children:v.jsxs("h2",{className:"text-xl font-semibold whitespace-nowrap text-gray-700 dark:text-gray-200",children:["Período: ",n]})}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[r&&t==="diario"&&s&&v.jsxs("div",{className:"space-y-1 w-full sm:w-auto",children:[v.jsx(Ht,{htmlFor:"data-especifica",className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Selecionar Dia"}),v.jsx(er,{id:"data-especifica",type:"date",value:i||a,onChange:o,className:"w-full sm:w-40 bg-white dark:bg-gray-700"})]}),v.jsxs("div",{className:"space-y-1 w-full sm:w-auto",children:[v.jsx(Ht,{htmlFor:"period-select",className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Filtrar Período"}),v.jsxs($A,{value:t,onValueChange:e,children:[v.jsx(h0,{id:"period-select",className:"w-full sm:w-48 bg-white dark:bg-gray-700",children:v.jsx(UA,{placeholder:"Selecione o período"})}),v.jsxs(f0,{children:[r&&v.jsx(ls,{value:"diario",children:"Diário"}),r&&v.jsx(ls,{value:"semanal",children:"Semanal (Atual)"}),v.jsx(ls,{value:"mensal",children:"Mês atual"}),v.jsx(ls,{value:"anual",children:"Ano atual"}),v.jsx(ls,{value:"geral",children:"Todo o período"})]})]})]})]})]})};var nG="Separator",PT="horizontal",rG=["horizontal","vertical"],BA=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=PT,...i}=t,s=iG(r)?r:PT,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return v.jsx(ht.div,{"data-orientation":s,...a,...i,ref:e})});BA.displayName=nG;function iG(t){return rG.includes(t)}var zA=BA;const Jo=se.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>v.jsx(zA,{ref:i,decorative:n,orientation:e,className:Re("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Jo.displayName=zA.displayName;const sG=({dados:t})=>v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Resumo Financeiro"})}),v.jsx(wt,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(Ph,{className:"h-5 w-5 text-green-500 mr-2"}),v.jsx("span",{children:"Ganhos Totais"})]}),v.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",t.totalGanhos.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx($m,{className:"h-5 w-5 text-red-500 mr-2"}),v.jsx("span",{children:"Despesas de Trabalho"})]}),v.jsxs("span",{className:"font-medium text-red-600",children:["R$ ",t.totalDespesasTrabalho.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.depositosReserva>0&&v.jsxs("div",{className:"flex justify-between items-center text-sm ml-7",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(Dl,{className:"h-4 w-4 text-teal-500 mr-1"}),v.jsx("span",{children:"(Inclui Depósitos Reserva)"})]}),v.jsxs("span",{className:"font-medium text-teal-500",children:["R$ ",t.depositosReserva.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),v.jsx(Jo,{}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"font-medium",children:"Lucro Líquido"}),v.jsxs("span",{className:`font-bold ${t.lucroLiquido>=0?"text-green-600":"text-red-600"}`,children:["R$ ",t.lucroLiquido.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx($m,{className:"h-5 w-5 text-purple-500 mr-2"}),v.jsx("span",{children:"Despesas Pessoais"})]}),v.jsxs("span",{className:"font-medium text-purple-600",children:["R$ ",t.totalDespesasPessoais.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),v.jsx(Jo,{}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"font-medium",children:"Saldo Final"}),v.jsxs("span",{className:`font-bold text-lg ${t.saldoFinal>=0?"text-green-600":"text-red-600"}`,children:["R$ ",t.saldoFinal.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})})]}),oG=({dados:t})=>{const e=t.totalDespesasCarro+t.totalDespesasCombustivel+t.totalDespesasPessoais+t.depositosReserva,n=r=>e<=0?"0%":`${r/e*100}%`;return v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Distribuição de Despesas"})}),v.jsx(wt,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx(Ht,{className:"text-sm text-muted-foreground",children:"Composição das Despesas Totais"}),v.jsxs("div",{className:"mt-2 space-y-2",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{children:"Despesas do Carro"}),v.jsxs("span",{className:"font-medium",children:["R$ ",t.totalDespesasCarro.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{children:"Despesas de Combustível"}),v.jsxs("span",{className:"font-medium",children:["R$ ",t.totalDespesasCombustivel.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{children:"Despesas Pessoais"}),v.jsxs("span",{className:"font-medium",children:["R$ ",t.totalDespesasPessoais.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.depositosReserva>0&&v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{children:"Depósitos Reserva Emerg."}),v.jsxs("span",{className:"font-medium text-teal-500",children:["R$ ",t.depositosReserva.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),v.jsx(Jo,{}),v.jsxs("div",{children:[v.jsx(Ht,{className:"text-sm text-muted-foreground",children:"Proporção de Despesas"}),v.jsx("div",{className:"mt-4 h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden flex",children:e>0&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"h-full bg-red-500",style:{width:n(t.totalDespesasCarro)},title:`Carro: ${n(t.totalDespesasCarro)}`}),v.jsx("div",{className:"h-full bg-orange-500",style:{width:n(t.totalDespesasCombustivel)},title:`Combustível: ${n(t.totalDespesasCombustivel)}`}),v.jsx("div",{className:"h-full bg-purple-500",style:{width:n(t.totalDespesasPessoais)},title:`Pessoais: ${n(t.totalDespesasPessoais)}`}),v.jsx("div",{className:"h-full bg-teal-500",style:{width:n(t.depositosReserva)},title:`Reserva: ${n(t.depositosReserva)}`})]})}),v.jsxs("div",{className:"mt-2 flex flex-wrap justify-around text-xs",children:[v.jsxs("div",{className:"flex items-center m-1",children:[v.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-1"}),v.jsx("span",{children:"Carro"})]}),v.jsxs("div",{className:"flex items-center m-1",children:[v.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full mr-1"}),v.jsx("span",{children:"Combustível"})]}),v.jsxs("div",{className:"flex items-center m-1",children:[v.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-1"}),v.jsx("span",{children:"Pessoais"})]}),v.jsxs("div",{className:"flex items-center m-1",children:[v.jsx("div",{className:"w-3 h-3 bg-teal-500 rounded-full mr-1"}),v.jsx("span",{children:"Reserva"})]})]})]}),v.jsx(Jo,{}),v.jsxs("div",{children:[v.jsx(Ht,{className:"text-sm text-muted-foreground",children:"Eficiência Financeira (Lucro Líquido / Ganhos)"}),v.jsx("div",{className:"mt-2",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{children:"Percentual de Lucro"}),v.jsx("span",{className:"font-medium",children:t.totalGanhos>0?`${(t.lucroLiquido/t.totalGanhos*100).toFixed(1)}%`:"0%"})]})})]})]})})]})},Lp=({title:t,items:e,total:n})=>v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:t})}),v.jsx(wt,{children:e&&e.length>0?v.jsxs(v.Fragment,{children:[v.jsx(Xo,{items:e,onDelete:()=>{},type:"relatorio",emptyMessage:`Nenhuma despesa de ${t.toLowerCase()} registrada para este período.`,showDeleteButton:!1}),v.jsx(Jo,{className:"my-4"}),v.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[v.jsxs("span",{children:["Total ",t]}),v.jsxs("span",{children:["R$ ",n.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}):v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v.jsxs("p",{children:["Nenhuma despesa de ",t.toLowerCase()," registrada para este período."]})})})]}),aG=({dados:t})=>v.jsxs("div",{className:"space-y-6",children:[v.jsx(Lp,{title:"Despesas do Carro",items:t.despesasCarroDetalhadas,total:t.totalDespesasCarro}),v.jsx(Lp,{title:"Despesas de Combustível",items:t.despesasCombustivelDetalhadas,total:t.totalDespesasCombustivel}),v.jsx(Lp,{title:"Despesas Pessoais",items:t.despesasPessoaisDetalhadas,total:t.totalDespesasPessoais})]}),lG=(t,e,n=null)=>{const r=n?rt(eh(n)):new Date;let i,s;switch(e){case"diario":i=zR(r),s=GR(r);break;case"semanal":i=Zy(r,{locale:Hn}),s=t0(r,{locale:Hn});break;case"mensal":i=qR(r),s=KR(r);break;case"anual":i=PB(r),s=bB(r);break;default:i=null,s=null;break}const o=a=>Array.isArray(a)?a.filter(l=>{if(!l||!l.data)return!1;const c=eh(l.data);return e0(c)?i&&s?c>=i&&c<=s:!0:!1}):[];return{ganhosFiltrados:o(t==null?void 0:t.ganhos),despesasCarroFiltradas:o(t==null?void 0:t.despesasCarro),despesasCombustivelFiltradas:o(t==null?void 0:t.despesasCombustivel),despesasPessoaisFiltradas:o(t==null?void 0:t.despesasPessoais),reservaEmergenciaFiltradas:o(t==null?void 0:t.reservaEmergencia)}},cG=(t,e=null)=>{const n=e?rt(eh(e)):new Date;if(t==="diario")return hr(n,"dd 'de' MMMM 'de' yyyy",{locale:Hn});if(t==="semanal"){const r=Zy(n,{locale:Hn}),i=t0(n,{locale:Hn});return`Semana de ${hr(r,"dd/MM")} à ${hr(i,"dd/MM/yyyy")}`}else{if(t==="mensal")return hr(n,"MMMM 'de' yyyy",{locale:Hn});if(t==="anual")return hr(n,"yyyy",{locale:Hn})}return"Todo o período"},uG=({financialData:t})=>{const[e,n]=g.useState("mensal"),[r,i]=g.useState(hr(new Date,"yyyy-MM-dd")),s=g.useMemo(()=>({ganhos:(t==null?void 0:t.ganhos)||[],despesasCarro:(t==null?void 0:t.despesasCarro)||[],despesasCombustivel:(t==null?void 0:t.despesasCombustivel)||[],despesasPessoais:(t==null?void 0:t.despesasPessoais)||[],reservaEmergencia:(t==null?void 0:t.reservaEmergencia)||[]}),[t]),o=g.useMemo(()=>{const l=e==="diario"?r:null,{ganhosFiltrados:c,despesasCarroFiltradas:d,despesasCombustivelFiltradas:h,despesasPessoaisFiltradas:f,reservaEmergenciaFiltradas:m}=lG(s,e,l),E=c.reduce((M,b)=>M+((b==null?void 0:b.valor)||0),0),w=d.reduce((M,b)=>M+((b==null?void 0:b.valor)||0),0),S=h.reduce((M,b)=>M+((b==null?void 0:b.valor)||0),0),x=f.reduce((M,b)=>M+((b==null?void 0:b.valor)||0),0),y=m.filter(M=>(M==null?void 0:M.categoria)==="Depósito").reduce((M,b)=>M+((b==null?void 0:b.valor)||0),0),T=w+S+y,I=E-T,O=I-x;return{totalGanhos:E,totalDespesasCarro:w,totalDespesasCombustivel:S,totalDespesasPessoais:x,totalDespesasTrabalho:T,lucroLiquido:I,saldoFinal:O,despesasCarroDetalhadas:d,despesasCombustivelDetalhadas:h,despesasPessoaisDetalhadas:f,depositosReserva:y}},[s,e,r]),a=cG(e,e==="diario"?r:null);return v.jsxs("div",{className:"space-y-6 p-4 md:p-6 bg-gradient-to-br from-slate-50 to-sky-100 dark:from-slate-900 dark:to-sky-900 min-h-screen",children:[v.jsxs(Je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-xl",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(NC,{className:"h-8 w-8 text-sky-600 dark:text-sky-400"}),v.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight text-slate-800 dark:text-slate-100",children:"Relatórios Financeiros"})]}),v.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Análise detalhada das suas finanças para melhores decisões."})]}),v.jsx(tG,{periodoFiltro:e,setPeriodoFiltro:n,nomePeriodo:a,opcoesAdicionais:!0,dataEspecifica:r,setDataEspecifica:i}),v.jsxs(Jy,{defaultValue:"resumo",className:"bg-white dark:bg-slate-800 p-2 sm:p-4 rounded-xl shadow-lg",children:[v.jsxs(Xh,{className:"grid w-full grid-cols-2 gap-1 bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[v.jsxs(wr,{value:"resumo",className:"flex items-center justify-center space-x-1 px-2 py-2.5 text-xs leading-tight sm:text-sm data-[state=active]:bg-sky-500 data-[state=active]:text-white dark:data-[state=active]:bg-sky-600 rounded-md transition-all",children:[v.jsx(TM,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0 mr-1 sm:mr-2"}),v.jsx("span",{className:"truncate block",children:"Resumo Financeiro"})]}),v.jsxs(wr,{value:"analiseCategorias",className:"flex items-center justify-center space-x-1 px-2 py-2.5 text-xs leading-tight sm:text-sm data-[state=active]:bg-sky-500 data-[state=active]:text-white dark:data-[state=active]:bg-sky-600 rounded-md transition-all",children:[v.jsx(mM,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0 mr-1 sm:mr-2"}),v.jsx("span",{className:"truncate block",children:"Análise Detalhada"})]})]}),v.jsx(ql,{value:"resumo",className:"mt-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsx(Je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:v.jsx(sG,{dados:o})}),v.jsx(Je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:v.jsx(oG,{dados:o})})]})}),v.jsx(ql,{value:"analiseCategorias",className:"mt-6",children:v.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:v.jsx(aG,{dados:o})})})]})]})},dG=["Depósito","Retirada"],hG=({reservaEmergencia:t,addReservaEmergencia:e,deleteItem:n})=>{const r=t||[],i=r.reduce((o,a)=>a.categoria==="Depósito"?o+a.valor:a.categoria==="Retirada"?o-a.valor:o,0),s=o=>{e(o)};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Dl,{className:"h-6 w-6 text-teal-500"}),v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Reserva de Emergência"})]}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie sua reserva para imprevistos"})]}),v.jsx(ei,{title:"Saldo da Reserva",value:i,icon:Dl,valuePrefix:"R$ ",className:"border-l-4 border-teal-500"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsx("div",{className:"md:col-span-1",children:v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Adicionar Movimentação"})}),v.jsx(wt,{children:v.jsx(Jl,{onSubmit:s,type:"reservaEmergencia",categorias:dG})})]})}),v.jsx("div",{className:"md:col-span-2",children:v.jsxs(yt,{children:[v.jsx(Ot,{children:v.jsx(Mt,{children:"Histórico de Movimentações"})}),v.jsx(wt,{children:v.jsx(Xo,{items:r,onDelete:n,type:"reservaEmergencia",emptyMessage:"Nenhuma movimentação na reserva de emergência ainda."})})]})})]})]})},fG=[{icon:wM,label:"Dashboard",path:"/"},{icon:Ph,label:"Ganhos",path:"/ganhos"},{icon:$m,label:"Despesas",path:"/despesas"},{icon:Lv,label:"Despesas Pessoais",path:"/despesas-pessoais"},{icon:Dl,label:"Reserva de Emergência",path:"/reserva-emergencia"},{icon:NC,label:"Relatórios",path:"/relatorios"}],pG=({open:t,setOpen:e})=>{const{currentUser:n}=Fs();return Hi(),n?v.jsxs(v.Fragment,{children:[v.jsx(oy,{children:t&&v.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>e(!1)})}),v.jsx(Je.aside,{initial:{x:"-100%"},animate:{x:t||window.innerWidth>=768?0:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:`fixed top-0 left-0 h-full w-64 bg-white dark:bg-gray-900 shadow-lg z-40 
                    md:sticky md:top-16 md:h-[calc(100vh-4rem)] flex-shrink-0`,children:v.jsxs("div",{className:"p-4 h-full flex flex-col",children:[t&&window.innerWidth<768&&v.jsx(ji,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 md:hidden",onClick:()=>e(!1),children:v.jsx(MC,{className:"h-5 w-5"})}),v.jsx("nav",{className:"mt-12 md:mt-6 space-y-1 flex-grow",children:fG.map(r=>v.jsxs(W2,{to:r.path,onClick:()=>{t&&window.innerWidth<768&&e(!1)},className:({isActive:i})=>`
                  flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors
                  ${i?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}
                `,children:[v.jsx(r.icon,{className:"h-5 w-5 mr-3"}),v.jsx("span",{children:r.label})]},r.path))})]})},"sidebar")]}):null},mG=({setSidebarOpen:t})=>{const{currentUser:e,logout:n}=Fs(),r=ic(),{toast:i}=oc(),s=async()=>{try{await n(),i({title:"Logout realizado",description:"Você foi desconectado com sucesso."}),r("/login")}catch(o){i({title:"Erro ao sair",description:"Não foi possível fazer logout. Tente novamente.",variant:"destructive"}),console.error("Erro no logout:",o)}};return v.jsxs(Je.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 right-0 h-16 bg-white dark:bg-gray-900 shadow-md z-50 px-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[e&&v.jsx(ji,{variant:"ghost",size:"icon",className:"md:hidden mr-2",onClick:()=>t(o=>!o),children:v.jsx(xM,{className:"h-6 w-6"})}),v.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"FinanDrive"})]}),e&&v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 hidden sm:inline",children:["Olá, ",e.email]}),v.jsx(Je.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(ji,{variant:"ghost",size:"icon",onClick:s,"aria-label":"Sair",children:v.jsx(EM,{className:"h-6 w-6 text-red-500 dark:text-red-400"})})})]})]})},gG=()=>{const[t,e]=g.useState(!1),{currentUser:n}=Fs();return n?v.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:[v.jsx(mG,{setSidebarOpen:e}),v.jsxs("div",{className:"flex flex-1 pt-16",children:[v.jsx(pG,{open:t,setOpen:e}),v.jsx("main",{className:"flex-1 md:ml-64 transition-all duration-300 ease-in-out overflow-y-auto",children:v.jsx("div",{className:"p-4 md:p-6 w-full",children:v.jsx(Je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"w-full",children:v.jsx(XS,{})})})})]})]}):null},vG=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[i,s]=g.useState(""),[o,a]=g.useState(!1),{login:l}=Fs(),c=ic(),{toast:d}=oc(),h=async f=>{f.preventDefault(),s(""),a(!0);try{await l(t,n),d({title:"Login bem-sucedido!",description:"Bem-vindo de volta!"}),c("/")}catch(m){s("Falha ao fazer login. Verifique seu e-mail e senha."),d({title:"Erro no Login",description:"Falha ao fazer login. Verifique seu e-mail e senha.",variant:"destructive"}),console.error("Erro no login:",m)}a(!1)};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-100 to-indigo-200 dark:from-slate-900 dark:to-indigo-900 p-4",children:v.jsx(Je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:v.jsxs(yt,{className:"w-full max-w-md shadow-2xl",children:[v.jsxs(Ot,{className:"text-center",children:[v.jsx(Je.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:v.jsx(_M,{className:"mx-auto h-16 w-16 text-sky-600 dark:text-sky-400 mb-4"})}),v.jsx(Mt,{className:"text-3xl font-bold",children:"Bem-vindo de Volta!"}),v.jsx(Yy,{children:"Faça login para acessar seu painel FinanDrive."})]}),v.jsxs(wt,{children:[i&&v.jsx("p",{className:"mb-4 text-center text-red-500 bg-red-100 dark:bg-red-900/30 p-3 rounded-md",children:i}),v.jsxs("form",{onSubmit:h,className:"space-y-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ht,{htmlFor:"email",children:"Email"}),v.jsx(er,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:f=>e(f.target.value),required:!0,className:"text-base"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ht,{htmlFor:"password",children:"Senha"}),v.jsx(er,{id:"password",type:"password",placeholder:"Sua senha",value:n,onChange:f=>r(f.target.value),required:!0,className:"text-base"})]}),v.jsx(ji,{type:"submit",className:"w-full text-lg py-6",disabled:o,children:o?"Entrando...":"Entrar"})]})]}),v.jsx(Qy,{className:"flex flex-col items-center space-y-2",children:v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Não tem uma conta?"," ",v.jsx(Iv,{to:"/register",className:"font-semibold text-sky-600 hover:text-sky-500 dark:text-sky-400 dark:hover:text-sky-300",children:"Registre-se"})]})})]})})})},yG=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[i,s]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState(!1),{register:d}=Fs(),h=ic(),{toast:f}=oc(),m=async E=>{if(E.preventDefault(),n!==i){a("As senhas não coincidem."),f({title:"Erro de Registro",description:"As senhas não coincidem.",variant:"destructive"});return}a(""),c(!0);try{await d(t,n),f({title:"Registro bem-sucedido!",description:"Sua conta foi criada. Faça login para continuar."}),h("/login")}catch(w){a("Falha ao criar conta. O e-mail pode já estar em uso ou a senha é muito fraca."),f({title:"Erro de Registro",description:"Falha ao criar conta. Verifique os dados ou tente um e-mail diferente.",variant:"destructive"}),console.error("Erro no registro:",w)}c(!1)};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-100 to-indigo-200 dark:from-slate-900 dark:to-indigo-900 p-4",children:v.jsx(Je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:v.jsxs(yt,{className:"w-full max-w-md shadow-2xl",children:[v.jsxs(Ot,{className:"text-center",children:[v.jsx(Je.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:v.jsx(CM,{className:"mx-auto h-16 w-16 text-sky-600 dark:text-sky-400 mb-4"})}),v.jsx(Mt,{className:"text-3xl font-bold",children:"Crie sua Conta"}),v.jsx(Yy,{children:"Junte-se ao FinanDrive e gerencie suas finanças."})]}),v.jsxs(wt,{children:[o&&v.jsx("p",{className:"mb-4 text-center text-red-500 bg-red-100 dark:bg-red-900/30 p-3 rounded-md",children:o}),v.jsxs("form",{onSubmit:m,className:"space-y-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ht,{htmlFor:"email",children:"Email"}),v.jsx(er,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:E=>e(E.target.value),required:!0,className:"text-base"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ht,{htmlFor:"password",children:"Senha"}),v.jsx(er,{id:"password",type:"password",placeholder:"Crie uma senha (mín. 6 caracteres)",value:n,onChange:E=>r(E.target.value),required:!0,className:"text-base"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ht,{htmlFor:"confirm-password",children:"Confirmar Senha"}),v.jsx(er,{id:"confirm-password",type:"password",placeholder:"Confirme sua senha",value:i,onChange:E=>s(E.target.value),required:!0,className:"text-base"})]}),v.jsx(ji,{type:"submit",className:"w-full text-lg py-6",disabled:l,children:l?"Registrando...":"Registrar"})]})]}),v.jsx(Qy,{className:"flex flex-col items-center space-y-2",children:v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Já tem uma conta?"," ",v.jsx(Iv,{to:"/login",className:"font-semibold text-sky-600 hover:text-sky-500 dark:text-sky-400 dark:hover:text-sky-300",children:"Faça Login"})]})})]})})})},wG=()=>{const{currentUser:t,loading:e}=Fs();return e?v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:v.jsx("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:v.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200",children:"Carregando..."})})}):t?v.jsx(XS,{}):v.jsx(QS,{to:"/login",replace:!0})},_G=()=>{const{currentUser:t,loading:e}=Fs(),[n,r]=g.useState(()=>{try{const f=localStorage.getItem("financialData"),m=f?JSON.parse(f):{};return{ganhos:Array.isArray(m.ganhos)?m.ganhos:[],despesasCarro:Array.isArray(m.despesasCarro)?m.despesasCarro:[],despesasCombustivel:Array.isArray(m.despesasCombustivel)?m.despesasCombustivel:[],despesasPessoais:Array.isArray(m.despesasPessoais)?m.despesasPessoais:[],reservaEmergencia:Array.isArray(m.reservaEmergencia)?m.reservaEmergencia:[]}}catch(f){return console.error("Erro ao carregar dados do localStorage:",f),{ganhos:[],despesasCarro:[],despesasCombustivel:[],despesasPessoais:[],reservaEmergencia:[]}}});g.useEffect(()=>{if(t)try{localStorage.setItem("financialData",JSON.stringify(n))}catch(f){console.error("Erro ao salvar dados no localStorage:",f)}},[n,t]);const i=g.useCallback((f,m)=>{r(E=>({...E,[f]:[...E[f]||[],m]}))},[]),s=g.useCallback(f=>i("ganhos",f),[i]),o=g.useCallback(f=>i("despesasCarro",f),[i]),a=g.useCallback(f=>i("despesasCombustivel",f),[i]),l=g.useCallback(f=>i("despesasPessoais",f),[i]),c=g.useCallback(f=>i("reservaEmergencia",f),[i]),d=g.useCallback((f,m)=>{r(E=>!E[f]||!Array.isArray(E[f])?(console.warn(`Tentativa de deletar item de um tipo não existente ou inválido: ${f}`),E):{...E,[f]:E[f].filter(w=>w&&w.id!==m)})},[]),h=Hi();return e?v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:v.jsx("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:v.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200",children:"Carregando Aplicação..."})})}):v.jsxs(v.Fragment,{children:[v.jsx(oy,{mode:"wait",children:v.jsxs(D2,{location:h,children:[v.jsx(mn,{path:"/login",element:v.jsx(vG,{})}),v.jsx(mn,{path:"/register",element:v.jsx(yG,{})}),v.jsx(mn,{element:v.jsx(wG,{}),children:v.jsxs(mn,{path:"/",element:v.jsx(gG,{}),children:[v.jsx(mn,{index:!0,element:v.jsx(O7,{financialData:n})}),v.jsx(mn,{path:"ganhos",element:v.jsx(YH,{ganhos:n.ganhos,addGanho:s,deleteItem:d})}),v.jsx(mn,{path:"despesas",element:v.jsx(JH,{despesasCarro:n.despesasCarro,despesasCombustivel:n.despesasCombustivel,addDespesaCarro:o,addDespesaCombustivel:a,deleteItem:d})}),v.jsx(mn,{path:"despesas-pessoais",element:v.jsx(eG,{despesasPessoais:n.despesasPessoais,addDespesaPessoal:l,deleteItem:d})}),v.jsx(mn,{path:"reserva-emergencia",element:v.jsx(hG,{reservaEmergencia:n.reservaEmergencia,addReservaEmergencia:c,deleteItem:d})}),v.jsx(mn,{path:"relatorios",element:v.jsx(uG,{financialData:n})}),v.jsx(mn,{path:"*",element:v.jsx(QS,{to:"/",replace:!0})})]})})]},h.pathname)}),v.jsx(OM,{})]})},EG=()=>v.jsx(_R,{children:v.jsx(_G,{})});jp.createRoot(document.getElementById("root")).render(v.jsx(se.StrictMode,{children:v.jsx(U2,{children:v.jsx(_R,{children:v.jsx(EG,{})})})}));
